(function(){"use strict";let y,B=0,Ut=null;function Tn(){return(Ut===null||Ut.byteLength===0)&&(Ut=new Uint8Array(y.memory.buffer)),Ut}const Pn=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Sc=typeof Pn.encodeInto=="function"?function(e,t){return Pn.encodeInto(e,t)}:function(e,t){const n=Pn.encode(e);return t.set(n),{read:e.length,written:n.length}};function U(e,t,n){if(n===void 0){const c=Pn.encode(e),d=t(c.length,1)>>>0;return Tn().subarray(d,d+c.length).set(c),B=c.length,d}let r=e.length,i=t(r,1)>>>0;const o=Tn();let s=0;for(;s<r;s++){const c=e.charCodeAt(s);if(c>127)break;o[i+s]=c}if(s!==r){s!==0&&(e=e.slice(s)),i=n(i,r,r=s+e.length*3,1)>>>0;const c=Tn().subarray(i+s,i+r),d=Sc(e,c);s+=d.written,i=n(i,r,s,1)>>>0}return B=s,i}function I(e){return e==null}let lt=null;function M(){return(lt===null||lt.buffer.detached===!0||lt.buffer.detached===void 0&&lt.buffer!==y.memory.buffer)&&(lt=new DataView(y.memory.buffer)),lt}const oo=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&oo.decode();function A(e,t){return e=e>>>0,oo.decode(Tn().subarray(e,e+t))}function Fr(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let o="[";i>0&&(o+=Fr(e[0]));for(let s=1;s<i;s++)o+=", "+Fr(e[s]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}const kn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{y.__wbindgen_export_3.get(e.dtor)(e.a,e.b)});function Jt(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...s)=>{i.cnt++;try{return r(i.a,i.b,...s)}finally{--i.cnt===0&&(y.__wbindgen_export_3.get(i.dtor)(i.a,i.b),i.a=0,kn.unregister(i))}};return o.original=i,kn.register(o,i,i),o}function Xt(e,t,n){y.closure1789_externref_shim(e,t,n)}function Ce(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...s)=>{i.cnt++;const c=i.a;i.a=0;try{return r(c,i.b,...s)}finally{--i.cnt===0?(y.__wbindgen_export_3.get(i.dtor)(c,i.b),kn.unregister(i)):i.a=c}};return o.original=i,kn.register(o,i,i),o}function so(e,t){y._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h24910de1386be470(e,t)}function Qe(e,t,n){y.closure2443_externref_shim(e,t,n)}function co(e,t,n,r){y.closure2453_externref_shim(e,t,n,r)}function V(e){const t=y.__externref_table_alloc();return y.__wbindgen_export_2.set(t,e),t}function k(e,t){try{return e.apply(this,t)}catch(n){const r=V(n);y.__wbindgen_exn_store(r)}}function Ye(e){const t=y.__wbindgen_export_2.get(e);return y.__externref_table_dealloc(e),t}function Cc(e,t,n,r){const i=y.create(e,t,n,r);if(i[2])throw Ye(i[1]);return Lr.__wrap(i[0])}function Ir(e){return()=>{throw new Error(`${e} is not defined`)}}let Qt=null;function qc(){return(Qt===null||Qt.byteLength===0)&&(Qt=new Float32Array(y.memory.buffer)),Qt}function Sn(e,t){return e=e>>>0,qc().subarray(e/4,e/4+t)}const Mc=["border-box","content-box","device-pixel-content-box"],Ec=["hidden","visible"],ao=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>y.__wbg_previewconnector_free(e>>>0,1));class Ar{static __wrap(t){t=t>>>0;const n=Object.create(Ar.prototype);return n.__wbg_ptr=t,ao.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ao.unregister(this),t}free(){const t=this.__destroy_into_raw();y.__wbg_previewconnector_free(t,0)}static create(t,n,r,i){const o=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),s=B,c=y.previewconnector_create(t,n,o,s,i);if(c[2])throw Ye(c[1]);return Ye(c[0])}current_style(){return y.previewconnector_current_style(this.__wbg_ptr)}show_ui(){const t=y.previewconnector_show_ui(this.__wbg_ptr);if(t[2])throw Ye(t[1]);return Ye(t[0])}process_lsp_to_preview_message(t){const n=y.previewconnector_process_lsp_to_preview_message(this.__wbg_ptr,t);if(n[1])throw Ye(n[0])}}const uo=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>y.__wbg_slintserver_free(e>>>0,1));class Lr{static __wrap(t){t=t>>>0;const n=Object.create(Lr.prototype);return n.__wbg_ptr=t,uo.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,uo.unregister(this),t}free(){const t=this.__destroy_into_raw();y.__wbg_slintserver_free(t,0)}process_preview_to_lsp_message(t){return y.slintserver_process_preview_to_lsp_message(this.__wbg_ptr,t)}server_initialize_result(t){const n=y.slintserver_server_initialize_result(this.__wbg_ptr,t);if(n[2])throw Ye(n[1]);return Ye(n[0])}startup_lsp(){return y.slintserver_startup_lsp(this.__wbg_ptr)}trigger_file_watcher(t){return y.slintserver_trigger_file_watcher(this.__wbg_ptr,t)}open_document(t,n,r){const i=U(t,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;return y.slintserver_open_document(this.__wbg_ptr,i,o,n,r)}reload_document(t,n,r){const i=U(t,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;return y.slintserver_reload_document(this.__wbg_ptr,i,o,n,r)}close_document(t){return y.slintserver_close_document(this.__wbg_ptr,t)}handle_request(t,n,r){const i=U(n,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;return y.slintserver_handle_request(this.__wbg_ptr,t,i,o,r)}reload_config(){return y.slintserver_reload_config(this.__wbg_ptr)}}async function Oc(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Nc(){const e={};return e.wbg={},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},e.wbg.__wbg_stack_658279fe44541cf6=function(t,n){const r=n.stack,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_error_f851667af71bcfc6=function(t,n){let r,i;try{r=t,i=n,console.error(A(t,n))}finally{y.__wbindgen_free(r,i,1)}},e.wbg.__wbg_width_fa277b4243adaabb=function(t){return t.width},e.wbg.__wbg_height_250d8ced017769f8=function(t){return t.height},e.wbg.__wbg_createTexture_01a5bbc5d52164d2=function(t){const n=t.createTexture();return I(n)?0:V(n)},e.wbg.__wbg_createTexture_3ebc81a77f42cd4b=function(t){const n=t.createTexture();return I(n)?0:V(n)},e.wbg.__wbg_getError_919f5a6e84ab2e46=function(t){return t.getError()},e.wbg.__wbg_getError_8ad2027c9905d389=function(t){return t.getError()},e.wbg.__wbg_createFramebuffer_982db8b568b3eca9=function(t){const n=t.createFramebuffer();return I(n)?0:V(n)},e.wbg.__wbg_createFramebuffer_ad461f789f313e65=function(t){const n=t.createFramebuffer();return I(n)?0:V(n)},e.wbg.__wbg_framebufferTexture2D_8edd7a84454a0f67=function(t,n,r,i,o,s){t.framebufferTexture2D(n>>>0,r>>>0,i>>>0,o,s)},e.wbg.__wbg_framebufferTexture2D_d190f9f327cc46ec=function(t,n,r,i,o,s){t.framebufferTexture2D(n>>>0,r>>>0,i>>>0,o,s)},e.wbg.__wbg_createRenderbuffer_99bf5d848bb24276=function(t){const n=t.createRenderbuffer();return I(n)?0:V(n)},e.wbg.__wbg_createRenderbuffer_fd9d446bba29f340=function(t){const n=t.createRenderbuffer();return I(n)?0:V(n)},e.wbg.__wbg_renderbufferStorage_cf618d17929fccad=function(t,n,r,i,o){t.renderbufferStorage(n>>>0,r>>>0,i,o)},e.wbg.__wbg_renderbufferStorage_822379366751a4aa=function(t,n,r,i,o){t.renderbufferStorage(n>>>0,r>>>0,i,o)},e.wbg.__wbg_framebufferRenderbuffer_a2b559ae4519abb6=function(t,n,r,i,o){t.framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,o)},e.wbg.__wbg_framebufferRenderbuffer_b3aa0a942c6bdcc5=function(t,n,r,i,o){t.framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,o)},e.wbg.__wbg_checkFramebufferStatus_3979a8b436f64263=function(t,n){return t.checkFramebufferStatus(n>>>0)},e.wbg.__wbg_checkFramebufferStatus_189b82149860ff63=function(t,n){return t.checkFramebufferStatus(n>>>0)},e.wbg.__wbg_scissor_f1b8dd095e3fa77a=function(t,n,r,i,o){t.scissor(n,r,i,o)},e.wbg.__wbg_scissor_3cdd53b98aa49fb5=function(t,n,r,i,o){t.scissor(n,r,i,o)},e.wbg.__wbg_clearColor_f7a4d2d6a8d8cdf6=function(t,n,r,i,o){t.clearColor(n,r,i,o)},e.wbg.__wbg_clearColor_0af942e0c8c453eb=function(t,n,r,i,o){t.clearColor(n,r,i,o)},e.wbg.__wbg_clear_c5af939d0a44a025=function(t,n){t.clear(n>>>0)},e.wbg.__wbg_clear_678615798766f804=function(t,n){t.clear(n>>>0)},e.wbg.__wbg_uniform4fv_a4022bbb233e7635=function(t,n,r,i){t.uniform4fv(n,Sn(r,i))},e.wbg.__wbg_uniform4fv_b355da0bf0a80967=function(t,n,r,i){t.uniform4fv(n,Sn(r,i))},e.wbg.__wbg_deleteTexture_f72079e46289ccf8=function(t,n){t.deleteTexture(n)},e.wbg.__wbg_deleteTexture_05e26b0508f0589d=function(t,n){t.deleteTexture(n)},e.wbg.__wbg_createProgram_1510c4697aed8d2f=function(t){const n=t.createProgram();return I(n)?0:V(n)},e.wbg.__wbg_createProgram_48b8a105fd0cfb35=function(t){const n=t.createProgram();return I(n)?0:V(n)},e.wbg.__wbg_attachShader_4a6cb7b86d7531b8=function(t,n,r){t.attachShader(n,r)},e.wbg.__wbg_attachShader_299671ccaa78592c=function(t,n,r){t.attachShader(n,r)},e.wbg.__wbg_bindAttribLocation_5f1fbf398e621d36=function(t,n,r,i,o){t.bindAttribLocation(n,r>>>0,A(i,o))},e.wbg.__wbg_bindAttribLocation_76abc768e01a6a90=function(t,n,r,i,o){t.bindAttribLocation(n,r>>>0,A(i,o))},e.wbg.__wbg_linkProgram_b4246295077a3859=function(t,n){t.linkProgram(n)},e.wbg.__wbg_linkProgram_983c5972b815b0de=function(t,n){t.linkProgram(n)},e.wbg.__wbg_getProgramParameter_2fc04fee21ea5036=function(t,n,r){return t.getProgramParameter(n,r>>>0)},e.wbg.__wbg_getProgramParameter_4c981ddc3b62dda8=function(t,n,r){return t.getProgramParameter(n,r>>>0)},e.wbg.__wbindgen_boolean_get=function(t){const n=t;return typeof n=="boolean"?n?1:0:2},e.wbg.__wbg_detachShader_11435bbfadd38efd=function(t,n,r){t.detachShader(n,r)},e.wbg.__wbg_detachShader_edfa1d6365e56336=function(t,n,r){t.detachShader(n,r)},e.wbg.__wbg_getProgramInfoLog_2ebf87ded3a93ef1=function(t,n,r){const i=n.getProgramInfoLog(r);var o=I(i)?0:U(i,y.__wbindgen_malloc,y.__wbindgen_realloc),s=B;M().setInt32(t+4*1,s,!0),M().setInt32(t+4*0,o,!0)},e.wbg.__wbg_getProgramInfoLog_16c69289b6a9c98e=function(t,n,r){const i=n.getProgramInfoLog(r);var o=I(i)?0:U(i,y.__wbindgen_malloc,y.__wbindgen_realloc),s=B;M().setInt32(t+4*1,s,!0),M().setInt32(t+4*0,o,!0)},e.wbg.__wbg_createShader_3edd95eb001d29c9=function(t,n){const r=t.createShader(n>>>0);return I(r)?0:V(r)},e.wbg.__wbg_createShader_f956a5ec67a77964=function(t,n){const r=t.createShader(n>>>0);return I(r)?0:V(r)},e.wbg.__wbg_shaderSource_f8f569556926b597=function(t,n,r,i){t.shaderSource(n,A(r,i))},e.wbg.__wbg_shaderSource_c36f18b5114855e7=function(t,n,r,i){t.shaderSource(n,A(r,i))},e.wbg.__wbg_compileShader_48a677cac607634b=function(t,n){t.compileShader(n)},e.wbg.__wbg_compileShader_9680f4f1d833586c=function(t,n){t.compileShader(n)},e.wbg.__wbg_getShaderParameter_e5207a499ce4b3a1=function(t,n,r){return t.getShaderParameter(n,r>>>0)},e.wbg.__wbg_getShaderParameter_e21fb00f8255b86b=function(t,n,r){return t.getShaderParameter(n,r>>>0)},e.wbg.__wbg_getShaderInfoLog_eabc357ae8803006=function(t,n,r){const i=n.getShaderInfoLog(r);var o=I(i)?0:U(i,y.__wbindgen_malloc,y.__wbindgen_realloc),s=B;M().setInt32(t+4*1,s,!0),M().setInt32(t+4*0,o,!0)},e.wbg.__wbg_getShaderInfoLog_afb2baaac4baaff5=function(t,n,r){const i=n.getShaderInfoLog(r);var o=I(i)?0:U(i,y.__wbindgen_malloc,y.__wbindgen_realloc),s=B;M().setInt32(t+4*1,s,!0),M().setInt32(t+4*0,o,!0)},e.wbg.__wbg_uniform2fv_9a442fc12ac6908d=function(t,n,r,i){t.uniform2fv(n,Sn(r,i))},e.wbg.__wbg_uniform2fv_ee34c52d95d497de=function(t,n,r,i){t.uniform2fv(n,Sn(r,i))},e.wbg.__wbg_deleteFramebuffer_3b2693a1a495f793=function(t,n){t.deleteFramebuffer(n)},e.wbg.__wbg_deleteFramebuffer_a7d2812b702a9416=function(t,n){t.deleteFramebuffer(n)},e.wbg.__wbg_deleteRenderbuffer_b7ef144995140813=function(t,n){t.deleteRenderbuffer(n)},e.wbg.__wbg_deleteRenderbuffer_fe2288d56301005f=function(t,n){t.deleteRenderbuffer(n)},e.wbg.__wbg_deleteShader_a49077cc02f9d75c=function(t,n){t.deleteShader(n)},e.wbg.__wbg_deleteShader_c65ef8df50ff2e29=function(t,n){t.deleteShader(n)},e.wbg.__wbg_deleteProgram_16d8257cfae7ddbe=function(t,n){t.deleteProgram(n)},e.wbg.__wbg_deleteProgram_ef8d37545b8ab3ce=function(t,n){t.deleteProgram(n)},e.wbg.__wbg_useProgram_8232847dbf97643a=function(t,n){t.useProgram(n)},e.wbg.__wbg_useProgram_0f0a7b123a5eba79=function(t,n){t.useProgram(n)},e.wbg.__wbg_bindBuffer_70e5a7ef4920142a=function(t,n,r){t.bindBuffer(n>>>0,r)},e.wbg.__wbg_bindBuffer_87bece1307f4836f=function(t,n,r){t.bindBuffer(n>>>0,r)},e.wbg.__wbg_bindFramebuffer_21286675ec02dcb0=function(t,n,r){t.bindFramebuffer(n>>>0,r)},e.wbg.__wbg_bindFramebuffer_b9be4c8bf236f0e8=function(t,n,r){t.bindFramebuffer(n>>>0,r)},e.wbg.__wbg_bindRenderbuffer_b5a39364d07f8f0e=function(t,n,r){t.bindRenderbuffer(n>>>0,r)},e.wbg.__wbg_bindRenderbuffer_c0813f918b791132=function(t,n,r){t.bindRenderbuffer(n>>>0,r)},e.wbg.__wbg_bindVertexArray_9971ca458d8940ea=function(t,n){t.bindVertexArray(n)},e.wbg.__wbg_bindVertexArrayOES_f7ae803496f6f82f=function(t,n){t.bindVertexArrayOES(n)},e.wbg.__wbg_pixelStorei_86e41250cf27c77f=function(t,n,r){t.pixelStorei(n>>>0,r)},e.wbg.__wbg_pixelStorei_1077f1f904f1a03d=function(t,n,r){t.pixelStorei(n>>>0,r)},e.wbg.__wbg_disable_a342a9330a0cd452=function(t,n){t.disable(n>>>0)},e.wbg.__wbg_disable_d0317155c2bda795=function(t,n){t.disable(n>>>0)},e.wbg.__wbg_disableVertexAttribArray_636452904a337436=function(t,n){t.disableVertexAttribArray(n>>>0)},e.wbg.__wbg_disableVertexAttribArray_58aa0d2748ca82d4=function(t,n){t.disableVertexAttribArray(n>>>0)},e.wbg.__wbg_drawArrays_bb3d6e0af7dcb469=function(t,n,r,i){t.drawArrays(n>>>0,r,i)},e.wbg.__wbg_drawArrays_af53529e509d0c8b=function(t,n,r,i){t.drawArrays(n>>>0,r,i)},e.wbg.__wbg_enable_d120ad9b31220426=function(t,n){t.enable(n>>>0)},e.wbg.__wbg_enable_b73a997042de6e09=function(t,n){t.enable(n>>>0)},e.wbg.__wbg_enableVertexAttribArray_a12ed0a684959868=function(t,n){t.enableVertexAttribArray(n>>>0)},e.wbg.__wbg_enableVertexAttribArray_08b992ae13fe30a9=function(t,n){t.enableVertexAttribArray(n>>>0)},e.wbg.__wbg_getUniformLocation_f600c2277dd826b4=function(t,n,r,i){const o=t.getUniformLocation(n,A(r,i));return I(o)?0:V(o)},e.wbg.__wbg_getUniformLocation_74149153bba4c4cb=function(t,n,r,i){const o=t.getUniformLocation(n,A(r,i));return I(o)?0:V(o)},e.wbg.__wbg_generateMipmap_952d412cb9b50adb=function(t,n){t.generateMipmap(n>>>0)},e.wbg.__wbg_generateMipmap_eed46cfd38713244=function(t,n){t.generateMipmap(n>>>0)},e.wbg.__wbg_texImage2D_12005a1c57d665bb=function(){return k(function(t,n,r,i,o,s,c,d,f,g){t.texImage2D(n>>>0,r,i,o,s,c,d>>>0,f>>>0,g)},arguments)},e.wbg.__wbg_texImage2D_05363c5a13ee70f9=function(){return k(function(t,n,r,i,o,s,c,d,f,g){t.texImage2D(n>>>0,r,i,o,s,c,d>>>0,f>>>0,g)},arguments)},e.wbg.__wbg_uniform1i_55c667a20431c589=function(t,n,r){t.uniform1i(n,r)},e.wbg.__wbg_uniform1i_b7abcc7b3b4aee52=function(t,n,r){t.uniform1i(n,r)},e.wbg.__wbg_colorMask_f1fbf32fb9ff5f55=function(t,n,r,i,o){t.colorMask(n!==0,r!==0,i!==0,o!==0)},e.wbg.__wbg_colorMask_88c579e312b0fdcf=function(t,n,r,i,o){t.colorMask(n!==0,r!==0,i!==0,o!==0)},e.wbg.__wbg_bindTexture_78210066cfdda8ac=function(t,n,r){t.bindTexture(n>>>0,r)},e.wbg.__wbg_bindTexture_578ab0356afb56df=function(t,n,r){t.bindTexture(n>>>0,r)},e.wbg.__wbg_activeTexture_b0bb95e7b2c13666=function(t,n){t.activeTexture(n>>>0)},e.wbg.__wbg_activeTexture_a2e9931456fe92b4=function(t,n){t.activeTexture(n>>>0)},e.wbg.__wbg_texParameteri_72793934be86cdcf=function(t,n,r,i){t.texParameteri(n>>>0,r>>>0,i)},e.wbg.__wbg_texParameteri_a73df30f47a92fec=function(t,n,r,i){t.texParameteri(n>>>0,r>>>0,i)},e.wbg.__wbg_texSubImage2D_e784b7363b6c212d=function(){return k(function(t,n,r,i,o,s,c,d,f,g){t.texSubImage2D(n>>>0,r,i,o,s,c,d>>>0,f>>>0,g)},arguments)},e.wbg.__wbg_texSubImage2D_97bed542c038dfb5=function(){return k(function(t,n,r,i,o,s,c,d,f,g){t.texSubImage2D(n>>>0,r,i,o,s,c,d>>>0,f>>>0,g)},arguments)},e.wbg.__wbg_texSubImage2D_74255449b4229fd1=function(){return k(function(t,n,r,i,o,s,c,d,f,g){t.texSubImage2D(n>>>0,r,i,o,s,c,d>>>0,f>>>0,g)},arguments)},e.wbg.__wbg_vertexAttribPointer_6e1de5dfe082f820=function(t,n,r,i,o,s,c){t.vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,c)},e.wbg.__wbg_vertexAttribPointer_f602d22ecb0758f6=function(t,n,r,i,o,s,c){t.vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,c)},e.wbg.__wbg_viewport_567a7a444dd3650b=function(t,n,r,i,o){t.viewport(n,r,i,o)},e.wbg.__wbg_viewport_e333f63662d91f3a=function(t,n,r,i,o){t.viewport(n,r,i,o)},e.wbg.__wbg_stencilFunc_19e45bfa3b646cb4=function(t,n,r,i){t.stencilFunc(n>>>0,r,i>>>0)},e.wbg.__wbg_stencilFunc_9755bd9ceb43c567=function(t,n,r,i){t.stencilFunc(n>>>0,r,i>>>0)},e.wbg.__wbg_stencilMask_90c593098dd34f2c=function(t,n){t.stencilMask(n>>>0)},e.wbg.__wbg_stencilMask_87e5dfdb3daacf5d=function(t,n){t.stencilMask(n>>>0)},e.wbg.__wbg_stencilOp_ba5aafe2312aa37f=function(t,n,r,i){t.stencilOp(n>>>0,r>>>0,i>>>0)},e.wbg.__wbg_stencilOp_07a3cea28f93a5ef=function(t,n,r,i){t.stencilOp(n>>>0,r>>>0,i>>>0)},e.wbg.__wbg_stencilOpSeparate_86845a9132af3755=function(t,n,r,i,o){t.stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_stencilOpSeparate_14c4ac8259d6ae13=function(t,n,r,i,o){t.stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_devicePixelRatio_5d0556383aa83231=function(t){return t.devicePixelRatio},e.wbg.__wbg_document_d7fa2c739c2b191a=function(t){const n=t.document;return I(n)?0:V(n)},e.wbg.__wbg_getElementById_734c4eac4fec5911=function(t,n,r){const i=t.getElementById(A(n,r));return I(i)?0:V(i)},e.wbg.__wbg_instanceof_HtmlCanvasElement_022ad88c76df9031=function(t){let n;try{n=t instanceof HTMLCanvasElement}catch{n=!1}return n},e.wbg.__wbg_setwidth_23bf2deedd907275=function(t,n){t.width=n>>>0},e.wbg.__wbg_setheight_239dc283bbe50da4=function(t,n){t.height=n>>>0},e.wbg.__wbg_clientWidth_600f98ddd2b6cb36=function(t){return t.clientWidth},e.wbg.__wbg_clientHeight_0f17075303285b38=function(t){return t.clientHeight},e.wbg.__wbg_dataset_e8e36b265ce09deb=function(t){return t.dataset},e.wbg.__wbg_get_3377379aa30c85ec=function(t,n,r,i){const o=n[A(r,i)];var s=I(o)?0:U(o,y.__wbindgen_malloc,y.__wbindgen_realloc),c=B;M().setInt32(t+4*1,c,!0),M().setInt32(t+4*0,s,!0)},e.wbg.__wbg_instanceof_HtmlInputElement_ee25196edbacced9=function(t){let n;try{n=t instanceof HTMLInputElement}catch{n=!1}return n},e.wbg.__wbg_style_04eb1488bc2ceffc=function(t){return t.style},e.wbg.__wbg_offsetLeft_4d7217c1790c626d=function(t){return t.offsetLeft},e.wbg.__wbg_offsetTop_b9521f886d70cd98=function(t){return t.offsetTop},e.wbg.__wbg_offsetWidth_89def7e048702666=function(t){return t.offsetWidth},e.wbg.__wbg_offsetHeight_340d7c3867e97c4e=function(t){return t.offsetHeight},e.wbg.__wbg_before_3350442e02ed9f52=function(){return k(function(t,n){t.before(n)},arguments)},e.wbg.__wbg_setvalue_36bcf6f86c998f0a=function(t,n,r){t.value=A(n,r)},e.wbg.__wbg_data_12d786b81b474bc2=function(t,n){const r=n.data;var i=I(r)?0:U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_isComposing_67ecb026b0e0555e=function(t){return t.isComposing},e.wbg.__wbg_inputType_50d7c5ad0f77edcf=function(t,n){const r=n.inputType,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_preventDefault_eecc4a63e64c4526=function(t){t.preventDefault()},e.wbg.__wbg_isComposing_527cd20b8f4c31d2=function(t){return t.isComposing},e.wbg.__wbg_key_001eb20ba3b3d2fd=function(t,n){const r=n.key,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_shiftKey_cb120edc9c25950d=function(t){return t.shiftKey},e.wbg.__wbg_ctrlKey_f592192d87040d94=function(t){return t.ctrlKey},e.wbg.__wbg_altKey_ebf03e2308f51c08=function(t){return t.altKey},e.wbg.__wbg_getModifierState_045478d9121e762a=function(t,n,r){return t.getModifierState(A(n,r))},e.wbg.__wbg_repeat_1f81f308f5d8d519=function(t){return t.repeat},e.wbg.__wbg_clipboardData_6c07151d2898ce82=function(t){const n=t.clipboardData;return I(n)?0:V(n)},e.wbg.__wbg_getData_d687ebb5e1da9d6e=function(){return k(function(t,n,r,i){const o=n.getData(A(r,i)),s=U(o,y.__wbindgen_malloc,y.__wbindgen_realloc),c=B;M().setInt32(t+4*1,c,!0),M().setInt32(t+4*0,s,!0)},arguments)},e.wbg.__wbg_new0_218ada33b570be35=function(){return new Date},e.wbg.__wbg_getTime_41225036a0393d63=function(t){return t.getTime()},e.wbg.__wbindgen_number_new=function(t){return t},e.wbg.__wbg_new_6fb55f037293191b=function(t){return new Date(t)},e.wbg.__wbg_getTimezoneOffset_93f7d384c8ade3be=function(t){return t.getTimezoneOffset()},e.wbg.__wbg_naturalWidth_0d51c4a40cefbf30=function(t){return t.naturalWidth},e.wbg.__wbg_naturalHeight_c510873b8c64ff89=function(t){return t.naturalHeight},e.wbg.__wbg_currentSrc_39f8535810de7173=function(t,n){const r=n.currentSrc,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_log_2f54632e0e18c089=function(t,n){console.log(A(t,n))},e.wbg.__wbg_src_faab1e2fccebe5eb=function(t,n){const r=n.src,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_new_b5bf9532bd5c97fd=function(){return k(function(){return new Image},arguments)},e.wbg.__wbg_setcrossOrigin_cc6ace96b7ed0bf4=function(t,n,r){t.crossOrigin=n===0?void 0:A(n,r)},e.wbg.__wbg_setonload_c44788491be30c5c=function(t,n){t.onload=n},e.wbg.__wbg_setsrc_feb07d9d5b693db7=function(t,n,r){t.src=A(n,r)},e.wbg.__wbg_cullFace_e6b0b54ef3b7307c=function(t,n){t.cullFace(n>>>0)},e.wbg.__wbg_cullFace_32ec426f9cf738ba=function(t,n){t.cullFace(n>>>0)},e.wbg.__wbg_frontFace_380eb97b8e84036d=function(t,n){t.frontFace(n>>>0)},e.wbg.__wbg_frontFace_2f9be9f6e61eab57=function(t,n){t.frontFace(n>>>0)},e.wbg.__wbg_bufferData_11bf0e7b1bcebb55=function(t,n,r,i){t.bufferData(n>>>0,r,i>>>0)},e.wbg.__wbg_bufferData_97b16c4aedab785a=function(t,n,r,i){t.bufferData(n>>>0,r,i>>>0)},e.wbg.__wbg_blendFuncSeparate_54734c3d5f7ec376=function(t,n,r,i,o){t.blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_blendFuncSeparate_79ff089d1b7d8fdd=function(t,n,r,i,o){t.blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_new_e69b5f66fda8f13c=function(){return new Object},e.wbg.__wbg_setstencil_64fc9a64f3753f1f=function(t,n){t.stencil=n!==0},e.wbg.__wbg_setantialias_24801c5e4ee889be=function(t,n){t.antialias=n!==0},e.wbg.__wbg_getContext_cfe4caa91ffe938e=function(){return k(function(t,n,r,i){const o=t.getContext(A(n,r),i);return I(o)?0:V(o)},arguments)},e.wbg.__wbg_instanceof_WebGl2RenderingContext_8dbe5170d8fdea28=function(t){let n;try{n=t instanceof WebGL2RenderingContext}catch{n=!1}return n},e.wbg.__wbg_getSupportedExtensions_ae0473d2b21281af=function(t){const n=t.getSupportedExtensions();return I(n)?0:V(n)},e.wbg.__wbg_length_f217bbbf7e8e4df4=function(t){return t.length},e.wbg.__wbg_get_5419cf6b954aa11d=function(t,n){return t[n>>>0]},e.wbg.__wbindgen_string_get=function(t,n){const r=n,i=typeof r=="string"?r:void 0;var o=I(i)?0:U(i,y.__wbindgen_malloc,y.__wbindgen_realloc),s=B;M().setInt32(t+4*1,s,!0),M().setInt32(t+4*0,o,!0)},e.wbg.__wbg_getParameter_1b7c85c782ee0a5e=function(){return k(function(t,n){return t.getParameter(n>>>0)},arguments)},e.wbg.__wbg_createVertexArrayOES_6e8273e64e878af6=function(t){const n=t.createVertexArrayOES();return I(n)?0:V(n)},e.wbg.__wbg_createVertexArray_ec08b54b9f8c74ea=function(t){const n=t.createVertexArray();return I(n)?0:V(n)},e.wbg.__wbg_createBuffer_2f1b069b0fbe4db7=function(t){const n=t.createBuffer();return I(n)?0:V(n)},e.wbg.__wbg_createBuffer_478457cb9beff1a3=function(t){const n=t.createBuffer();return I(n)?0:V(n)},e.wbg.__wbg_instanceof_CanvasRenderingContext2d_775df7bd32f07559=function(t){let n;try{n=t instanceof CanvasRenderingContext2D}catch{n=!1}return n},e.wbg.__wbg_setfont_669f9943743a4efe=function(t,n,r){t.font=A(n,r)},e.wbg.__wbg_setfillStyle_2cc2c748b938a95e=function(t,n,r){t.fillStyle=A(n,r)},e.wbg.__wbg_id_7e3fad2f1278550e=function(t,n){const r=n.id,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_readPixels_4e84fb582bf012e3=function(){return k(function(t,n,r,i,o,s,c,d){t.readPixels(n,r,i,o,s>>>0,c>>>0,d)},arguments)},e.wbg.__wbg_readPixels_f1573092ee7b3fc7=function(){return k(function(t,n,r,i,o,s,c,d){t.readPixels(n,r,i,o,s>>>0,c>>>0,d)},arguments)},e.wbg.__wbg_texSubImage2D_ae3ebafdd1babf00=function(){return k(function(t,n,r,i,o,s,c,d){t.texSubImage2D(n>>>0,r,i,o,s>>>0,c>>>0,d)},arguments)},e.wbg.__wbg_texSubImage2D_3b86b3ab6cbf52ae=function(){return k(function(t,n,r,i,o,s,c,d){t.texSubImage2D(n>>>0,r,i,o,s>>>0,c>>>0,d)},arguments)},e.wbg.__wbg_setwidth_60dea6895f05b937=function(t,n){t.width=n>>>0},e.wbg.__wbg_setheight_cb55dfc18afe9e77=function(t,n){t.height=n>>>0},e.wbg.__wbg_deleteVertexArrayOES_f24bf9fab17be367=function(t,n){t.deleteVertexArrayOES(n)},e.wbg.__wbg_deleteVertexArray_112dd9bcd72ec608=function(t,n){t.deleteVertexArray(n)},e.wbg.__wbg_deleteBuffer_2b49293fc295ccea=function(t,n){t.deleteBuffer(n)},e.wbg.__wbg_deleteBuffer_4ab8b253a2ff7ec7=function(t,n){t.deleteBuffer(n)},e.wbg.__wbg_next_b06e115d1b01e10b=function(){return k(function(t){return t.next()},arguments)},e.wbg.__wbg_done_983b5ffcaec8c583=function(t){return t.done},e.wbg.__wbg_value_2ab8a198c834c26a=function(t){return t.value},e.wbg.__wbg_iterator_695d699a44d6234c=function(){return Symbol.iterator},e.wbg.__wbg_get_ef828680c64da212=function(){return k(function(t,n){return Reflect.get(t,n)},arguments)},e.wbg.__wbindgen_is_function=function(t){return typeof t=="function"},e.wbg.__wbindgen_is_object=function(t){const n=t;return typeof n=="object"&&n!==null},e.wbg.__wbg_next_13b477da1eaa3897=function(t){return t.next},e.wbg.__wbg_call_a9ef466721e824f2=function(){return k(function(t,n){return t.call(n)},arguments)},e.wbg.__wbg_call_3bfa248576352471=function(){return k(function(t,n,r){return t.call(n,r)},arguments)},e.wbg.__wbg_call_5fb7c8066a4a4825=function(){return k(function(t,n,r,i){return t.call(n,r,i)},arguments)},e.wbg.__wbindgen_memory=function(){return y.memory},e.wbg.__wbg_buffer_ccaed51a635d8a2d=function(t){return t.buffer},e.wbg.__wbg_newwithbyteoffsetandlength_7e3eb787208af730=function(t,n,r){return new Uint8Array(t,n>>>0,r>>>0)},e.wbg.__wbg_length_9254c4bd3b9f23c4=function(t){return t.length},e.wbg.__wbg_new_fec2611eb9180f95=function(t){return new Uint8Array(t)},e.wbg.__wbg_set_ec2fcf81bc573fd9=function(t,n,r){t.set(n,r>>>0)},e.wbg.__wbg_self_bf91bf94d9e04084=function(){return k(function(){return self.self},arguments)},e.wbg.__wbg_window_52dd9f07d03fd5f8=function(){return k(function(){return window.window},arguments)},e.wbg.__wbg_globalThis_05c129bf37fcf1be=function(){return k(function(){return globalThis.globalThis},arguments)},e.wbg.__wbg_global_3eca19bb09e9c484=function(){return k(function(){return global.global},arguments)},e.wbg.__wbindgen_is_undefined=function(t){return t===void 0},e.wbg.__wbg_newnoargs_1ede4bf2ebbaaf43=function(t,n){return new Function(A(t,n))},e.wbg.__wbg_set_e864d25d9b399c9f=function(){return k(function(t,n,r){return Reflect.set(t,n,r)},arguments)},e.wbg.__wbindgen_string_new=function(t,n){return A(t,n)},e.wbg.__wbindgen_error_new=function(t,n){return new Error(A(t,n))},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return t==n},e.wbg.__wbindgen_number_get=function(t,n){const r=n,i=typeof r=="number"?r:void 0;M().setFloat64(t+8*1,I(i)?0:i,!0),M().setInt32(t+4*0,!I(i),!0)},e.wbg.__wbg_instanceof_Uint8Array_df0761410414ef36=function(t){let n;try{n=t instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_ArrayBuffer_74945570b4a62ec7=function(t){let n;try{n=t instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_entries_c02034de337d3ee2=function(t){return Object.entries(t)},e.wbg.__wbg_isSafeInteger_b9dff570f01a9100=function(t){return Number.isSafeInteger(t)},e.wbg.__wbindgen_as_number=function(t){return+t},e.wbg.__wbg_String_b9412f8799faab3e=function(t,n){const r=String(n),i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_isArray_6f3b47f09adb61b5=function(t){return Array.isArray(t)},e.wbg.__wbg_previewconnector_new=function(t){return Ar.__wrap(t)},e.wbg.__wbindgen_is_string=function(t){return typeof t=="string"},e.wbg.__wbg_new_034f913e7636e987=function(){return new Array},e.wbg.__wbg_set_425e70f7c64ac962=function(t,n,r){t[n>>>0]=r},e.wbg.__wbg_set_f975102236d3c502=function(t,n,r){t[n]=r},e.wbg.__wbg_new_7a87a0376e40533b=function(){return new Map},e.wbg.__wbg_set_277a63e77c89279f=function(t,n,r){return t.set(n,r)},e.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(t,n){return t[n]},e.wbg.__wbindgen_in=function(t,n){return t in n},e.wbg.__wbg_new_1073970097e5a420=function(t,n){try{var r={a:t,b:n},i=(s,c)=>{const d=r.a;r.a=0;try{return co(d,r.b,s,c)}finally{r.a=d}};return new Promise(i)}finally{r.a=r.b=0}},e.wbg.__wbg_navigator_3d3836196a5d8e62=function(t){return t.navigator},e.wbg.__wbindgen_is_bigint=function(t){return typeof t=="bigint"},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){const r=n,i=typeof r=="bigint"?r:void 0;M().setBigInt64(t+8*1,I(i)?BigInt(0):i,!0),M().setInt32(t+4*0,!I(i),!0)},e.wbg.__wbindgen_bigint_from_i64=function(t){return t},e.wbg.__wbindgen_jsval_eq=function(t,n){return t===n},e.wbg.__wbg_instanceof_Map_f96986929e7e89ed=function(t){let n;try{n=t instanceof Map}catch{n=!1}return n},e.wbg.__wbindgen_bigint_from_u64=function(t){return BigInt.asUintN(64,t)},e.wbg.__wbindgen_debug_string=function(t,n){const r=Fr(n),i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(A(t,n))},e.wbg.__wbg_then_4866a7d9f55d8f3e=function(t,n,r){return t.then(n,r)},e.wbg.__wbg_queueMicrotask_848aa4969108a57e=function(t){return t.queueMicrotask},e.wbg.__wbg_resolve_0aad7c1484731c99=function(t){return Promise.resolve(t)},e.wbg.__wbg_then_748f75edfb032440=function(t,n){return t.then(n)},e.wbg.__wbg_queueMicrotask_c5419c06eab41e73=typeof queueMicrotask=="function"?queueMicrotask:Ir("queueMicrotask"),e.wbg.__wbg_getExtension_811520f1db50ca11=function(){return k(function(t,n,r){const i=t.getExtension(A(n,r));return I(i)?0:V(i)},arguments)},e.wbg.__wbg_matchMedia_2c5a513148e49e4a=function(){return k(function(t,n,r){const i=t.matchMedia(A(n,r));return I(i)?0:V(i)},arguments)},e.wbg.__wbg_cancelAnimationFrame_f802bc3f3a9b2e5c=function(){return k(function(t,n){t.cancelAnimationFrame(n)},arguments)},e.wbg.__wbg_createElement_e4523490bd0ae51d=function(){return k(function(t,n,r){return t.createElement(A(n,r))},arguments)},e.wbg.__wbg_matches_ba81a625e23c859b=function(){return k(function(t,n,r){return t.matches(A(n,r))},arguments)},e.wbg.__wbg_setAttribute_2a8f647a8d92c712=function(){return k(function(t,n,r,i,o){t.setAttribute(A(n,r),A(i,o))},arguments)},e.wbg.__wbg_focus_6b6181f7644f6dbc=function(){return k(function(t){t.focus()},arguments)},e.wbg.__wbg_fillText_285687ced8ee535f=function(){return k(function(t,n,r,i,o){t.fillText(A(n,r),i,o)},arguments)},e.wbg.__wbg_getContext_bf8985355a4d22ca=function(){return k(function(t,n,r){const i=t.getContext(A(n,r));return I(i)?0:V(i)},arguments)},e.wbg.__wbg_new_e207405ddca58ee2=function(){return k(function(){return new MessageChannel},arguments)},e.wbg.__wbg_postMessage_5109299871335137=function(){return k(function(t,n){t.postMessage(n)},arguments)},e.wbg.__wbg_setProperty_b9a2384cbfb499fb=function(){return k(function(t,n,r,i,o){t.setProperty(A(n,r),A(i,o))},arguments)},e.wbg.__wbg_platform_fadbd50c3abb31c3=function(){return k(function(t,n){const r=n.platform,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},arguments)},e.wbg.__wbg_revokeObjectURL_8e72bad4541bdca0=function(){return k(function(t,n){URL.revokeObjectURL(A(t,n))},arguments)},e.wbg.__wbg_instanceof_Window_6575cd7f1322f82f=function(t){let n;try{n=t instanceof Window}catch{n=!1}return n},e.wbg.__wbg_data_86e77dc14916d155=function(t,n){const r=n.data;var i=I(r)?0:U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_setData_ae5f57d9724515ef=function(){return k(function(t,n,r,i,o){t.setData(A(n,r),A(i,o))},arguments)},e.wbg.__wbg_addEventListener_4357f9b7b3826784=function(){return k(function(t,n,r,i){t.addEventListener(A(n,r),i)},arguments)},e.wbg.__wbg_removeEventListener_4c13d11156153514=function(){return k(function(t,n,r,i){t.removeEventListener(A(n,r),i)},arguments)},e.wbg.__wbg_addListener_503d439bc3f84ff3=function(){return k(function(t,n){t.addListener(n)},arguments)},e.wbg.__wbg_new_75169ae5a9683c55=function(){return k(function(){return new AbortController},arguments)},e.wbg.__wbg_performance_a1b8bde2ee512264=function(t){return t.performance},e.wbg.__wbg_now_abd80e969af37148=function(t){return t.now()},e.wbg.__wbg_movementX_468fdc7a7281744b=function(t){return t.movementX},e.wbg.__wbg_movementY_8bbbf8c3bffd1fce=function(t){return t.movementY},e.wbg.__wbg_scheduler_7ccf2d3b362018c4=function(t){return t.scheduler},e.wbg.__wbg_signal_9acfcec9e7dffc22=function(t){return t.signal},e.wbg.__wbg_postTask_99464245f349be5a=function(t,n,r){return t.postTask(n,r)},e.wbg.__wbg_catch_8097da4375a5dd1b=function(t,n){return t.catch(n)},e.wbg.__wbg_port1_a6e649ef4f3886f3=function(t){return t.port1},e.wbg.__wbg_setonmessage_81b2f44fc2b4b0a4=function(t,n){t.onmessage=n},e.wbg.__wbg_start_818baa7ac87fe59f=function(t){t.start()},e.wbg.__wbg_port2_6fdacea6fa8e446e=function(t){return t.port2},e.wbg.__wbg_setTimeout_c9db6bce0a6bb71c=function(){return k(function(t,n){return t.setTimeout(n)},arguments)},e.wbg.__wbg_of_7e03bb557d6a64cc=function(t,n){return Array.of(t,n)},e.wbg.__wbg_of_064d1507296514c2=function(t){return Array.of(t)},e.wbg.__wbg_postMessage_857ce8a4ab57c841=function(){return k(function(t,n,r){t.postMessage(n,r)},arguments)},e.wbg.__wbg_setTimeout_e5d5b865335ce177=function(){return k(function(t,n,r){return t.setTimeout(n,r)},arguments)},e.wbg.__wbg_requestIdleCallback_effe682e9df1695f=function(){return k(function(t,n){return t.requestIdleCallback(n)},arguments)},e.wbg.__wbg_pointerType_6d91ef0da43639d3=function(t,n){const r=n.pointerType,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_pointerId_93f7e5e10bb641ad=function(t){return t.pointerId},e.wbg.__wbg_pressure_ad8dacbd14c9076f=function(t){return t.pressure},e.wbg.__wbg_buttons_2cb9e49b40e20105=function(t){return t.buttons},e.wbg.__wbg_setPointerCapture_739b13a4c8b0c2b0=function(){return k(function(t,n){t.setPointerCapture(n)},arguments)},e.wbg.__wbg_isIntersecting_57d03835f2fb0c18=function(t){return t.isIntersecting},e.wbg.__wbg_persisted_af13b0ad7952721a=function(t){return t.persisted},e.wbg.__wbg_matches_7df350fbe7beb09f=function(t){return t.matches},e.wbg.__wbg_contentRect_0ff902e25b5b4c7a=function(t){return t.contentRect},e.wbg.__wbg_width_45de62653cf1c40c=function(t){return t.width},e.wbg.__wbg_height_333816c9b207333d=function(t){return t.height},e.wbg.__wbg_devicePixelContentBoxSize_67d2874a12290f0b=function(t){return t.devicePixelContentBoxSize},e.wbg.__wbg_inlineSize_bdd9c1683673d79e=function(t){return t.inlineSize},e.wbg.__wbg_blockSize_5d28da4852a3728e=function(t){return t.blockSize},e.wbg.__wbindgen_cb_drop=function(t){const n=t.original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbg_error_e297661c1014a1cc=typeof console.error=="function"?console.error:Ir("console.error"),e.wbg.__wbg_userAgentData_85a8393570ab7dee=function(t){const n=t.userAgentData;return I(n)?0:V(n)},e.wbg.__wbg_brands_982de08b35281a98=function(t){return t.brands},e.wbg.__wbg_brand_cdcf0249d44027a8=function(t,n){const r=n.brand,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_userAgent_b433f0f22dfedec5=function(){return k(function(t,n){const r=n.userAgent,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},arguments)},e.wbg.__wbg_abort_c57daab47a6c1215=function(t){t.abort()},e.wbg.__wbg_cancelIdleCallback_7e85ac94feec1b33=function(t,n){t.cancelIdleCallback(n>>>0)},e.wbg.__wbg_clearTimeout_8567b0ecb6ec5d60=function(t,n){t.clearTimeout(n)},e.wbg.__wbg_close_8356c7a6c6893135=function(t){t.close()},e.wbg.__wbg_offsetX_294898d040917c6b=function(t){return t.offsetX},e.wbg.__wbg_offsetY_f484804b7b03dd86=function(t){return t.offsetY},e.wbg.__wbg_button_d8226b772c8cf494=function(t){return t.button},e.wbg.__wbg_deltaX_10154f810008c0a0=function(t){return t.deltaX},e.wbg.__wbg_deltaY_afd77a1b9e0d9ccd=function(t){return t.deltaY},e.wbg.__wbg_deltaMode_f31810d86a9defec=function(t){return t.deltaMode},e.wbg.__wbg_code_bec0d5222298000e=function(t,n){const r=n.code,i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},e.wbg.__wbg_location_a7e2614c5720fcd7=function(t){return t.location},e.wbg.__wbg_metaKey_0735ca81e2ec6c72=function(t){return t.metaKey},e.wbg.__wbg_shiftKey_6d843f3032fd0366=function(t){return t.shiftKey},e.wbg.__wbg_ctrlKey_4015247a39aa9410=function(t){return t.ctrlKey},e.wbg.__wbg_altKey_c9401b041949ea90=function(t){return t.altKey},e.wbg.__wbg_metaKey_5d680933661ea1ea=function(t){return t.metaKey},e.wbg.__wbg_getCoalescedEvents_8f8920b382098ac5=function(t){return t.getCoalescedEvents()},e.wbg.__wbg_disconnect_8d41ebc92b193580=function(t){t.disconnect()},e.wbg.__wbg_webkitExitFullscreen_77a6c8d07ec6ee46=function(t){t.webkitExitFullscreen()},e.wbg.__wbg_exitFullscreen_9eef33d4b314e087=function(t){t.exitFullscreen()},e.wbg.__wbg_contains_a28a8f7c01e4c130=function(t,n){return t.contains(n)},e.wbg.__wbg_unobserve_79fd6473e7891735=function(t,n){t.unobserve(n)},e.wbg.__wbg_observe_51c387de0413edcf=function(t,n){t.observe(n)},e.wbg.__wbg_getPropertyValue_b199c95cfeadebdf=function(){return k(function(t,n,r,i){const o=n.getPropertyValue(A(r,i)),s=U(o,y.__wbindgen_malloc,y.__wbindgen_realloc),c=B;M().setInt32(t+4*1,c,!0),M().setInt32(t+4*0,s,!0)},arguments)},e.wbg.__wbg_removeProperty_5acbca68235d0706=function(){return k(function(t,n,r,i){const o=n.removeProperty(A(r,i)),s=U(o,y.__wbindgen_malloc,y.__wbindgen_realloc),c=B;M().setInt32(t+4*1,c,!0),M().setInt32(t+4*0,s,!0)},arguments)},e.wbg.__wbg_visibilityState_5e9ade0fb5df3c9c=function(t){const n=t.visibilityState;return(Ec.indexOf(n)+1||3)-1},e.wbg.__wbg_body_8e909b791b1745d3=function(t){const n=t.body;return I(n)?0:V(n)},e.wbg.__wbg_appendChild_bc4a0deae90a5164=function(){return k(function(t,n){return t.appendChild(n)},arguments)},e.wbg.__wbg_getComputedStyle_ec7e113b79b74e98=function(){return k(function(t,n){const r=t.getComputedStyle(n);return I(r)?0:V(r)},arguments)},e.wbg.__wbg_activeElement_4ab2bc6dcf8da330=function(t){const n=t.activeElement;return I(n)?0:V(n)},e.wbg.__wbg_is_4b64bc96710d6a0f=function(t,n){return Object.is(t,n)},e.wbg.__wbg_new_bc395d17a25f9f2f=function(){return k(function(t){return new ResizeObserver(t)},arguments)},e.wbg.__wbg_setbox_0540f4f0ed4733b6=function(t,n){t.box=Mc[n]},e.wbg.__wbg_observe_e05a589c42476328=function(t,n,r){t.observe(n,r)},e.wbg.__wbg_new_4422dda84db10905=function(){return k(function(t){return new IntersectionObserver(t)},arguments)},e.wbg.__wbg_observe_6f2910a25347a592=function(t,n){t.observe(n)},e.wbg.__wbg_getBoundingClientRect_5ad16be1e2955e83=function(t){return t.getBoundingClientRect()},e.wbg.__wbg_x_a9a34a1bc15c8dea=function(t){return t.x},e.wbg.__wbg_y_4926ebe58a2a92c8=function(t){return t.y},e.wbg.__wbg_requestAnimationFrame_8c3436f4ac89bc48=function(){return k(function(t,n){return t.requestAnimationFrame(n)},arguments)},e.wbg.__wbg_webkitRequestFullscreen_42ba1c34171febc6=function(t){t.webkitRequestFullscreen()},e.wbg.__wbg_requestFullscreen_24891df6120b675d=function(t){return t.requestFullscreen()},e.wbg.__wbg_webkitFullscreenElement_a02341d57a641b43=function(t){const n=t.webkitFullscreenElement;return I(n)?0:V(n)},e.wbg.__wbg_fullscreenElement_d39685ee9d78d455=function(t){const n=t.fullscreenElement;return I(n)?0:V(n)},e.wbg.__wbg_animate_b321da85ed3f2b4a=function(t,n,r){return t.animate(n,r)},e.wbg.__wbg_cancel_cba86749f45f30ae=function(t){t.cancel()},e.wbg.__wbg_play_5896e5851ba90aa2=function(t){t.play()},e.wbg.__wbg_removeListener_0e5684bf9a4fe773=function(){return k(function(t,n){t.removeListener(n)},arguments)},e.wbg.__wbg_Window_bd9ec3fee5f673ee=function(t){return t.Window},e.wbg.__wbg_new_00d033f8a8736a28=function(){return k(function(t,n){return new Worker(A(t,n))},arguments)},e.wbg.__wbg_settype_623d2ee701e6310a=function(t,n,r){t.type=A(n,r)},e.wbg.__wbg_newwithstrsequenceandoptions_3d581ce16ca52c44=function(){return k(function(t,n){return new Blob(t,n)},arguments)},e.wbg.__wbg_createObjectURL_11804d71ac214694=function(){return k(function(t,n){const r=URL.createObjectURL(n),i=U(r,y.__wbindgen_malloc,y.__wbindgen_realloc),o=B;M().setInt32(t+4*1,o,!0),M().setInt32(t+4*0,i,!0)},arguments)},e.wbg.__wbg_prototype_d33365945f23f380=function(){return ResizeObserverEntry.prototype},e.wbg.__wbg_getOwnPropertyDescriptor_419345cdc0d1ec14=function(t,n){return Object.getOwnPropertyDescriptor(t,n)},e.wbg.__wbg_requestIdleCallback_86b728660e0547ef=function(t){return t.requestIdleCallback},e.wbg.__wbg_getCoalescedEvents_85701851c470c4e6=function(t){return t.getCoalescedEvents},e.wbg.__wbg_scheduler_f38a681d98b5a776=function(t){return t.scheduler},e.wbg.__wbg_requestFullscreen_8a94df4e7f757077=function(t){return t.requestFullscreen},e.wbg.__wbg_queueMicrotask_693514e3dcae83e6=typeof queueMicrotask=="function"?queueMicrotask:Ir("queueMicrotask"),e.wbg.__wbg_disconnect_91f6e3e629264c78=function(t){t.disconnect()},e.wbg.__wbindgen_closure_wrapper4370=function(t,n,r){return Jt(t,n,1790,Xt)},e.wbg.__wbindgen_closure_wrapper4372=function(t,n,r){return Jt(t,n,1790,Xt)},e.wbg.__wbindgen_closure_wrapper4373=function(t,n,r){return Jt(t,n,1790,Xt)},e.wbg.__wbindgen_closure_wrapper4374=function(t,n,r){return Jt(t,n,1790,Xt)},e.wbg.__wbindgen_closure_wrapper4375=function(t,n,r){return Jt(t,n,1790,Xt)},e.wbg.__wbindgen_closure_wrapper6642=function(t,n,r){return Ce(t,n,2016,so)},e.wbg.__wbindgen_closure_wrapper12781=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_closure_wrapper14001=function(t,n,r){return Ce(t,n,2016,so)},e.wbg.__wbindgen_closure_wrapper14041=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_closure_wrapper14044=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_closure_wrapper14060=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_closure_wrapper14089=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_closure_wrapper14095=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_closure_wrapper14104=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_closure_wrapper14120=function(t,n,r){return Ce(t,n,2016,co)},e.wbg.__wbindgen_closure_wrapper14139=function(t,n,r){return Ce(t,n,2016,Qe)},e.wbg.__wbindgen_init_externref_table=function(){const t=y.__wbindgen_export_2,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e}function jc(e,t){return y=e.exports,fo.__wbindgen_wasm_module=t,lt=null,Qt=null,Ut=null,y.__wbindgen_start(),y}async function fo(e){if(y!==void 0)return y;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL(""+new URL("slint_lsp_wasm_bg-Cey3CRNi.wasm",self.location.href).href,self.location.href));const t=Nc();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Oc(await e,t);return jc(n,r)}var le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var lo={},Wr={},$e={},se={},gt={},Hr={},$r={},C={},he={},go;function Yt(){if(go)return he;go=1,Object.defineProperty(he,"__esModule",{value:!0}),he.stringArray=he.array=he.func=he.error=he.number=he.string=he.boolean=void 0;function e(c){return c===!0||c===!1}he.boolean=e;function t(c){return typeof c=="string"||c instanceof String}he.string=t;function n(c){return typeof c=="number"||c instanceof Number}he.number=n;function r(c){return c instanceof Error}he.error=r;function i(c){return typeof c=="function"}he.func=i;function o(c){return Array.isArray(c)}he.array=o;function s(c){return o(c)&&c.every(d=>t(d))}return he.stringArray=s,he}var _o;function bo(){if(_o)return C;_o=1,Object.defineProperty(C,"__esModule",{value:!0}),C.Message=C.NotificationType9=C.NotificationType8=C.NotificationType7=C.NotificationType6=C.NotificationType5=C.NotificationType4=C.NotificationType3=C.NotificationType2=C.NotificationType1=C.NotificationType0=C.NotificationType=C.RequestType9=C.RequestType8=C.RequestType7=C.RequestType6=C.RequestType5=C.RequestType4=C.RequestType3=C.RequestType2=C.RequestType1=C.RequestType=C.RequestType0=C.AbstractMessageSignature=C.ParameterStructures=C.ResponseError=C.ErrorCodes=void 0;const e=Yt();var t;(function(O){O.ParseError=-32700,O.InvalidRequest=-32600,O.MethodNotFound=-32601,O.InvalidParams=-32602,O.InternalError=-32603,O.jsonrpcReservedErrorRangeStart=-32099,O.serverErrorStart=-32099,O.MessageWriteError=-32099,O.MessageReadError=-32098,O.PendingResponseRejected=-32097,O.ConnectionInactive=-32096,O.ServerNotInitialized=-32002,O.UnknownErrorCode=-32001,O.jsonrpcReservedErrorRangeEnd=-32e3,O.serverErrorEnd=-32e3})(t||(C.ErrorCodes=t={}));class n extends Error{constructor(_,E,F){super(E),this.code=e.number(_)?_:t.UnknownErrorCode,this.data=F,Object.setPrototypeOf(this,n.prototype)}toJson(){const _={code:this.code,message:this.message};return this.data!==void 0&&(_.data=this.data),_}}C.ResponseError=n;class r{constructor(_){this.kind=_}static is(_){return _===r.auto||_===r.byName||_===r.byPosition}toString(){return this.kind}}C.ParameterStructures=r,r.auto=new r("auto"),r.byPosition=new r("byPosition"),r.byName=new r("byName");class i{constructor(_,E){this.method=_,this.numberOfParams=E}get parameterStructures(){return r.auto}}C.AbstractMessageSignature=i;class o extends i{constructor(_){super(_,0)}}C.RequestType0=o;class s extends i{constructor(_,E=r.auto){super(_,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}C.RequestType=s;class c extends i{constructor(_,E=r.auto){super(_,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}C.RequestType1=c;class d extends i{constructor(_){super(_,2)}}C.RequestType2=d;class f extends i{constructor(_){super(_,3)}}C.RequestType3=f;class g extends i{constructor(_){super(_,4)}}C.RequestType4=g;class m extends i{constructor(_){super(_,5)}}C.RequestType5=m;class p extends i{constructor(_){super(_,6)}}C.RequestType6=p;class v extends i{constructor(_){super(_,7)}}C.RequestType7=v;class P extends i{constructor(_){super(_,8)}}C.RequestType8=P;class J extends i{constructor(_){super(_,9)}}C.RequestType9=J;class Q extends i{constructor(_,E=r.auto){super(_,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}C.NotificationType=Q;class L extends i{constructor(_){super(_,0)}}C.NotificationType0=L;class b extends i{constructor(_,E=r.auto){super(_,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}C.NotificationType1=b;class h extends i{constructor(_){super(_,2)}}C.NotificationType2=h;class R extends i{constructor(_){super(_,3)}}C.NotificationType3=R;class ae extends i{constructor(_){super(_,4)}}C.NotificationType4=ae;class Z extends i{constructor(_){super(_,5)}}C.NotificationType5=Z;class ge extends i{constructor(_){super(_,6)}}C.NotificationType6=ge;class ot extends i{constructor(_){super(_,7)}}C.NotificationType7=ot;class Ie extends i{constructor(_){super(_,8)}}C.NotificationType8=Ie;class st extends i{constructor(_){super(_,9)}}C.NotificationType9=st;var be;return function(O){function _(q){const H=q;return H&&e.string(H.method)&&(e.string(H.id)||e.number(H.id))}O.isRequest=_;function E(q){const H=q;return H&&e.string(H.method)&&q.id===void 0}O.isNotification=E;function F(q){const H=q;return H&&(H.result!==void 0||!!H.error)&&(e.string(H.id)||e.number(H.id)||H.id===null)}O.isResponse=F}(be||(C.Message=be={})),C}var xe={},ho;function mo(){if(ho)return xe;ho=1;var e;Object.defineProperty(xe,"__esModule",{value:!0}),xe.LRUCache=xe.LinkedMap=xe.Touch=void 0;var t;(function(i){i.None=0,i.First=1,i.AsOld=i.First,i.Last=2,i.AsNew=i.Last})(t||(xe.Touch=t={}));class n{constructor(){this[e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(o){return this._map.has(o)}get(o,s=t.None){const c=this._map.get(o);if(c)return s!==t.None&&this.touch(c,s),c.value}set(o,s,c=t.None){let d=this._map.get(o);if(d)d.value=s,c!==t.None&&this.touch(d,c);else{switch(d={key:o,value:s,next:void 0,previous:void 0},c){case t.None:this.addItemLast(d);break;case t.First:this.addItemFirst(d);break;case t.Last:this.addItemLast(d);break;default:this.addItemLast(d);break}this._map.set(o,d),this._size++}return this}delete(o){return!!this.remove(o)}remove(o){const s=this._map.get(o);if(s)return this._map.delete(o),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const o=this._head;return this._map.delete(o.key),this.removeItem(o),this._size--,o.value}forEach(o,s){const c=this._state;let d=this._head;for(;d;){if(s?o.bind(s)(d.value,d.key,this):o(d.value,d.key,this),this._state!==c)throw new Error("LinkedMap got modified during iteration.");d=d.next}}keys(){const o=this._state;let s=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const d={value:s.key,done:!1};return s=s.next,d}else return{value:void 0,done:!0}}};return c}values(){const o=this._state;let s=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const d={value:s.value,done:!1};return s=s.next,d}else return{value:void 0,done:!0}}};return c}entries(){const o=this._state;let s=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const d={value:[s.key,s.value],done:!1};return s=s.next,d}else return{value:void 0,done:!0}}};return c}[(e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(o){if(o>=this.size)return;if(o===0){this.clear();return}let s=this._head,c=this.size;for(;s&&c>o;)this._map.delete(s.key),s=s.next,c--;this._head=s,this._size=c,s&&(s.previous=void 0),this._state++}addItemFirst(o){if(!this._head&&!this._tail)this._tail=o;else if(this._head)o.next=this._head,this._head.previous=o;else throw new Error("Invalid list");this._head=o,this._state++}addItemLast(o){if(!this._head&&!this._tail)this._head=o;else if(this._tail)o.previous=this._tail,this._tail.next=o;else throw new Error("Invalid list");this._tail=o,this._state++}removeItem(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head){if(!o.next)throw new Error("Invalid list");o.next.previous=void 0,this._head=o.next}else if(o===this._tail){if(!o.previous)throw new Error("Invalid list");o.previous.next=void 0,this._tail=o.previous}else{const s=o.next,c=o.previous;if(!s||!c)throw new Error("Invalid list");s.previous=c,c.next=s}o.next=void 0,o.previous=void 0,this._state++}touch(o,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==t.First&&s!==t.Last)){if(s===t.First){if(o===this._head)return;const c=o.next,d=o.previous;o===this._tail?(d.next=void 0,this._tail=d):(c.previous=d,d.next=c),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o,this._state++}else if(s===t.Last){if(o===this._tail)return;const c=o.next,d=o.previous;o===this._head?(c.previous=void 0,this._head=c):(c.previous=d,d.next=c),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o,this._state++}}}toJSON(){const o=[];return this.forEach((s,c)=>{o.push([c,s])}),o}fromJSON(o){this.clear();for(const[s,c]of o)this.set(s,c)}}xe.LinkedMap=n;class r extends n{constructor(o,s=1){super(),this._limit=o,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(o){this._limit=o,this.checkTrim()}get ratio(){return this._ratio}set ratio(o){this._ratio=Math.min(Math.max(0,o),1),this.checkTrim()}get(o,s=t.AsNew){return super.get(o,s)}peek(o){return super.get(o,t.None)}set(o,s){return super.set(o,s,t.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}return xe.LRUCache=r,xe}var Kt={},wo;function Ic(){if(wo)return Kt;wo=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Disposable=void 0;var e;return function(t){function n(r){return{dispose:r}}t.create=n}(e||(Kt.Disposable=e={})),Kt}var _t={},Cn={},po;function bt(){if(po)return Cn;po=1,Object.defineProperty(Cn,"__esModule",{value:!0});let e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}n.install=r}(t||(t={})),Cn.default=t,Cn}var yo;function Gt(){if(yo)return _t;yo=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.Emitter=_t.Event=void 0;const e=bt();var t;(function(i){const o={dispose(){}};i.None=function(){return o}})(t||(_t.Event=t={}));class n{add(o,s=null,c){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(o),this._contexts.push(s),Array.isArray(c)&&c.push({dispose:()=>this.remove(o,s)})}remove(o,s=null){if(!this._callbacks)return;let c=!1;for(let d=0,f=this._callbacks.length;d<f;d++)if(this._callbacks[d]===o)if(this._contexts[d]===s){this._callbacks.splice(d,1),this._contexts.splice(d,1);return}else c=!0;if(c)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...o){if(!this._callbacks)return[];const s=[],c=this._callbacks.slice(0),d=this._contexts.slice(0);for(let f=0,g=c.length;f<g;f++)try{s.push(c[f].apply(d[f],o))}catch(m){(0,e.default)().console.error(m)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(o){this._options=o}get event(){return this._event||(this._event=(o,s,c)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(o,s);const d={dispose:()=>{this._callbacks&&(this._callbacks.remove(o,s),d.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(c)&&c.push(d),d}),this._event}fire(o){this._callbacks&&this._callbacks.invoke.call(this._callbacks,o)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return _t.Emitter=r,r._noop=function(){},_t}var ht={},vo;function xr(){if(vo)return ht;vo=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.CancellationTokenSource=ht.CancellationToken=void 0;const e=bt(),t=Yt(),n=Gt();var r;(function(c){c.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),c.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function d(f){const g=f;return g&&(g===c.None||g===c.Cancelled||t.boolean(g.isCancellationRequested)&&!!g.onCancellationRequested)}c.is=d})(r||(ht.CancellationToken=r={}));const i=Object.freeze(function(c,d){const f=(0,e.default)().timer.setTimeout(c.bind(d),0);return{dispose(){f.dispose()}}});class o{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class s{get token(){return this._token||(this._token=new o),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof o&&this._token.dispose():this._token=r.None}}return ht.CancellationTokenSource=s,ht}var mt={},Ro;function Ac(){if(Ro)return mt;Ro=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.SharedArrayReceiverStrategy=mt.SharedArraySenderStrategy=void 0;const e=xr();var t;(function(s){s.Continue=0,s.Cancelled=1})(t||(t={}));class n{constructor(){this.buffers=new Map}enableCancellation(c){if(c.id===null)return;const d=new SharedArrayBuffer(4),f=new Int32Array(d,0,1);f[0]=t.Continue,this.buffers.set(c.id,d),c.$cancellationData=d}async sendCancellation(c,d){const f=this.buffers.get(d);if(f===void 0)return;const g=new Int32Array(f,0,1);Atomics.store(g,0,t.Cancelled)}cleanup(c){this.buffers.delete(c)}dispose(){this.buffers.clear()}}mt.SharedArraySenderStrategy=n;class r{constructor(c){this.data=new Int32Array(c,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class i{constructor(c){this.token=new r(c)}cancel(){}dispose(){}}class o{constructor(){this.kind="request"}createCancellationTokenSource(c){const d=c.$cancellationData;return d===void 0?new e.CancellationTokenSource:new i(d)}}return mt.SharedArrayReceiverStrategy=o,mt}var ze={},Zt={},Do;function To(){if(Do)return Zt;Do=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.Semaphore=void 0;const e=bt();class t{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((i,o)=>{this._waiting.push({thunk:r,resolve:i,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=r.thunk();i instanceof Promise?i.then(o=>{this._active--,r.resolve(o),this.runNext()},o=>{this._active--,r.reject(o),this.runNext()}):(this._active--,r.resolve(i),this.runNext())}catch(i){this._active--,r.reject(i),this.runNext()}}}return Zt.Semaphore=t,Zt}var Po;function Lc(){if(Po)return ze;Po=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.ReadableStreamMessageReader=ze.AbstractMessageReader=ze.MessageReader=void 0;const e=bt(),t=Yt(),n=Gt(),r=To();var i;(function(d){function f(g){let m=g;return m&&t.func(m.listen)&&t.func(m.dispose)&&t.func(m.onError)&&t.func(m.onClose)&&t.func(m.onPartialMessage)}d.is=f})(i||(ze.MessageReader=i={}));class o{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(f){this.errorEmitter.fire(this.asError(f))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(f){this.partialMessageEmitter.fire(f)}asError(f){return f instanceof Error?f:new Error(`Reader received error. Reason: ${t.string(f.message)?f.message:"unknown"}`)}}ze.AbstractMessageReader=o;var s;(function(d){function f(g){let m,p;const v=new Map;let P;const J=new Map;if(g===void 0||typeof g=="string")m=g??"utf-8";else{if(m=g.charset??"utf-8",g.contentDecoder!==void 0&&(p=g.contentDecoder,v.set(p.name,p)),g.contentDecoders!==void 0)for(const Q of g.contentDecoders)v.set(Q.name,Q);if(g.contentTypeDecoder!==void 0&&(P=g.contentTypeDecoder,J.set(P.name,P)),g.contentTypeDecoders!==void 0)for(const Q of g.contentTypeDecoders)J.set(Q.name,Q)}return P===void 0&&(P=(0,e.default)().applicationJson.decoder,J.set(P.name,P)),{charset:m,contentDecoder:p,contentDecoders:v,contentTypeDecoder:P,contentTypeDecoders:J}}d.fromOptions=f})(s||(s={}));class c extends o{constructor(f,g){super(),this.readable=f,this.options=s.fromOptions(g),this.buffer=(0,e.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new r.Semaphore(1)}set partialMessageTimeout(f){this._partialMessageTimeout=f}get partialMessageTimeout(){return this._partialMessageTimeout}listen(f){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=f;const g=this.readable.onData(m=>{this.onData(m)});return this.readable.onError(m=>this.fireError(m)),this.readable.onClose(()=>this.fireClose()),g}onData(f){try{for(this.buffer.append(f);;){if(this.nextMessageLength===-1){const m=this.buffer.tryReadHeaders(!0);if(!m)return;const p=m.get("content-length");if(!p){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(m))}`));return}const v=parseInt(p);if(isNaN(v)){this.fireError(new Error(`Content-Length value must be a number. Got ${p}`));return}this.nextMessageLength=v}const g=this.buffer.tryReadBody(this.nextMessageLength);if(g===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const m=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(g):g,p=await this.options.contentTypeDecoder.decode(m,this.options);this.callback(p)}).catch(m=>{this.fireError(m)})}}catch(g){this.fireError(g)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,e.default)().timer.setTimeout((f,g)=>{this.partialMessageTimer=void 0,f===this.messageToken&&(this.firePartialMessage({messageToken:f,waitingTime:g}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}return ze.ReadableStreamMessageReader=c,ze}var Be={},ko;function Wc(){if(ko)return Be;ko=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.WriteableStreamMessageWriter=Be.AbstractMessageWriter=Be.MessageWriter=void 0;const e=bt(),t=Yt(),n=To(),r=Gt(),i="Content-Length: ",o=`\r
`;var s;(function(g){function m(p){let v=p;return v&&t.func(v.dispose)&&t.func(v.onClose)&&t.func(v.onError)&&t.func(v.write)}g.is=m})(s||(Be.MessageWriter=s={}));class c{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(m,p,v){this.errorEmitter.fire([this.asError(m),p,v])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(m){return m instanceof Error?m:new Error(`Writer received error. Reason: ${t.string(m.message)?m.message:"unknown"}`)}}Be.AbstractMessageWriter=c;var d;(function(g){function m(p){return p===void 0||typeof p=="string"?{charset:p??"utf-8",contentTypeEncoder:(0,e.default)().applicationJson.encoder}:{charset:p.charset??"utf-8",contentEncoder:p.contentEncoder,contentTypeEncoder:p.contentTypeEncoder??(0,e.default)().applicationJson.encoder}}g.fromOptions=m})(d||(d={}));class f extends c{constructor(m,p){super(),this.writable=m,this.options=d.fromOptions(p),this.errorCount=0,this.writeSemaphore=new n.Semaphore(1),this.writable.onError(v=>this.fireError(v)),this.writable.onClose(()=>this.fireClose())}async write(m){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(m,this.options).then(v=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(v):v).then(v=>{const P=[];return P.push(i,v.byteLength.toString(),o),P.push(o),this.doWrite(m,P,v)},v=>{throw this.fireError(v),v}))}async doWrite(m,p,v){try{return await this.writable.write(p.join(""),"ascii"),this.writable.write(v)}catch(P){return this.handleError(P,m),Promise.reject(P)}}handleError(m,p){this.errorCount++,this.fireError(m,p,this.errorCount)}end(){this.writable.end()}}return Be.WriteableStreamMessageWriter=f,Be}var en={},So;function Hc(){if(So)return en;So=1,Object.defineProperty(en,"__esModule",{value:!0}),en.AbstractMessageBuffer=void 0;const e=13,t=10,n=`\r
`;class r{constructor(o="utf-8"){this._encoding=o,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(o){const s=typeof o=="string"?this.fromString(o,this._encoding):o;this._chunks.push(s),this._totalLength+=s.byteLength}tryReadHeaders(o=!1){if(this._chunks.length===0)return;let s=0,c=0,d=0,f=0;e:for(;c<this._chunks.length;){const v=this._chunks[c];for(d=0;d<v.length;){switch(v[d]){case e:switch(s){case 0:s=1;break;case 2:s=3;break;default:s=0}break;case t:switch(s){case 1:s=2;break;case 3:s=4,d++;break e;default:s=0}break;default:s=0}d++}f+=v.byteLength,c++}if(s!==4)return;const g=this._read(f+d),m=new Map,p=this.toString(g,"ascii").split(n);if(p.length<2)return m;for(let v=0;v<p.length-2;v++){const P=p[v],J=P.indexOf(":");if(J===-1)throw new Error(`Message header must separate key and value using ':'
${P}`);const Q=P.substr(0,J),L=P.substr(J+1).trim();m.set(o?Q.toLowerCase():Q,L)}return m}tryReadBody(o){if(!(this._totalLength<o))return this._read(o)}get numberOfBytes(){return this._totalLength}_read(o){if(o===0)return this.emptyBuffer();if(o>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===o){const f=this._chunks[0];return this._chunks.shift(),this._totalLength-=o,this.asNative(f)}if(this._chunks[0].byteLength>o){const f=this._chunks[0],g=this.asNative(f,o);return this._chunks[0]=f.slice(o),this._totalLength-=o,g}const s=this.allocNative(o);let c=0,d=0;for(;o>0;){const f=this._chunks[d];if(f.byteLength>o){const g=f.slice(0,o);s.set(g,c),c+=o,this._chunks[d]=f.slice(o),this._totalLength-=o,o-=o}else s.set(f,c),c+=f.byteLength,this._chunks.shift(),this._totalLength-=f.byteLength,o-=f.byteLength}return s}}return en.AbstractMessageBuffer=r,en}var zr={},Co;function $c(){return Co||(Co=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=bt(),n=Yt(),r=bo(),i=mo(),o=Gt(),s=xr();var c;(function(_){_.type=new r.NotificationType("$/cancelRequest")})(c||(c={}));var d;(function(_){function E(F){return typeof F=="string"||typeof F=="number"}_.is=E})(d||(e.ProgressToken=d={}));var f;(function(_){_.type=new r.NotificationType("$/progress")})(f||(f={}));class g{constructor(){}}e.ProgressType=g;var m;(function(_){function E(F){return n.func(F)}_.is=E})(m||(m={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var p;(function(_){_[_.Off=0]="Off",_[_.Messages=1]="Messages",_[_.Compact=2]="Compact",_[_.Verbose=3]="Verbose"})(p||(e.Trace=p={}));var v;(function(_){_.Off="off",_.Messages="messages",_.Compact="compact",_.Verbose="verbose"})(v||(e.TraceValues=v={})),function(_){function E(q){if(!n.string(q))return _.Off;switch(q=q.toLowerCase(),q){case"off":return _.Off;case"messages":return _.Messages;case"compact":return _.Compact;case"verbose":return _.Verbose;default:return _.Off}}_.fromString=E;function F(q){switch(q){case _.Off:return"off";case _.Messages:return"messages";case _.Compact:return"compact";case _.Verbose:return"verbose";default:return"off"}}_.toString=F}(p||(e.Trace=p={}));var P;(function(_){_.Text="text",_.JSON="json"})(P||(e.TraceFormat=P={})),function(_){function E(F){return n.string(F)?(F=F.toLowerCase(),F==="json"?_.JSON:_.Text):_.Text}_.fromString=E}(P||(e.TraceFormat=P={}));var J;(function(_){_.type=new r.NotificationType("$/setTrace")})(J||(e.SetTraceNotification=J={}));var Q;(function(_){_.type=new r.NotificationType("$/logTrace")})(Q||(e.LogTraceNotification=Q={}));var L;(function(_){_[_.Closed=1]="Closed",_[_.Disposed=2]="Disposed",_[_.AlreadyListening=3]="AlreadyListening"})(L||(e.ConnectionErrors=L={}));class b extends Error{constructor(E,F){super(F),this.code=E,Object.setPrototypeOf(this,b.prototype)}}e.ConnectionError=b;var h;(function(_){function E(F){const q=F;return q&&n.func(q.cancelUndispatched)}_.is=E})(h||(e.ConnectionStrategy=h={}));var R;(function(_){function E(F){const q=F;return q&&(q.kind===void 0||q.kind==="id")&&n.func(q.createCancellationTokenSource)&&(q.dispose===void 0||n.func(q.dispose))}_.is=E})(R||(e.IdCancellationReceiverStrategy=R={}));var ae;(function(_){function E(F){const q=F;return q&&q.kind==="request"&&n.func(q.createCancellationTokenSource)&&(q.dispose===void 0||n.func(q.dispose))}_.is=E})(ae||(e.RequestCancellationReceiverStrategy=ae={}));var Z;(function(_){_.Message=Object.freeze({createCancellationTokenSource(F){return new s.CancellationTokenSource}});function E(F){return R.is(F)||ae.is(F)}_.is=E})(Z||(e.CancellationReceiverStrategy=Z={}));var ge;(function(_){_.Message=Object.freeze({sendCancellation(F,q){return F.sendNotification(c.type,{id:q})},cleanup(F){}});function E(F){const q=F;return q&&n.func(q.sendCancellation)&&n.func(q.cleanup)}_.is=E})(ge||(e.CancellationSenderStrategy=ge={}));var ot;(function(_){_.Message=Object.freeze({receiver:Z.Message,sender:ge.Message});function E(F){const q=F;return q&&Z.is(q.receiver)&&ge.is(q.sender)}_.is=E})(ot||(e.CancellationStrategy=ot={}));var Ie;(function(_){function E(F){const q=F;return q&&n.func(q.handleMessage)}_.is=E})(Ie||(e.MessageStrategy=Ie={}));var st;(function(_){function E(F){const q=F;return q&&(ot.is(q.cancellationStrategy)||h.is(q.connectionStrategy)||Ie.is(q.messageStrategy))}_.is=E})(st||(e.ConnectionOptions=st={}));var be;(function(_){_[_.New=1]="New",_[_.Listening=2]="Listening",_[_.Closed=3]="Closed",_[_.Disposed=4]="Disposed"})(be||(be={}));function O(_,E,F,q){const H=F!==void 0?F:e.NullLogger;let _r=0,br=0,hr=0;const ct="2.0";let at;const Rt=new Map;let ut;const Dt=new Map,Tt=new Map;let zt,Ae=new i.LinkedMap,Le=new Map,Pt=new Set,Se=new Map,Y=p.Off,We=P.Text,ie,Me=be.New;const Bt=new o.Emitter,gn=new o.Emitter,_n=new o.Emitter,bn=new o.Emitter,hn=new o.Emitter,Ee=q&&q.cancellationStrategy?q.cancellationStrategy:ot.Message;function mn(u){if(u===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+u.toString()}function mr(u){return u===null?"res-unknown-"+(++hr).toString():"res-"+u.toString()}function wr(){return"not-"+(++br).toString()}function pr(u,w){r.Message.isRequest(w)?u.set(mn(w.id),w):r.Message.isResponse(w)?u.set(mr(w.id),w):u.set(wr(),w)}function yr(u){}function wn(){return Me===be.Listening}function pn(){return Me===be.Closed}function Je(){return Me===be.Disposed}function yn(){(Me===be.New||Me===be.Listening)&&(Me=be.Closed,gn.fire(void 0))}function vr(u){Bt.fire([u,void 0,void 0])}function Rr(u){Bt.fire(u)}_.onClose(yn),_.onError(vr),E.onClose(yn),E.onError(Rr);function vn(){zt||Ae.size===0||(zt=(0,t.default)().timer.setImmediate(()=>{zt=void 0,Dr()}))}function Rn(u){r.Message.isRequest(u)?Pr(u):r.Message.isNotification(u)?Sr(u):r.Message.isResponse(u)?kr(u):Cr(u)}function Dr(){if(Ae.size===0)return;const u=Ae.shift();try{const w=q?.messageStrategy;Ie.is(w)?w.handleMessage(u,Rn):Rn(u)}finally{vn()}}const Tr=u=>{try{if(r.Message.isNotification(u)&&u.method===c.type.method){const w=u.params.id,D=mn(w),S=Ae.get(D);if(r.Message.isRequest(S)){const K=q?.connectionStrategy,oe=K&&K.cancelUndispatched?K.cancelUndispatched(S,yr):void 0;if(oe&&(oe.error!==void 0||oe.result!==void 0)){Ae.delete(D),Se.delete(w),oe.id=S.id,kt(oe,u.method,Date.now()),E.write(oe).catch(()=>H.error("Sending response for canceled message failed."));return}}const G=Se.get(w);if(G!==void 0){G.cancel(),Vt(u);return}else Pt.add(w)}pr(Ae,u)}finally{vn()}};function Pr(u){if(Je())return;function w(x,ee,X){const _e={jsonrpc:ct,id:u.id};x instanceof r.ResponseError?_e.error=x.toJson():_e.result=x===void 0?null:x,kt(_e,ee,X),E.write(_e).catch(()=>H.error("Sending response failed."))}function D(x,ee,X){const _e={jsonrpc:ct,id:u.id,error:x.toJson()};kt(_e,ee,X),E.write(_e).catch(()=>H.error("Sending response failed."))}function S(x,ee,X){x===void 0&&(x=null);const _e={jsonrpc:ct,id:u.id,result:x};kt(_e,ee,X),E.write(_e).catch(()=>H.error("Sending response failed."))}Er(u);const G=Rt.get(u.method);let K,oe;G&&(K=G.type,oe=G.handler);const fe=Date.now();if(oe||at){const x=u.id??String(Date.now()),ee=R.is(Ee.receiver)?Ee.receiver.createCancellationTokenSource(x):Ee.receiver.createCancellationTokenSource(u);u.id!==null&&Pt.has(u.id)&&ee.cancel(),u.id!==null&&Se.set(x,ee);try{let X;if(oe)if(u.params===void 0){if(K!==void 0&&K.numberOfParams!==0){D(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines ${K.numberOfParams} params but received none.`),u.method,fe);return}X=oe(ee.token)}else if(Array.isArray(u.params)){if(K!==void 0&&K.parameterStructures===r.ParameterStructures.byName){D(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by name but received parameters by position`),u.method,fe);return}X=oe(...u.params,ee.token)}else{if(K!==void 0&&K.parameterStructures===r.ParameterStructures.byPosition){D(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by position but received parameters by name`),u.method,fe);return}X=oe(u.params,ee.token)}else at&&(X=at(u.method,u.params,ee.token));const _e=X;X?_e.then?_e.then(pe=>{Se.delete(x),w(pe,u.method,fe)},pe=>{Se.delete(x),pe instanceof r.ResponseError?D(pe,u.method,fe):pe&&n.string(pe.message)?D(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${pe.message}`),u.method,fe):D(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,fe)}):(Se.delete(x),w(X,u.method,fe)):(Se.delete(x),S(X,u.method,fe))}catch(X){Se.delete(x),X instanceof r.ResponseError?w(X,u.method,fe):X&&n.string(X.message)?D(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${X.message}`),u.method,fe):D(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,fe)}}else D(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,fe)}function kr(u){if(!Je())if(u.id===null)u.error?H.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):H.error("Received response message without id. No further error information provided.");else{const w=u.id,D=Le.get(w);if(Or(u,D),D!==void 0){Le.delete(w);try{if(u.error){const S=u.error;D.reject(new r.ResponseError(S.code,S.message,S.data))}else if(u.result!==void 0)D.resolve(u.result);else throw new Error("Should never happen.")}catch(S){S.message?H.error(`Response handler '${D.method}' failed with message: ${S.message}`):H.error(`Response handler '${D.method}' failed unexpectedly.`)}}}}function Sr(u){if(Je())return;let w,D;if(u.method===c.type.method){const S=u.params.id;Pt.delete(S),Vt(u);return}else{const S=Dt.get(u.method);S&&(D=S.handler,w=S.type)}if(D||ut)try{if(Vt(u),D)if(u.params===void 0)w!==void 0&&w.numberOfParams!==0&&w.parameterStructures!==r.ParameterStructures.byName&&H.error(`Notification ${u.method} defines ${w.numberOfParams} params but received none.`),D();else if(Array.isArray(u.params)){const S=u.params;u.method===f.type.method&&S.length===2&&d.is(S[0])?D({token:S[0],value:S[1]}):(w!==void 0&&(w.parameterStructures===r.ParameterStructures.byName&&H.error(`Notification ${u.method} defines parameters by name but received parameters by position`),w.numberOfParams!==u.params.length&&H.error(`Notification ${u.method} defines ${w.numberOfParams} params but received ${S.length} arguments`)),D(...S))}else w!==void 0&&w.parameterStructures===r.ParameterStructures.byPosition&&H.error(`Notification ${u.method} defines parameters by position but received parameters by name`),D(u.params);else ut&&ut(u.method,u.params)}catch(S){S.message?H.error(`Notification handler '${u.method}' failed with message: ${S.message}`):H.error(`Notification handler '${u.method}' failed unexpectedly.`)}else _n.fire(u)}function Cr(u){if(!u){H.error("Received empty message.");return}H.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);const w=u;if(n.string(w.id)||n.number(w.id)){const D=w.id,S=Le.get(D);S&&S.reject(new Error("The received response has neither a result nor an error property."))}}function Oe(u){if(u!=null)switch(Y){case p.Verbose:return JSON.stringify(u,null,4);case p.Compact:return JSON.stringify(u);default:return}}function qr(u){if(!(Y===p.Off||!ie))if(We===P.Text){let w;(Y===p.Verbose||Y===p.Compact)&&u.params&&(w=`Params: ${Oe(u.params)}

`),ie.log(`Sending request '${u.method} - (${u.id})'.`,w)}else Xe("send-request",u)}function Mr(u){if(!(Y===p.Off||!ie))if(We===P.Text){let w;(Y===p.Verbose||Y===p.Compact)&&(u.params?w=`Params: ${Oe(u.params)}

`:w=`No parameters provided.

`),ie.log(`Sending notification '${u.method}'.`,w)}else Xe("send-notification",u)}function kt(u,w,D){if(!(Y===p.Off||!ie))if(We===P.Text){let S;(Y===p.Verbose||Y===p.Compact)&&(u.error&&u.error.data?S=`Error data: ${Oe(u.error.data)}

`:u.result?S=`Result: ${Oe(u.result)}

`:u.error===void 0&&(S=`No result returned.

`)),ie.log(`Sending response '${w} - (${u.id})'. Processing request took ${Date.now()-D}ms`,S)}else Xe("send-response",u)}function Er(u){if(!(Y===p.Off||!ie))if(We===P.Text){let w;(Y===p.Verbose||Y===p.Compact)&&u.params&&(w=`Params: ${Oe(u.params)}

`),ie.log(`Received request '${u.method} - (${u.id})'.`,w)}else Xe("receive-request",u)}function Vt(u){if(!(Y===p.Off||!ie||u.method===Q.type.method))if(We===P.Text){let w;(Y===p.Verbose||Y===p.Compact)&&(u.params?w=`Params: ${Oe(u.params)}

`:w=`No parameters provided.

`),ie.log(`Received notification '${u.method}'.`,w)}else Xe("receive-notification",u)}function Or(u,w){if(!(Y===p.Off||!ie))if(We===P.Text){let D;if((Y===p.Verbose||Y===p.Compact)&&(u.error&&u.error.data?D=`Error data: ${Oe(u.error.data)}

`:u.result?D=`Result: ${Oe(u.result)}

`:u.error===void 0&&(D=`No result returned.

`)),w){const S=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";ie.log(`Received response '${w.method} - (${u.id})' in ${Date.now()-w.timerStart}ms.${S}`,D)}else ie.log(`Received response ${u.id} without active response promise.`,D)}else Xe("receive-response",u)}function Xe(u,w){if(!ie||Y===p.Off)return;const D={isLSPMessage:!0,type:u,message:w,timestamp:Date.now()};ie.log(D)}function dt(){if(pn())throw new b(L.Closed,"Connection is closed.");if(Je())throw new b(L.Disposed,"Connection is disposed.")}function Nr(){if(wn())throw new b(L.AlreadyListening,"Connection is already listening")}function jr(){if(!wn())throw new Error("Call listen() first.")}function ft(u){return u===void 0?null:u}function Dn(u){if(u!==null)return u}function a(u){return u!=null&&!Array.isArray(u)&&typeof u=="object"}function ue(u,w){switch(u){case r.ParameterStructures.auto:return a(w)?Dn(w):[ft(w)];case r.ParameterStructures.byName:if(!a(w))throw new Error("Received parameters by name but param is not an object literal.");return Dn(w);case r.ParameterStructures.byPosition:return[ft(w)];default:throw new Error(`Unknown parameter structure ${u.toString()}`)}}function de(u,w){let D;const S=u.numberOfParams;switch(S){case 0:D=void 0;break;case 1:D=ue(u.parameterStructures,w[0]);break;default:D=[];for(let G=0;G<w.length&&G<S;G++)D.push(ft(w[G]));if(w.length<S)for(let G=w.length;G<S;G++)D.push(null);break}return D}const N={sendNotification:(u,...w)=>{dt();let D,S;if(n.string(u)){D=u;const K=w[0];let oe=0,fe=r.ParameterStructures.auto;r.ParameterStructures.is(K)&&(oe=1,fe=K);let x=w.length;const ee=x-oe;switch(ee){case 0:S=void 0;break;case 1:S=ue(fe,w[oe]);break;default:if(fe===r.ParameterStructures.byName)throw new Error(`Received ${ee} parameters for 'by Name' notification parameter structure.`);S=w.slice(oe,x).map(X=>ft(X));break}}else{const K=w;D=u.method,S=de(u,K)}const G={jsonrpc:ct,method:D,params:S};return Mr(G),E.write(G).catch(K=>{throw H.error("Sending notification failed."),K})},onNotification:(u,w)=>{dt();let D;return n.func(u)?ut=u:w&&(n.string(u)?(D=u,Dt.set(u,{type:void 0,handler:w})):(D=u.method,Dt.set(u.method,{type:u,handler:w}))),{dispose:()=>{D!==void 0?Dt.delete(D):ut=void 0}}},onProgress:(u,w,D)=>{if(Tt.has(w))throw new Error(`Progress handler for token ${w} already registered`);return Tt.set(w,D),{dispose:()=>{Tt.delete(w)}}},sendProgress:(u,w,D)=>N.sendNotification(f.type,{token:w,value:D}),onUnhandledProgress:bn.event,sendRequest:(u,...w)=>{dt(),jr();let D,S,G;if(n.string(u)){D=u;const x=w[0],ee=w[w.length-1];let X=0,_e=r.ParameterStructures.auto;r.ParameterStructures.is(x)&&(X=1,_e=x);let pe=w.length;s.CancellationToken.is(ee)&&(pe=pe-1,G=ee);const He=pe-X;switch(He){case 0:S=void 0;break;case 1:S=ue(_e,w[X]);break;default:if(_e===r.ParameterStructures.byName)throw new Error(`Received ${He} parameters for 'by Name' request parameter structure.`);S=w.slice(X,pe).map(_u=>ft(_u));break}}else{const x=w;D=u.method,S=de(u,x);const ee=u.numberOfParams;G=s.CancellationToken.is(x[ee])?x[ee]:void 0}const K=_r++;let oe;G&&(oe=G.onCancellationRequested(()=>{const x=Ee.sender.sendCancellation(N,K);return x===void 0?(H.log(`Received no promise from cancellation strategy when cancelling id ${K}`),Promise.resolve()):x.catch(()=>{H.log(`Sending cancellation messages for id ${K} failed`)})}));const fe={jsonrpc:ct,id:K,method:D,params:S};return qr(fe),typeof Ee.sender.enableCancellation=="function"&&Ee.sender.enableCancellation(fe),new Promise(async(x,ee)=>{const X=He=>{x(He),Ee.sender.cleanup(K),oe?.dispose()},_e=He=>{ee(He),Ee.sender.cleanup(K),oe?.dispose()},pe={method:D,timerStart:Date.now(),resolve:X,reject:_e};try{await E.write(fe),Le.set(K,pe)}catch(He){throw H.error("Sending request failed."),pe.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,He.message?He.message:"Unknown reason")),He}})},onRequest:(u,w)=>{dt();let D=null;return m.is(u)?(D=void 0,at=u):n.string(u)?(D=null,w!==void 0&&(D=u,Rt.set(u,{handler:w,type:void 0}))):w!==void 0&&(D=u.method,Rt.set(u.method,{type:u,handler:w})),{dispose:()=>{D!==null&&(D!==void 0?Rt.delete(D):at=void 0)}}},hasPendingResponse:()=>Le.size>0,trace:async(u,w,D)=>{let S=!1,G=P.Text;D!==void 0&&(n.boolean(D)?S=D:(S=D.sendNotification||!1,G=D.traceFormat||P.Text)),Y=u,We=G,Y===p.Off?ie=void 0:ie=w,S&&!pn()&&!Je()&&await N.sendNotification(J.type,{value:p.toString(u)})},onError:Bt.event,onClose:gn.event,onUnhandledNotification:_n.event,onDispose:hn.event,end:()=>{E.end()},dispose:()=>{if(Je())return;Me=be.Disposed,hn.fire(void 0);const u=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const w of Le.values())w.reject(u);Le=new Map,Se=new Map,Pt=new Set,Ae=new i.LinkedMap,n.func(E.dispose)&&E.dispose(),n.func(_.dispose)&&_.dispose()},listen:()=>{dt(),Nr(),Me=be.Listening,_.listen(Tr)},inspect:()=>{(0,t.default)().console.log("inspect")}};return N.onNotification(Q.type,u=>{if(Y===p.Off||!ie)return;const w=Y===p.Verbose||Y===p.Compact;ie.log(u.message,w?u.verbose:void 0)}),N.onNotification(f.type,u=>{const w=Tt.get(u.token);w?w(u.value):bn.fire(u)}),N}e.createMessageConnection=O}(zr)),zr}var qo;function Br(){return qo||(qo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=bo();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=mo();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=Ic();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Gt();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=xr();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=Ac();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return s.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return s.SharedArrayReceiverStrategy}});const c=Lc();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const d=Wc();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return d.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return d.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return d.WriteableStreamMessageWriter}});const f=Hc();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return f.AbstractMessageBuffer}});const g=$c();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return g.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return g.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return g.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return g.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return g.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return g.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return g.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return g.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return g.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return g.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return g.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return g.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return g.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return g.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return g.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return g.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return g.MessageStrategy}});const m=bt();e.RAL=m.default}($r)),$r}Object.defineProperty(Hr,"__esModule",{value:!0});const Ne=Br();class qn extends Ne.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return qn.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}}qn.emptyBuffer=new Uint8Array(0);class xc{constructor(t){this.socket=t,this._onData=new Ne.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Ne.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),Ne.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Ne.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Ne.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}}class zc{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),Ne.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Ne.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Ne.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}}const Bc=new TextEncoder,Mo=Object.freeze({messageBuffer:Object.freeze({create:e=>new qn(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(Bc.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new xc(e),asWritableStream:e=>new zc(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function Vr(){return Mo}(function(e){function t(){Ne.RAL.install(Mo)}e.install=t})(Vr||(Vr={})),Hr.default=Vr,function(e){var t=le&&le.__createBinding||(Object.create?function(d,f,g,m){m===void 0&&(m=g);var p=Object.getOwnPropertyDescriptor(f,g);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(d,m,p)}:function(d,f,g,m){m===void 0&&(m=g),d[m]=f[g]}),n=le&&le.__exportStar||function(d,f){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(f,g)&&t(f,d,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,Hr.default.install();const i=Br();n(Br(),e);class o extends i.AbstractMessageReader{constructor(f){super(),this._onData=new i.Emitter,this._messageListener=g=>{this._onData.fire(g.data)},f.addEventListener("error",g=>this.fireError(g)),f.onmessage=this._messageListener}listen(f){return this._onData.event(f)}}e.BrowserMessageReader=o;class s extends i.AbstractMessageWriter{constructor(f){super(),this.port=f,this.errorCount=0,f.addEventListener("error",g=>this.fireError(g))}write(f){try{return this.port.postMessage(f),Promise.resolve()}catch(g){return this.handleError(g,f),Promise.reject(g)}}handleError(f,g){this.errorCount++,this.fireError(f,g,this.errorCount)}end(){}}e.BrowserMessageWriter=s;function c(d,f,g,m){return g===void 0&&(g=i.NullLogger),i.ConnectionStrategy.is(m)&&(m={connectionStrategy:m}),(0,i.createMessageConnection)(d,f,g,m)}e.createMessageConnection=c}(gt);var Eo=gt,Oo={},Ur;(function(e){function t(n){return typeof n=="string"}e.is=t})(Ur||(Ur={}));var Mn;(function(e){function t(n){return typeof n=="string"}e.is=t})(Mn||(Mn={}));var Jr;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Jr||(Jr={}));var tn;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(tn||(tn={}));var Re;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=tn.MAX_VALUE),i===Number.MAX_VALUE&&(i=tn.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&l.uinteger(i.line)&&l.uinteger(i.character)}e.is=n})(Re||(Re={}));var te;(function(e){function t(r,i,o,s){if(l.uinteger(r)&&l.uinteger(i)&&l.uinteger(o)&&l.uinteger(s))return{start:Re.create(r,i),end:Re.create(o,s)};if(Re.is(r)&&Re.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${s}]`)}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&Re.is(i.start)&&Re.is(i.end)}e.is=n})(te||(te={}));var nn;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&te.is(i.range)&&(l.string(i.uri)||l.undefined(i.uri))}e.is=n})(nn||(nn={}));var Xr;(function(e){function t(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&te.is(i.targetRange)&&l.string(i.targetUri)&&te.is(i.targetSelectionRange)&&(te.is(i.originSelectionRange)||l.undefined(i.originSelectionRange))}e.is=n})(Xr||(Xr={}));var En;(function(e){function t(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.numberRange(i.red,0,1)&&l.numberRange(i.green,0,1)&&l.numberRange(i.blue,0,1)&&l.numberRange(i.alpha,0,1)}e.is=n})(En||(En={}));var Qr;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&te.is(i.range)&&En.is(i.color)}e.is=n})(Qr||(Qr={}));var Yr;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.undefined(i.textEdit)||je.is(i))&&(l.undefined(i.additionalTextEdits)||l.typedArray(i.additionalTextEdits,je.is))}e.is=n})(Yr||(Yr={}));var Kr;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Kr||(Kr={}));var Gr;(function(e){function t(r,i,o,s,c,d){const f={startLine:r,endLine:i};return l.defined(o)&&(f.startCharacter=o),l.defined(s)&&(f.endCharacter=s),l.defined(c)&&(f.kind=c),l.defined(d)&&(f.collapsedText=d),f}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.uinteger(i.startLine)&&l.uinteger(i.startLine)&&(l.undefined(i.startCharacter)||l.uinteger(i.startCharacter))&&(l.undefined(i.endCharacter)||l.uinteger(i.endCharacter))&&(l.undefined(i.kind)||l.string(i.kind))}e.is=n})(Gr||(Gr={}));var On;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&nn.is(i.location)&&l.string(i.message)}e.is=n})(On||(On={}));var Zr;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Zr||(Zr={}));var ei;(function(e){e.Unnecessary=1,e.Deprecated=2})(ei||(ei={}));var ti;(function(e){function t(n){const r=n;return l.objectLiteral(r)&&l.string(r.href)}e.is=t})(ti||(ti={}));var rn;(function(e){function t(r,i,o,s,c,d){let f={range:r,message:i};return l.defined(o)&&(f.severity=o),l.defined(s)&&(f.code=s),l.defined(c)&&(f.source=c),l.defined(d)&&(f.relatedInformation=d),f}e.create=t;function n(r){var i;let o=r;return l.defined(o)&&te.is(o.range)&&l.string(o.message)&&(l.number(o.severity)||l.undefined(o.severity))&&(l.integer(o.code)||l.string(o.code)||l.undefined(o.code))&&(l.undefined(o.codeDescription)||l.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(l.string(o.source)||l.undefined(o.source))&&(l.undefined(o.relatedInformation)||l.typedArray(o.relatedInformation,On.is))}e.is=n})(rn||(rn={}));var wt;(function(e){function t(r,i,...o){let s={title:r,command:i};return l.defined(o)&&o.length>0&&(s.arguments=o),s}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.title)&&l.string(i.command)}e.is=n})(wt||(wt={}));var je;(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function n(o,s){return{range:{start:o,end:o},newText:s}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){const s=o;return l.objectLiteral(s)&&l.string(s.newText)&&te.is(s.range)}e.is=i})(je||(je={}));var pt;(function(e){function t(r,i,o){const s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(l.string(i.description)||i.description===void 0)}e.is=n})(pt||(pt={}));var me;(function(e){function t(n){const r=n;return l.string(r)}e.is=t})(me||(me={}));var Ve;(function(e){function t(o,s,c){return{range:o,newText:s,annotationId:c}}e.replace=t;function n(o,s,c){return{range:{start:o,end:o},newText:s,annotationId:c}}e.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}e.del=r;function i(o){const s=o;return je.is(s)&&(pt.is(s.annotationId)||me.is(s.annotationId))}e.is=i})(Ve||(Ve={}));var on;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&sn.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(on||(on={}));var St;(function(e){function t(r,i,o){let s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&l.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||me.is(i.annotationId))}e.is=n})(St||(St={}));var Ct;(function(e){function t(r,i,o,s){let c={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),s!==void 0&&(c.annotationId=s),c}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&l.string(i.oldUri)&&l.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||me.is(i.annotationId))}e.is=n})(Ct||(Ct={}));var qt;(function(e){function t(r,i,o){let s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&l.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||l.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||l.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||me.is(i.annotationId))}e.is=n})(qt||(qt={}));var Nn;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>l.string(i.kind)?St.is(i)||Ct.is(i)||qt.is(i):on.is(i)))}e.is=t})(Nn||(Nn={}));class jn{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,o;if(r===void 0?i=je.insert(t,n):me.is(r)?(o=r,i=Ve.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ve.insert(t,n,o)),this.edits.push(i),o!==void 0)return o}replace(t,n,r){let i,o;if(r===void 0?i=je.replace(t,n):me.is(r)?(o=r,i=Ve.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ve.replace(t,n,o)),this.edits.push(i),o!==void 0)return o}delete(t,n){let r,i;if(n===void 0?r=je.del(t):me.is(n)?(i=n,r=Ve.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Ve.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class No{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(me.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class Vc{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new No(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(on.is(n)){const r=new jn(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{const r=new jn(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(sn.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new jn(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new jn(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new No,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;pt.is(n)||me.is(n)?i=n:r=n;let o,s;if(i===void 0?o=St.create(t,r):(s=me.is(i)?i:this._changeAnnotations.manage(i),o=St.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;pt.is(r)||me.is(r)?o=r:i=r;let s,c;if(o===void 0?s=Ct.create(t,n,i):(c=me.is(o)?o:this._changeAnnotations.manage(o),s=Ct.create(t,n,i,c)),this._workspaceEdit.documentChanges.push(s),c!==void 0)return c}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;pt.is(n)||me.is(n)?i=n:r=n;let o,s;if(i===void 0?o=qt.create(t,r):(s=me.is(i)?i:this._changeAnnotations.manage(i),o=qt.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}}var ni;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)}e.is=n})(ni||(ni={}));var ri;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.integer(i.version)}e.is=n})(ri||(ri={}));var sn;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&(i.version===null||l.integer(i.version))}e.is=n})(sn||(sn={}));var ii;(function(e){function t(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.string(i.languageId)&&l.integer(i.version)&&l.string(i.text)}e.is=n})(ii||(ii={}));var Fn;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Fn||(Fn={}));var Mt;(function(e){function t(n){const r=n;return l.objectLiteral(n)&&Fn.is(r.kind)&&l.string(r.value)}e.is=t})(Mt||(Mt={}));var oi;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(oi||(oi={}));var si;(function(e){e.PlainText=1,e.Snippet=2})(si||(si={}));var ci;(function(e){e.Deprecated=1})(ci||(ci={}));var ai;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){const i=r;return i&&l.string(i.newText)&&te.is(i.insert)&&te.is(i.replace)}e.is=n})(ai||(ai={}));var ui;(function(e){e.asIs=1,e.adjustIndentation=2})(ui||(ui={}));var di;(function(e){function t(n){const r=n;return r&&(l.string(r.detail)||r.detail===void 0)&&(l.string(r.description)||r.description===void 0)}e.is=t})(di||(di={}));var fi;(function(e){function t(n){return{label:n}}e.create=t})(fi||(fi={}));var li;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(li||(li={}));var cn;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return l.string(i)||l.objectLiteral(i)&&l.string(i.language)&&l.string(i.value)}e.is=n})(cn||(cn={}));var gi;(function(e){function t(n){let r=n;return!!r&&l.objectLiteral(r)&&(Mt.is(r.contents)||cn.is(r.contents)||l.typedArray(r.contents,cn.is))&&(n.range===void 0||te.is(n.range))}e.is=t})(gi||(gi={}));var _i;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(_i||(_i={}));var bi;(function(e){function t(n,r,...i){let o={label:n};return l.defined(r)&&(o.documentation=r),l.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(bi||(bi={}));var hi;(function(e){e.Text=1,e.Read=2,e.Write=3})(hi||(hi={}));var mi;(function(e){function t(n,r){let i={range:n};return l.number(r)&&(i.kind=r),i}e.create=t})(mi||(mi={}));var wi;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(wi||(wi={}));var pi;(function(e){e.Deprecated=1})(pi||(pi={}));var yi;(function(e){function t(n,r,i,o,s){let c={name:n,kind:r,location:{uri:o,range:i}};return s&&(c.containerName=s),c}e.create=t})(yi||(yi={}));var vi;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(vi||(vi={}));var Ri;(function(e){function t(r,i,o,s,c,d){let f={name:r,detail:i,kind:o,range:s,selectionRange:c};return d!==void 0&&(f.children=d),f}e.create=t;function n(r){let i=r;return i&&l.string(i.name)&&l.number(i.kind)&&te.is(i.range)&&te.is(i.selectionRange)&&(i.detail===void 0||l.string(i.detail))&&(i.deprecated===void 0||l.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(Ri||(Ri={}));var Di;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Di||(Di={}));var an;(function(e){e.Invoked=1,e.Automatic=2})(an||(an={}));var Ti;(function(e){function t(r,i,o){let s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function n(r){let i=r;return l.defined(i)&&l.typedArray(i.diagnostics,rn.is)&&(i.only===void 0||l.typedArray(i.only,l.string))&&(i.triggerKind===void 0||i.triggerKind===an.Invoked||i.triggerKind===an.Automatic)}e.is=n})(Ti||(Ti={}));var Pi;(function(e){function t(r,i,o){let s={title:r},c=!0;return typeof i=="string"?(c=!1,s.kind=i):wt.is(i)?s.command=i:s.edit=i,c&&o!==void 0&&(s.kind=o),s}e.create=t;function n(r){let i=r;return i&&l.string(i.title)&&(i.diagnostics===void 0||l.typedArray(i.diagnostics,rn.is))&&(i.kind===void 0||l.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||wt.is(i.command))&&(i.isPreferred===void 0||l.boolean(i.isPreferred))&&(i.edit===void 0||Nn.is(i.edit))}e.is=n})(Pi||(Pi={}));var ki;(function(e){function t(r,i){let o={range:r};return l.defined(i)&&(o.data=i),o}e.create=t;function n(r){let i=r;return l.defined(i)&&te.is(i.range)&&(l.undefined(i.command)||wt.is(i.command))}e.is=n})(ki||(ki={}));var Si;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.uinteger(i.tabSize)&&l.boolean(i.insertSpaces)}e.is=n})(Si||(Si={}));var Ci;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){let i=r;return l.defined(i)&&te.is(i.range)&&(l.undefined(i.target)||l.string(i.target))}e.is=n})(Ci||(Ci={}));var qi;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&te.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(qi||(qi={}));var Mi;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Mi||(Mi={}));var Ei;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Ei||(Ei={}));var Oi;(function(e){function t(n){const r=n;return l.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(Oi||(Oi={}));var Ni;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!=null&&te.is(i.range)&&l.string(i.text)}e.is=n})(Ni||(Ni={}));var ji;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){const i=r;return i!=null&&te.is(i.range)&&l.boolean(i.caseSensitiveLookup)&&(l.string(i.variableName)||i.variableName===void 0)}e.is=n})(ji||(ji={}));var Fi;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!=null&&te.is(i.range)&&(l.string(i.expression)||i.expression===void 0)}e.is=n})(Fi||(Fi={}));var Ii;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return l.defined(i)&&te.is(r.stoppedLocation)}e.is=n})(Ii||(Ii={}));var In;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(In||(In={}));var An;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&(i.tooltip===void 0||l.string(i.tooltip)||Mt.is(i.tooltip))&&(i.location===void 0||nn.is(i.location))&&(i.command===void 0||wt.is(i.command))}e.is=n})(An||(An={}));var Ai;(function(e){function t(r,i,o){const s={position:r,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&Re.is(i.position)&&(l.string(i.label)||l.typedArray(i.label,An.is))&&(i.kind===void 0||In.is(i.kind))&&i.textEdits===void 0||l.typedArray(i.textEdits,je.is)&&(i.tooltip===void 0||l.string(i.tooltip)||Mt.is(i.tooltip))&&(i.paddingLeft===void 0||l.boolean(i.paddingLeft))&&(i.paddingRight===void 0||l.boolean(i.paddingRight))}e.is=n})(Ai||(Ai={}));var Li;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(Li||(Li={}));var Wi;(function(e){function t(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}e.create=t})(Wi||(Wi={}));var Hi;(function(e){function t(n){return{items:n}}e.create=t})(Hi||(Hi={}));var $i;(function(e){e.Invoked=0,e.Automatic=1})($i||($i={}));var xi;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(xi||(xi={}));var zi;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(zi||(zi={}));var Bi;(function(e){function t(n){const r=n;return l.objectLiteral(r)&&Mn.is(r.uri)&&l.string(r.name)}e.is=t})(Bi||(Bi={}));const Uc=[`
`,`\r
`,"\r"];var Vi;(function(e){function t(o,s,c,d){return new Jc(o,s,c,d)}e.create=t;function n(o){let s=o;return!!(l.defined(s)&&l.string(s.uri)&&(l.undefined(s.languageId)||l.string(s.languageId))&&l.uinteger(s.lineCount)&&l.func(s.getText)&&l.func(s.positionAt)&&l.func(s.offsetAt))}e.is=n;function r(o,s){let c=o.getText(),d=i(s,(g,m)=>{let p=g.range.start.line-m.range.start.line;return p===0?g.range.start.character-m.range.start.character:p}),f=c.length;for(let g=d.length-1;g>=0;g--){let m=d[g],p=o.offsetAt(m.range.start),v=o.offsetAt(m.range.end);if(v<=f)c=c.substring(0,p)+m.newText+c.substring(v,c.length);else throw new Error("Overlapping edit");f=p}return c}e.applyEdits=r;function i(o,s){if(o.length<=1)return o;const c=o.length/2|0,d=o.slice(0,c),f=o.slice(c);i(d,s),i(f,s);let g=0,m=0,p=0;for(;g<d.length&&m<f.length;)s(d[g],f[m])<=0?o[p++]=d[g++]:o[p++]=f[m++];for(;g<d.length;)o[p++]=d[g++];for(;m<f.length;)o[p++]=f[m++];return o}})(Vi||(Vi={}));class Jc{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Re.create(0,t);for(;r<i;){let s=Math.floor((r+i)/2);n[s]>t?i=s:r=s+1}let o=r-1;return Re.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var l;(function(e){const t=Object.prototype.toString;function n(v){return typeof v<"u"}e.defined=n;function r(v){return typeof v>"u"}e.undefined=r;function i(v){return v===!0||v===!1}e.boolean=i;function o(v){return t.call(v)==="[object String]"}e.string=o;function s(v){return t.call(v)==="[object Number]"}e.number=s;function c(v,P,J){return t.call(v)==="[object Number]"&&P<=v&&v<=J}e.numberRange=c;function d(v){return t.call(v)==="[object Number]"&&-2147483648<=v&&v<=2147483647}e.integer=d;function f(v){return t.call(v)==="[object Number]"&&0<=v&&v<=2147483647}e.uinteger=f;function g(v){return t.call(v)==="[object Function]"}e.func=g;function m(v){return v!==null&&typeof v=="object"}e.objectLiteral=m;function p(v,P){return Array.isArray(v)&&v.every(P)}e.typedArray=p})(l||(l={}));var Xc=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return Ve},get ChangeAnnotation(){return pt},get ChangeAnnotationIdentifier(){return me},get CodeAction(){return Pi},get CodeActionContext(){return Ti},get CodeActionKind(){return Di},get CodeActionTriggerKind(){return an},get CodeDescription(){return ti},get CodeLens(){return ki},get Color(){return En},get ColorInformation(){return Qr},get ColorPresentation(){return Yr},get Command(){return wt},get CompletionItem(){return fi},get CompletionItemKind(){return oi},get CompletionItemLabelDetails(){return di},get CompletionItemTag(){return ci},get CompletionList(){return li},get CreateFile(){return St},get DeleteFile(){return qt},get Diagnostic(){return rn},get DiagnosticRelatedInformation(){return On},get DiagnosticSeverity(){return Zr},get DiagnosticTag(){return ei},get DocumentHighlight(){return mi},get DocumentHighlightKind(){return hi},get DocumentLink(){return Ci},get DocumentSymbol(){return Ri},get DocumentUri(){return Ur},EOL:Uc,get FoldingRange(){return Gr},get FoldingRangeKind(){return Kr},get FormattingOptions(){return Si},get Hover(){return gi},get InlayHint(){return Ai},get InlayHintKind(){return In},get InlayHintLabelPart(){return An},get InlineCompletionContext(){return zi},get InlineCompletionItem(){return Wi},get InlineCompletionList(){return Hi},get InlineCompletionTriggerKind(){return $i},get InlineValueContext(){return Ii},get InlineValueEvaluatableExpression(){return Fi},get InlineValueText(){return Ni},get InlineValueVariableLookup(){return ji},get InsertReplaceEdit(){return ai},get InsertTextFormat(){return si},get InsertTextMode(){return ui},get Location(){return nn},get LocationLink(){return Xr},get MarkedString(){return cn},get MarkupContent(){return Mt},get MarkupKind(){return Fn},get OptionalVersionedTextDocumentIdentifier(){return sn},get ParameterInformation(){return _i},get Position(){return Re},get Range(){return te},get RenameFile(){return Ct},get SelectedCompletionInfo(){return xi},get SelectionRange(){return qi},get SemanticTokenModifiers(){return Ei},get SemanticTokenTypes(){return Mi},get SemanticTokens(){return Oi},get SignatureInformation(){return bi},get StringValue(){return Li},get SymbolInformation(){return yi},get SymbolKind(){return wi},get SymbolTag(){return pi},get TextDocument(){return Vi},get TextDocumentEdit(){return on},get TextDocumentIdentifier(){return ni},get TextDocumentItem(){return ii},get TextEdit(){return je},get URI(){return Mn},get VersionedTextDocumentIdentifier(){return ri},WorkspaceChange:Vc,get WorkspaceEdit(){return Nn},get WorkspaceFolder(){return Bi},get WorkspaceSymbol(){return vi},get integer(){return Jr},get uinteger(){return tn}}),Ui=Fc(Xc),$={};Object.defineProperty($,"__esModule",{value:!0}),$.ProtocolNotificationType=$.ProtocolNotificationType0=$.ProtocolRequestType=$.ProtocolRequestType0=$.RegistrationType=$.MessageDirection=void 0;const Et=gt;var jo;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(jo||($.MessageDirection=jo={}));class Qc{constructor(t){this.method=t}}$.RegistrationType=Qc;class Yc extends Et.RequestType0{constructor(t){super(t)}}$.ProtocolRequestType0=Yc;class Kc extends Et.RequestType{constructor(t){super(t,Et.ParameterStructures.byName)}}$.ProtocolRequestType=Kc;class Gc extends Et.NotificationType0{constructor(t){super(t)}}$.ProtocolNotificationType0=Gc;class Zc extends Et.NotificationType{constructor(t){super(t,Et.ParameterStructures.byName)}}$.ProtocolNotificationType=Zc;var Fo={},ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.objectLiteral=ne.typedArray=ne.stringArray=ne.array=ne.func=ne.error=ne.number=ne.string=ne.boolean=void 0;function ea(e){return e===!0||e===!1}ne.boolean=ea;function Io(e){return typeof e=="string"||e instanceof String}ne.string=Io;function ta(e){return typeof e=="number"||e instanceof Number}ne.number=ta;function na(e){return e instanceof Error}ne.error=na;function ra(e){return typeof e=="function"}ne.func=ra;function Ao(e){return Array.isArray(e)}ne.array=Ao;function ia(e){return Ao(e)&&e.every(t=>Io(t))}ne.stringArray=ia;function oa(e,t){return Array.isArray(e)&&e.every(t)}ne.typedArray=oa;function sa(e){return e!==null&&typeof e=="object"}ne.objectLiteral=sa;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.ImplementationRequest=void 0;const Lo=$;var Wo;(function(e){e.method="textDocument/implementation",e.messageDirection=Lo.MessageDirection.clientToServer,e.type=new Lo.ProtocolRequestType(e.method)})(Wo||(Ln.ImplementationRequest=Wo={}));var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.TypeDefinitionRequest=void 0;const Ho=$;var $o;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Ho.MessageDirection.clientToServer,e.type=new Ho.ProtocolRequestType(e.method)})($o||(Wn.TypeDefinitionRequest=$o={}));var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.DidChangeWorkspaceFoldersNotification=Ot.WorkspaceFoldersRequest=void 0;const Hn=$;var xo;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Hn.MessageDirection.serverToClient,e.type=new Hn.ProtocolRequestType0(e.method)})(xo||(Ot.WorkspaceFoldersRequest=xo={}));var zo;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Hn.MessageDirection.clientToServer,e.type=new Hn.ProtocolNotificationType(e.method)})(zo||(Ot.DidChangeWorkspaceFoldersNotification=zo={}));var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.ConfigurationRequest=void 0;const Bo=$;var Vo;(function(e){e.method="workspace/configuration",e.messageDirection=Bo.MessageDirection.serverToClient,e.type=new Bo.ProtocolRequestType(e.method)})(Vo||($n.ConfigurationRequest=Vo={}));var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.ColorPresentationRequest=Nt.DocumentColorRequest=void 0;const xn=$;var Uo;(function(e){e.method="textDocument/documentColor",e.messageDirection=xn.MessageDirection.clientToServer,e.type=new xn.ProtocolRequestType(e.method)})(Uo||(Nt.DocumentColorRequest=Uo={}));var Jo;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=xn.MessageDirection.clientToServer,e.type=new xn.ProtocolRequestType(e.method)})(Jo||(Nt.ColorPresentationRequest=Jo={}));var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.FoldingRangeRefreshRequest=jt.FoldingRangeRequest=void 0;const zn=$;var Xo;(function(e){e.method="textDocument/foldingRange",e.messageDirection=zn.MessageDirection.clientToServer,e.type=new zn.ProtocolRequestType(e.method)})(Xo||(jt.FoldingRangeRequest=Xo={}));var Qo;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=zn.MessageDirection.serverToClient,e.type=new zn.ProtocolRequestType0(e.method)})(Qo||(jt.FoldingRangeRefreshRequest=Qo={}));var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.DeclarationRequest=void 0;const Yo=$;var Ko;(function(e){e.method="textDocument/declaration",e.messageDirection=Yo.MessageDirection.clientToServer,e.type=new Yo.ProtocolRequestType(e.method)})(Ko||(Bn.DeclarationRequest=Ko={}));var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.SelectionRangeRequest=void 0;const Go=$;var Zo;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolRequestType(e.method)})(Zo||(Vn.SelectionRangeRequest=Zo={}));var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.WorkDoneProgressCancelNotification=Ke.WorkDoneProgressCreateRequest=Ke.WorkDoneProgress=void 0;const ca=gt,Un=$;var es;(function(e){e.type=new ca.ProgressType;function t(n){return n===e.type}e.is=t})(es||(Ke.WorkDoneProgress=es={}));var ts;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Un.MessageDirection.serverToClient,e.type=new Un.ProtocolRequestType(e.method)})(ts||(Ke.WorkDoneProgressCreateRequest=ts={}));var ns;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Un.MessageDirection.clientToServer,e.type=new Un.ProtocolNotificationType(e.method)})(ns||(Ke.WorkDoneProgressCancelNotification=ns={}));var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.CallHierarchyOutgoingCallsRequest=Ge.CallHierarchyIncomingCallsRequest=Ge.CallHierarchyPrepareRequest=void 0;const Ft=$;var rs;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Ft.MessageDirection.clientToServer,e.type=new Ft.ProtocolRequestType(e.method)})(rs||(Ge.CallHierarchyPrepareRequest=rs={}));var is;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Ft.MessageDirection.clientToServer,e.type=new Ft.ProtocolRequestType(e.method)})(is||(Ge.CallHierarchyIncomingCallsRequest=is={}));var os;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Ft.MessageDirection.clientToServer,e.type=new Ft.ProtocolRequestType(e.method)})(os||(Ge.CallHierarchyOutgoingCallsRequest=os={}));var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.SemanticTokensRefreshRequest=ye.SemanticTokensRangeRequest=ye.SemanticTokensDeltaRequest=ye.SemanticTokensRequest=ye.SemanticTokensRegistrationType=ye.TokenFormat=void 0;const Ue=$;var ss;(function(e){e.Relative="relative"})(ss||(ye.TokenFormat=ss={}));var un;(function(e){e.method="textDocument/semanticTokens",e.type=new Ue.RegistrationType(e.method)})(un||(ye.SemanticTokensRegistrationType=un={}));var cs;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Ue.MessageDirection.clientToServer,e.type=new Ue.ProtocolRequestType(e.method),e.registrationMethod=un.method})(cs||(ye.SemanticTokensRequest=cs={}));var as;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Ue.MessageDirection.clientToServer,e.type=new Ue.ProtocolRequestType(e.method),e.registrationMethod=un.method})(as||(ye.SemanticTokensDeltaRequest=as={}));var us;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Ue.MessageDirection.clientToServer,e.type=new Ue.ProtocolRequestType(e.method),e.registrationMethod=un.method})(us||(ye.SemanticTokensRangeRequest=us={}));var ds;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Ue.MessageDirection.serverToClient,e.type=new Ue.ProtocolRequestType0(e.method)})(ds||(ye.SemanticTokensRefreshRequest=ds={}));var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.ShowDocumentRequest=void 0;const fs=$;var ls;(function(e){e.method="window/showDocument",e.messageDirection=fs.MessageDirection.serverToClient,e.type=new fs.ProtocolRequestType(e.method)})(ls||(Jn.ShowDocumentRequest=ls={}));var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.LinkedEditingRangeRequest=void 0;const gs=$;var _s;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=gs.MessageDirection.clientToServer,e.type=new gs.ProtocolRequestType(e.method)})(_s||(Xn.LinkedEditingRangeRequest=_s={}));var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.WillDeleteFilesRequest=we.DidDeleteFilesNotification=we.DidRenameFilesNotification=we.WillRenameFilesRequest=we.DidCreateFilesNotification=we.WillCreateFilesRequest=we.FileOperationPatternKind=void 0;const De=$;var bs;(function(e){e.file="file",e.folder="folder"})(bs||(we.FileOperationPatternKind=bs={}));var hs;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=De.MessageDirection.clientToServer,e.type=new De.ProtocolRequestType(e.method)})(hs||(we.WillCreateFilesRequest=hs={}));var ms;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=De.MessageDirection.clientToServer,e.type=new De.ProtocolNotificationType(e.method)})(ms||(we.DidCreateFilesNotification=ms={}));var ws;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=De.MessageDirection.clientToServer,e.type=new De.ProtocolRequestType(e.method)})(ws||(we.WillRenameFilesRequest=ws={}));var ps;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=De.MessageDirection.clientToServer,e.type=new De.ProtocolNotificationType(e.method)})(ps||(we.DidRenameFilesNotification=ps={}));var ys;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=De.MessageDirection.clientToServer,e.type=new De.ProtocolNotificationType(e.method)})(ys||(we.DidDeleteFilesNotification=ys={}));var vs;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=De.MessageDirection.clientToServer,e.type=new De.ProtocolRequestType(e.method)})(vs||(we.WillDeleteFilesRequest=vs={}));var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.MonikerRequest=Ze.MonikerKind=Ze.UniquenessLevel=void 0;const Rs=$;var Ds;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Ds||(Ze.UniquenessLevel=Ds={}));var Ts;(function(e){e.$import="import",e.$export="export",e.local="local"})(Ts||(Ze.MonikerKind=Ts={}));var Ps;(function(e){e.method="textDocument/moniker",e.messageDirection=Rs.MessageDirection.clientToServer,e.type=new Rs.ProtocolRequestType(e.method)})(Ps||(Ze.MonikerRequest=Ps={}));var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.TypeHierarchySubtypesRequest=et.TypeHierarchySupertypesRequest=et.TypeHierarchyPrepareRequest=void 0;const It=$;var ks;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=It.MessageDirection.clientToServer,e.type=new It.ProtocolRequestType(e.method)})(ks||(et.TypeHierarchyPrepareRequest=ks={}));var Ss;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=It.MessageDirection.clientToServer,e.type=new It.ProtocolRequestType(e.method)})(Ss||(et.TypeHierarchySupertypesRequest=Ss={}));var Cs;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=It.MessageDirection.clientToServer,e.type=new It.ProtocolRequestType(e.method)})(Cs||(et.TypeHierarchySubtypesRequest=Cs={}));var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.InlineValueRefreshRequest=At.InlineValueRequest=void 0;const Qn=$;var qs;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Qn.MessageDirection.clientToServer,e.type=new Qn.ProtocolRequestType(e.method)})(qs||(At.InlineValueRequest=qs={}));var Ms;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Qn.MessageDirection.serverToClient,e.type=new Qn.ProtocolRequestType0(e.method)})(Ms||(At.InlineValueRefreshRequest=Ms={}));var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.InlayHintRefreshRequest=tt.InlayHintResolveRequest=tt.InlayHintRequest=void 0;const Lt=$;var Es;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Lt.MessageDirection.clientToServer,e.type=new Lt.ProtocolRequestType(e.method)})(Es||(tt.InlayHintRequest=Es={}));var Os;(function(e){e.method="inlayHint/resolve",e.messageDirection=Lt.MessageDirection.clientToServer,e.type=new Lt.ProtocolRequestType(e.method)})(Os||(tt.InlayHintResolveRequest=Os={}));var Ns;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Lt.MessageDirection.serverToClient,e.type=new Lt.ProtocolRequestType0(e.method)})(Ns||(tt.InlayHintRefreshRequest=Ns={}));var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.DiagnosticRefreshRequest=Te.WorkspaceDiagnosticRequest=Te.DocumentDiagnosticRequest=Te.DocumentDiagnosticReportKind=Te.DiagnosticServerCancellationData=void 0;const js=gt,aa=ne,Wt=$;var Fs;(function(e){function t(n){const r=n;return r&&aa.boolean(r.retriggerRequest)}e.is=t})(Fs||(Te.DiagnosticServerCancellationData=Fs={}));var Is;(function(e){e.Full="full",e.Unchanged="unchanged"})(Is||(Te.DocumentDiagnosticReportKind=Is={}));var As;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Wt.MessageDirection.clientToServer,e.type=new Wt.ProtocolRequestType(e.method),e.partialResult=new js.ProgressType})(As||(Te.DocumentDiagnosticRequest=As={}));var Ls;(function(e){e.method="workspace/diagnostic",e.messageDirection=Wt.MessageDirection.clientToServer,e.type=new Wt.ProtocolRequestType(e.method),e.partialResult=new js.ProgressType})(Ls||(Te.WorkspaceDiagnosticRequest=Ls={}));var Ws;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Wt.MessageDirection.serverToClient,e.type=new Wt.ProtocolRequestType0(e.method)})(Ws||(Te.DiagnosticRefreshRequest=Ws={}));var re={};Object.defineProperty(re,"__esModule",{value:!0}),re.DidCloseNotebookDocumentNotification=re.DidSaveNotebookDocumentNotification=re.DidChangeNotebookDocumentNotification=re.NotebookCellArrayChange=re.DidOpenNotebookDocumentNotification=re.NotebookDocumentSyncRegistrationType=re.NotebookDocument=re.NotebookCell=re.ExecutionSummary=re.NotebookCellKind=void 0;const dn=Ui,qe=ne,Fe=$;var Ji;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(Ji||(re.NotebookCellKind=Ji={}));var Xi;(function(e){function t(i,o){const s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function n(i){const o=i;return qe.objectLiteral(o)&&dn.uinteger.is(o.executionOrder)&&(o.success===void 0||qe.boolean(o.success))}e.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=r})(Xi||(re.ExecutionSummary=Xi={}));var Yn;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function n(o){const s=o;return qe.objectLiteral(s)&&Ji.is(s.kind)&&dn.DocumentUri.is(s.document)&&(s.metadata===void 0||qe.objectLiteral(s.metadata))}e.is=n;function r(o,s){const c=new Set;return o.document!==s.document&&c.add("document"),o.kind!==s.kind&&c.add("kind"),o.executionSummary!==s.executionSummary&&c.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&c.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!Xi.equals(o.executionSummary,s.executionSummary)&&c.add("executionSummary"),c}e.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;const c=Array.isArray(o),d=Array.isArray(s);if(c!==d)return!1;if(c&&d){if(o.length!==s.length)return!1;for(let f=0;f<o.length;f++)if(!i(o[f],s[f]))return!1}if(qe.objectLiteral(o)&&qe.objectLiteral(s)){const f=Object.keys(o),g=Object.keys(s);if(f.length!==g.length||(f.sort(),g.sort(),!i(f,g)))return!1;for(let m=0;m<f.length;m++){const p=f[m];if(!i(o[p],s[p]))return!1}}return!0}})(Yn||(re.NotebookCell=Yn={}));var Hs;(function(e){function t(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}e.create=t;function n(r){const i=r;return qe.objectLiteral(i)&&qe.string(i.uri)&&dn.integer.is(i.version)&&qe.typedArray(i.cells,Yn.is)}e.is=n})(Hs||(re.NotebookDocument=Hs={}));var Ht;(function(e){e.method="notebookDocument/sync",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.RegistrationType(e.method)})(Ht||(re.NotebookDocumentSyncRegistrationType=Ht={}));var $s;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=Ht.method})($s||(re.DidOpenNotebookDocumentNotification=$s={}));var xs;(function(e){function t(r){const i=r;return qe.objectLiteral(i)&&dn.uinteger.is(i.start)&&dn.uinteger.is(i.deleteCount)&&(i.cells===void 0||qe.typedArray(i.cells,Yn.is))}e.is=t;function n(r,i,o){const s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=n})(xs||(re.NotebookCellArrayChange=xs={}));var zs;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=Ht.method})(zs||(re.DidChangeNotebookDocumentNotification=zs={}));var Bs;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=Ht.method})(Bs||(re.DidSaveNotebookDocumentNotification=Bs={}));var Vs;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=Ht.method})(Vs||(re.DidCloseNotebookDocumentNotification=Vs={}));var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.InlineCompletionRequest=void 0;const Us=$;var Js;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=Us.MessageDirection.clientToServer,e.type=new Us.ProtocolRequestType(e.method)})(Js||(Kn.InlineCompletionRequest=Js={})),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=$,n=Ui,r=ne,i=Ln;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=Wn;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=Ot;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=$n;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const d=Nt;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return d.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return d.ColorPresentationRequest}});const f=jt;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return f.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return f.FoldingRangeRefreshRequest}});const g=Bn;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return g.DeclarationRequest}});const m=Vn;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return m.SelectionRangeRequest}});const p=Ke;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const v=Ge;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return v.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return v.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return v.CallHierarchyPrepareRequest}});const P=ye;Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return P.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return P.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return P.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return P.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return P.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return P.SemanticTokensRegistrationType}});const J=Jn;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return J.ShowDocumentRequest}});const Q=Xn;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Q.LinkedEditingRangeRequest}});const L=we;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return L.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return L.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return L.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return L.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return L.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return L.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return L.WillDeleteFilesRequest}});const b=Ze;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return b.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return b.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return b.MonikerRequest}});const h=et;Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return h.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return h.TypeHierarchySupertypesRequest}});const R=At;Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return R.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return R.InlineValueRefreshRequest}});const ae=tt;Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return ae.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return ae.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return ae.InlayHintRefreshRequest}});const Z=Te;Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Z.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Z.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Z.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Z.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Z.DiagnosticRefreshRequest}});const ge=re;Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return ge.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return ge.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return ge.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return ge.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ge.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ge.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ge.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ge.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ge.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ge.DidCloseNotebookDocumentNotification}});const ot=Kn;Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return ot.InlineCompletionRequest}});var Ie;(function(a){function ue(de){const N=de;return r.string(N)||r.string(N.language)||r.string(N.scheme)||r.string(N.pattern)}a.is=ue})(Ie||(e.TextDocumentFilter=Ie={}));var st;(function(a){function ue(de){const N=de;return r.objectLiteral(N)&&(r.string(N.notebookType)||r.string(N.scheme)||r.string(N.pattern))}a.is=ue})(st||(e.NotebookDocumentFilter=st={}));var be;(function(a){function ue(de){const N=de;return r.objectLiteral(N)&&(r.string(N.notebook)||st.is(N.notebook))&&(N.language===void 0||r.string(N.language))}a.is=ue})(be||(e.NotebookCellTextDocumentFilter=be={}));var O;(function(a){function ue(de){if(!Array.isArray(de))return!1;for(let N of de)if(!r.string(N)&&!Ie.is(N)&&!be.is(N))return!1;return!0}a.is=ue})(O||(e.DocumentSelector=O={}));var _;(function(a){a.method="client/registerCapability",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolRequestType(a.method)})(_||(e.RegistrationRequest=_={}));var E;(function(a){a.method="client/unregisterCapability",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolRequestType(a.method)})(E||(e.UnregistrationRequest=E={}));var F;(function(a){a.Create="create",a.Rename="rename",a.Delete="delete"})(F||(e.ResourceOperationKind=F={}));var q;(function(a){a.Abort="abort",a.Transactional="transactional",a.TextOnlyTransactional="textOnlyTransactional",a.Undo="undo"})(q||(e.FailureHandlingKind=q={}));var H;(function(a){a.UTF8="utf-8",a.UTF16="utf-16",a.UTF32="utf-32"})(H||(e.PositionEncodingKind=H={}));var _r;(function(a){function ue(de){const N=de;return N&&r.string(N.id)&&N.id.length>0}a.hasId=ue})(_r||(e.StaticRegistrationOptions=_r={}));var br;(function(a){function ue(de){const N=de;return N&&(N.documentSelector===null||O.is(N.documentSelector))}a.is=ue})(br||(e.TextDocumentRegistrationOptions=br={}));var hr;(function(a){function ue(N){const u=N;return r.objectLiteral(u)&&(u.workDoneProgress===void 0||r.boolean(u.workDoneProgress))}a.is=ue;function de(N){const u=N;return u&&r.boolean(u.workDoneProgress)}a.hasWorkDoneProgress=de})(hr||(e.WorkDoneProgressOptions=hr={}));var ct;(function(a){a.method="initialize",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(ct||(e.InitializeRequest=ct={}));var at;(function(a){a.unknownProtocolVersion=1})(at||(e.InitializeErrorCodes=at={}));var Rt;(function(a){a.method="initialized",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(Rt||(e.InitializedNotification=Rt={}));var ut;(function(a){a.method="shutdown",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType0(a.method)})(ut||(e.ShutdownRequest=ut={}));var Dt;(function(a){a.method="exit",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType0(a.method)})(Dt||(e.ExitNotification=Dt={}));var Tt;(function(a){a.method="workspace/didChangeConfiguration",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(Tt||(e.DidChangeConfigurationNotification=Tt={}));var zt;(function(a){a.Error=1,a.Warning=2,a.Info=3,a.Log=4,a.Debug=5})(zt||(e.MessageType=zt={}));var Ae;(function(a){a.method="window/showMessage",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolNotificationType(a.method)})(Ae||(e.ShowMessageNotification=Ae={}));var Le;(function(a){a.method="window/showMessageRequest",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolRequestType(a.method)})(Le||(e.ShowMessageRequest=Le={}));var Pt;(function(a){a.method="window/logMessage",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolNotificationType(a.method)})(Pt||(e.LogMessageNotification=Pt={}));var Se;(function(a){a.method="telemetry/event",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolNotificationType(a.method)})(Se||(e.TelemetryEventNotification=Se={}));var Y;(function(a){a.None=0,a.Full=1,a.Incremental=2})(Y||(e.TextDocumentSyncKind=Y={}));var We;(function(a){a.method="textDocument/didOpen",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(We||(e.DidOpenTextDocumentNotification=We={}));var ie;(function(a){function ue(N){let u=N;return u!=null&&typeof u.text=="string"&&u.range!==void 0&&(u.rangeLength===void 0||typeof u.rangeLength=="number")}a.isIncremental=ue;function de(N){let u=N;return u!=null&&typeof u.text=="string"&&u.range===void 0&&u.rangeLength===void 0}a.isFull=de})(ie||(e.TextDocumentContentChangeEvent=ie={}));var Me;(function(a){a.method="textDocument/didChange",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(Me||(e.DidChangeTextDocumentNotification=Me={}));var Bt;(function(a){a.method="textDocument/didClose",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(Bt||(e.DidCloseTextDocumentNotification=Bt={}));var gn;(function(a){a.method="textDocument/didSave",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(gn||(e.DidSaveTextDocumentNotification=gn={}));var _n;(function(a){a.Manual=1,a.AfterDelay=2,a.FocusOut=3})(_n||(e.TextDocumentSaveReason=_n={}));var bn;(function(a){a.method="textDocument/willSave",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(bn||(e.WillSaveTextDocumentNotification=bn={}));var hn;(function(a){a.method="textDocument/willSaveWaitUntil",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(hn||(e.WillSaveTextDocumentWaitUntilRequest=hn={}));var Ee;(function(a){a.method="workspace/didChangeWatchedFiles",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolNotificationType(a.method)})(Ee||(e.DidChangeWatchedFilesNotification=Ee={}));var mn;(function(a){a.Created=1,a.Changed=2,a.Deleted=3})(mn||(e.FileChangeType=mn={}));var mr;(function(a){function ue(de){const N=de;return r.objectLiteral(N)&&(n.URI.is(N.baseUri)||n.WorkspaceFolder.is(N.baseUri))&&r.string(N.pattern)}a.is=ue})(mr||(e.RelativePattern=mr={}));var wr;(function(a){a.Create=1,a.Change=2,a.Delete=4})(wr||(e.WatchKind=wr={}));var pr;(function(a){a.method="textDocument/publishDiagnostics",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolNotificationType(a.method)})(pr||(e.PublishDiagnosticsNotification=pr={}));var yr;(function(a){a.Invoked=1,a.TriggerCharacter=2,a.TriggerForIncompleteCompletions=3})(yr||(e.CompletionTriggerKind=yr={}));var wn;(function(a){a.method="textDocument/completion",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(wn||(e.CompletionRequest=wn={}));var pn;(function(a){a.method="completionItem/resolve",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(pn||(e.CompletionResolveRequest=pn={}));var Je;(function(a){a.method="textDocument/hover",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Je||(e.HoverRequest=Je={}));var yn;(function(a){a.Invoked=1,a.TriggerCharacter=2,a.ContentChange=3})(yn||(e.SignatureHelpTriggerKind=yn={}));var vr;(function(a){a.method="textDocument/signatureHelp",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(vr||(e.SignatureHelpRequest=vr={}));var Rr;(function(a){a.method="textDocument/definition",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Rr||(e.DefinitionRequest=Rr={}));var vn;(function(a){a.method="textDocument/references",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(vn||(e.ReferencesRequest=vn={}));var Rn;(function(a){a.method="textDocument/documentHighlight",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Rn||(e.DocumentHighlightRequest=Rn={}));var Dr;(function(a){a.method="textDocument/documentSymbol",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Dr||(e.DocumentSymbolRequest=Dr={}));var Tr;(function(a){a.method="textDocument/codeAction",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Tr||(e.CodeActionRequest=Tr={}));var Pr;(function(a){a.method="codeAction/resolve",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Pr||(e.CodeActionResolveRequest=Pr={}));var kr;(function(a){a.method="workspace/symbol",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(kr||(e.WorkspaceSymbolRequest=kr={}));var Sr;(function(a){a.method="workspaceSymbol/resolve",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Sr||(e.WorkspaceSymbolResolveRequest=Sr={}));var Cr;(function(a){a.method="textDocument/codeLens",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Cr||(e.CodeLensRequest=Cr={}));var Oe;(function(a){a.method="codeLens/resolve",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Oe||(e.CodeLensResolveRequest=Oe={}));var qr;(function(a){a.method="workspace/codeLens/refresh",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolRequestType0(a.method)})(qr||(e.CodeLensRefreshRequest=qr={}));var Mr;(function(a){a.method="textDocument/documentLink",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Mr||(e.DocumentLinkRequest=Mr={}));var kt;(function(a){a.method="documentLink/resolve",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(kt||(e.DocumentLinkResolveRequest=kt={}));var Er;(function(a){a.method="textDocument/formatting",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Er||(e.DocumentFormattingRequest=Er={}));var Vt;(function(a){a.method="textDocument/rangeFormatting",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Vt||(e.DocumentRangeFormattingRequest=Vt={}));var Or;(function(a){a.method="textDocument/rangesFormatting",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Or||(e.DocumentRangesFormattingRequest=Or={}));var Xe;(function(a){a.method="textDocument/onTypeFormatting",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Xe||(e.DocumentOnTypeFormattingRequest=Xe={}));var dt;(function(a){a.Identifier=1})(dt||(e.PrepareSupportDefaultBehavior=dt={}));var Nr;(function(a){a.method="textDocument/rename",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(Nr||(e.RenameRequest=Nr={}));var jr;(function(a){a.method="textDocument/prepareRename",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(jr||(e.PrepareRenameRequest=jr={}));var ft;(function(a){a.method="workspace/executeCommand",a.messageDirection=t.MessageDirection.clientToServer,a.type=new t.ProtocolRequestType(a.method)})(ft||(e.ExecuteCommandRequest=ft={}));var Dn;(function(a){a.method="workspace/applyEdit",a.messageDirection=t.MessageDirection.serverToClient,a.type=new t.ProtocolRequestType("workspace/applyEdit")})(Dn||(e.ApplyWorkspaceEditRequest=Dn={}))}(Fo);var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.createProtocolConnection=void 0;const Xs=gt;function ua(e,t,n,r){return Xs.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Xs.createMessageConnection)(e,t,n,r)}Gn.createProtocolConnection=ua,function(e){var t=le&&le.__createBinding||(Object.create?function(o,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(o,d,f)}:function(o,s,c,d){d===void 0&&(d=c),o[d]=s[c]}),n=le&&le.__exportStar||function(o,s){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&t(s,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(gt,e),n(Ui,e),n($,e),n(Fo,e);var r=Gn;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))}(Oo),function(e){var t=le&&le.__createBinding||(Object.create?function(o,s,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(s,c);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(o,d,f)}:function(o,s,c,d){d===void 0&&(d=c),o[d]=s[c]}),n=le&&le.__exportStar||function(o,s){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&t(s,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=Eo;n(Eo,e),n(Oo,e);function i(o,s,c,d){return(0,r.createMessageConnection)(o,s,c,d)}e.createProtocolConnection=i}(se),Object.defineProperty($e,"__esModule",{value:!0}),$e.SemanticTokensBuilder=$e.SemanticTokensDiff=$e.SemanticTokensFeature=void 0;const Zn=se,da=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Zn.SemanticTokensRefreshRequest.type),on:t=>{const n=Zn.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{const n=Zn.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{const n=Zn.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};$e.SemanticTokensFeature=da;class Qs{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){const t=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);const s=i-r+1,c=this.modifiedSequence.slice(r,o+1);return c.length===1&&c[0]===this.originalSequence[i]?[{start:r,deleteCount:s-1}]:[{start:r,deleteCount:s,data:c}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}}$e.SemanticTokensDiff=Qs;class fa{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,o){let s=t,c=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(c-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=c,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Qs(this._prevData,this._data).computeDiff()}:this.build()}}$e.SemanticTokensBuilder=fa;var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.InlineCompletionFeature=void 0;const la=se,ga=e=>class extends e{get inlineCompletion(){return{on:t=>this.connection.onRequest(la.InlineCompletionRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};er.InlineCompletionFeature=ga;var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.TextDocuments=void 0;const yt=se;class _a{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new yt.Emitter,this._onDidOpen=new yt.Emitter,this._onDidClose=new yt.Emitter,this._onDidSave=new yt.Emitter,this._onWillSave=new yt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=yt.TextDocumentSyncKind.Incremental;const n=[];return n.push(t.onDidOpenTextDocument(r=>{const i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);const s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),n.push(t.onDidChangeTextDocument(r=>{const i=r.textDocument,o=r.contentChanges;if(o.length===0)return;const{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let c=this._syncedDocuments.get(i.uri);c!==void 0&&(c=this._configuration.update(c,o,s),this._syncedDocuments.set(i.uri,c),this._onDidChangeContent.fire(Object.freeze({document:c})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),yt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}fn.TextDocuments=_a;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.NotebookDocuments=vt.NotebookSyncFeature=void 0;const Pe=se,Ys=fn,ba=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(Pe.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(Pe.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(Pe.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(Pe.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};vt.NotebookSyncFeature=ba;class $t{onDidOpenTextDocument(t){return this.openHandler=t,Pe.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Pe.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Pe.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return $t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return $t.NULL_DISPOSE}onDidSaveTextDocument(){return $t.NULL_DISPOSE}}$t.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class ha{constructor(t){t instanceof Ys.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Ys.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Pe.Emitter,this._onDidChange=new Pe.Emitter,this._onDidSave=new Pe.Emitter,this._onDidClose=new Pe.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){const n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){const n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){const n=new $t,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;const s=o.metadata;let c=!1;const d=i.change;d.metadata!==void 0&&(c=!0,o.metadata=d.metadata);const f=[],g=[],m=[],p=[];if(d.cells!==void 0){const L=d.cells;if(L.structure!==void 0){const b=L.structure.array;if(o.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),L.structure.didOpen!==void 0)for(const h of L.structure.didOpen)n.openTextDocument({textDocument:h}),f.push(h.uri);if(L.structure.didClose)for(const h of L.structure.didClose)n.closeTextDocument({textDocument:h}),g.push(h.uri)}if(L.data!==void 0){const b=new Map(L.data.map(h=>[h.document,h]));for(let h=0;h<=o.cells.length;h++){const R=b.get(o.cells[h].document);if(R!==void 0){const ae=o.cells.splice(h,1,R);if(m.push({old:ae[0],new:R}),b.delete(R.document),b.size===0)break}}}if(L.textContent!==void 0)for(const b of L.textContent)n.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),p.push(b.document.uri)}this.updateCellMap(o);const v={notebookDocument:o};c&&(v.metadata={old:s,new:o.metadata});const P=[];for(const L of f)P.push(this.getNotebookCell(L));const J=[];for(const L of g)J.push(this.getNotebookCell(L));const Q=[];for(const L of p)Q.push(this.getNotebookCell(L));(P.length>0||J.length>0||m.length>0||Q.length>0)&&(v.cells={added:P,removed:J,changed:{data:m,textContent:Q}}),(v.metadata!==void 0||v.cells!==void 0)&&this._onDidChange.fire(v)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(const s of i.cellTextDocuments)n.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(const s of o.cells)this.notebookCellMap.delete(s.document)}})),Pe.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(const n of t.cells)this.notebookCellMap.set(n.document,[n,t])}}vt.NotebookDocuments=ha;var z={},ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.thenable=ce.typedArray=ce.stringArray=ce.array=ce.func=ce.error=ce.number=ce.string=ce.boolean=void 0;function ma(e){return e===!0||e===!1}ce.boolean=ma;function Ks(e){return typeof e=="string"||e instanceof String}ce.string=Ks;function wa(e){return typeof e=="number"||e instanceof Number}ce.number=wa;function pa(e){return e instanceof Error}ce.error=pa;function Gs(e){return typeof e=="function"}ce.func=Gs;function Zs(e){return Array.isArray(e)}ce.array=Zs;function ya(e){return Zs(e)&&e.every(t=>Ks(t))}ce.stringArray=ya;function va(e,t){return Array.isArray(e)&&e.every(t)}ce.typedArray=va;function Ra(e){return e&&Gs(e.then)}ce.thenable=Ra;var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.generateUuid=ve.parse=ve.isUUID=ve.v4=ve.empty=void 0;class Qi{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}}class W extends Qi{static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return W._oneOf(W._chars)}constructor(){super([W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),"-",W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),"-","4",W._randomHex(),W._randomHex(),W._randomHex(),"-",W._oneOf(W._timeHighBits),W._randomHex(),W._randomHex(),W._randomHex(),"-",W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex()].join(""))}}W._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],W._timeHighBits=["8","9","a","b"],ve.empty=new Qi("00000000-0000-0000-0000-000000000000");function ec(){return new W}ve.v4=ec;const Da=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function tc(e){return Da.test(e)}ve.isUUID=tc;function Ta(e){if(!tc(e))throw new Error("invalid uuid");return new Qi(e)}ve.parse=Ta;function Pa(){return ec().asHex()}ve.generateUuid=Pa;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.attachPartialResult=nt.ProgressFeature=nt.attachWorkDone=void 0;const rt=se,ka=ve;class it{constructor(t,n){this._connection=t,this._token=n,it.Instances.set(this._token,this)}begin(t,n,r,i){let o={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(rt.WorkDoneProgress.type,this._token,o)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(rt.WorkDoneProgress.type,this._token,r)}done(){it.Instances.delete(this._token),this._connection.sendProgress(rt.WorkDoneProgress.type,this._token,{kind:"end"})}}it.Instances=new Map;class nc extends it{constructor(t,n){super(t,n),this._source=new rt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class Yi{constructor(){}begin(){}report(){}done(){}}class rc extends Yi{constructor(){super(),this._source=new rt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function Sa(e,t){if(t===void 0||t.workDoneToken===void 0)return new Yi;const n=t.workDoneToken;return delete t.workDoneToken,new it(e,n)}nt.attachWorkDone=Sa;const Ca=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(rt.WorkDoneProgressCancelNotification.type,n=>{let r=it.Instances.get(n.token);(r instanceof nc||r instanceof rc)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Yi:new it(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){const t=(0,ka.generateUuid)();return this.connection.sendRequest(rt.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new nc(this.connection,t))}else return Promise.resolve(new rc)}};nt.ProgressFeature=Ca;var Ki;(function(e){e.type=new rt.ProgressType})(Ki||(Ki={}));class qa{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Ki.type,this._token,t)}}function Ma(e,t){if(t===void 0||t.partialResultToken===void 0)return;const n=t.partialResultToken;return delete t.partialResultToken,new qa(e,n)}nt.attachPartialResult=Ma;var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.ConfigurationFeature=void 0;const Ea=se,Oa=ce,Na=e=>class extends e{getConfiguration(t){return t?Oa.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Ea.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};tr.ConfigurationFeature=Na;var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.WorkspaceFoldersFeature=void 0;const rr=se,ja=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new rr.Emitter,this.connection.onNotification(rr.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);const n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(rr.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(rr.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};nr.WorkspaceFoldersFeature=ja;var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.CallHierarchyFeature=void 0;const Gi=se,Fa=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Gi.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{const n=Gi.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{const n=Gi.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ir.CallHierarchyFeature=Fa;var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.ShowDocumentFeature=void 0;const Ia=se,Aa=e=>class extends e{showDocument(t){return this.connection.sendRequest(Ia.ShowDocumentRequest.type,t)}};or.ShowDocumentFeature=Aa;var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.FileOperationsFeature=void 0;const xt=se,La=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(xt.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(xt.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(xt.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(xt.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(xt.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(xt.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};sr.FileOperationsFeature=La;var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.LinkedEditingRangeFeature=void 0;const Wa=se,Ha=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Wa.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};cr.LinkedEditingRangeFeature=Ha;var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.TypeHierarchyFeature=void 0;const Zi=se,$a=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Zi.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{const n=Zi.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{const n=Zi.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ar.TypeHierarchyFeature=$a;var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.InlineValueFeature=void 0;const ic=se,xa=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(ic.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(ic.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};ur.InlineValueFeature=xa;var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.FoldingRangeFeature=void 0;const oc=se,za=e=>class extends e{get foldingRange(){return{refresh:()=>this.connection.sendRequest(oc.FoldingRangeRefreshRequest.type),on:t=>{const n=oc.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};dr.FoldingRangeFeature=za;var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.InlayHintFeature=void 0;const eo=se,Ba=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(eo.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(eo.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(eo.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};fr.InlayHintFeature=Ba;var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.DiagnosticFeature=void 0;const ln=se,Va=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(ln.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(ln.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(ln.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(ln.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(ln.WorkspaceDiagnosticRequest.partialResult,n)))}}};lr.DiagnosticFeature=Va;var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.MonikerFeature=void 0;const Ua=se,Ja=e=>class extends e{get moniker(){return{on:t=>{const n=Ua.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};gr.MonikerFeature=Ja,Object.defineProperty(z,"__esModule",{value:!0}),z.createConnection=z.combineFeatures=z.combineNotebooksFeatures=z.combineLanguagesFeatures=z.combineWorkspaceFeatures=z.combineWindowFeatures=z.combineClientFeatures=z.combineTracerFeatures=z.combineTelemetryFeatures=z.combineConsoleFeatures=z._NotebooksImpl=z._LanguagesImpl=z.BulkUnregistration=z.BulkRegistration=z.ErrorMessageTracker=void 0;const T=se,ke=ce,to=ve,j=nt,Xa=tr,Qa=nr,Ya=ir,Ka=$e,Ga=or,Za=sr,eu=cr,tu=ar,nu=ur,ru=dr,iu=fr,ou=lr,su=vt,cu=gr;function no(e){if(e!==null)return e}class au{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}}z.ErrorMessageTracker=au;class sc{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(T.MessageType.Error,t)}warn(t){this.send(T.MessageType.Warning,t)}info(t){this.send(T.MessageType.Info,t)}log(t){this.send(T.MessageType.Log,t)}debug(t){this.send(T.MessageType.Debug,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(T.LogMessageNotification.type,{type:t,message:n}).catch(()=>{(0,T.RAL)().console.error("Sending log message failed")})}}class uu{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:T.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(T.ShowMessageRequest.type,r).then(no)}showWarningMessage(t,...n){let r={type:T.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(T.ShowMessageRequest.type,r).then(no)}showInformationMessage(t,...n){let r={type:T.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(T.ShowMessageRequest.type,r).then(no)}}const cc=(0,Ga.ShowDocumentFeature)((0,j.ProgressFeature)(uu));var ac;(function(e){function t(){return new uc}e.create=t})(ac||(z.BulkRegistration=ac={}));class uc{constructor(){this._registrations=[],this._registered=new Set}add(t,n){const r=ke.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const i=to.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var dc;(function(e){function t(){return new ro(void 0,[])}e.create=t})(dc||(z.BulkUnregistration=dc={}));class ro{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(T.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){const n=ke.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(T.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}}class fc{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof uc?this.registerMany(t):t instanceof ro?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){const i=ke.string(n)?n:n.method,o=to.generateUuid();let s={registrations:[{id:o,method:i,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(T.RegistrationRequest.type,s).then(c=>(t.add({id:o,method:i}),t),c=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(c)))}registerSingle2(t,n){const r=ke.string(t)?t:t.method,i=to.generateUuid();let o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(T.RegistrationRequest.type,o).then(s=>T.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(T.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(T.RegistrationRequest.type,n).then(()=>new ro(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class du{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(i){return i&&!!i.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(T.ApplyWorkspaceEditRequest.type,r)}}const lc=(0,Za.FileOperationsFeature)((0,Qa.WorkspaceFoldersFeature)((0,Xa.ConfigurationFeature)(du)));class gc{constructor(){this._trace=T.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==T.Trace.Off&&this.connection.sendNotification(T.LogTraceNotification.type,{message:t,verbose:this._trace===T.Trace.Verbose?n:void 0}).catch(()=>{})}}class _c{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(T.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class bc{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,j.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,j.attachPartialResult)(this.connection,n)}}z._LanguagesImpl=bc;const hc=(0,ru.FoldingRangeFeature)((0,cu.MonikerFeature)((0,ou.DiagnosticFeature)((0,iu.InlayHintFeature)((0,nu.InlineValueFeature)((0,tu.TypeHierarchyFeature)((0,eu.LinkedEditingRangeFeature)((0,Ka.SemanticTokensFeature)((0,Ya.CallHierarchyFeature)(bc)))))))));class mc{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,j.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,j.attachPartialResult)(this.connection,n)}}z._NotebooksImpl=mc;const wc=(0,su.NotebookSyncFeature)(mc);function pc(e,t){return function(n){return t(e(n))}}z.combineConsoleFeatures=pc;function yc(e,t){return function(n){return t(e(n))}}z.combineTelemetryFeatures=yc;function vc(e,t){return function(n){return t(e(n))}}z.combineTracerFeatures=vc;function Rc(e,t){return function(n){return t(e(n))}}z.combineClientFeatures=Rc;function Dc(e,t){return function(n){return t(e(n))}}z.combineWindowFeatures=Dc;function Tc(e,t){return function(n){return t(e(n))}}z.combineWorkspaceFeatures=Tc;function Pc(e,t){return function(n){return t(e(n))}}z.combineLanguagesFeatures=Pc;function kc(e,t){return function(n){return t(e(n))}}z.combineNotebooksFeatures=kc;function fu(e,t){function n(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:n(e.console,t.console,pc),tracer:n(e.tracer,t.tracer,vc),telemetry:n(e.telemetry,t.telemetry,yc),client:n(e.client,t.client,Rc),window:n(e.window,t.window,Dc),workspace:n(e.workspace,t.workspace,Tc),languages:n(e.languages,t.languages,Pc),notebooks:n(e.notebooks,t.notebooks,kc)}}z.combineFeatures=fu;function lu(e,t,n){const r=n&&n.console?new(n.console(sc)):new sc,i=e(r);r.rawAttach(i);const o=n&&n.tracer?new(n.tracer(gc)):new gc,s=n&&n.telemetry?new(n.telemetry(_c)):new _c,c=n&&n.client?new(n.client(fc)):new fc,d=n&&n.window?new(n.window(cc)):new cc,f=n&&n.workspace?new(n.workspace(lc)):new lc,g=n&&n.languages?new(n.languages(hc)):new hc,m=n&&n.notebooks?new(n.notebooks(wc)):new wc,p=[r,o,s,c,d,f,g,m];function v(b){return b instanceof Promise?b:ke.thenable(b)?new Promise((h,R)=>{b.then(ae=>h(ae),ae=>R(ae))}):Promise.resolve(b)}let P,J,Q,L={listen:()=>i.listen(),sendRequest:(b,...h)=>i.sendRequest(ke.string(b)?b:b.method,...h),onRequest:(b,h)=>i.onRequest(b,h),sendNotification:(b,h)=>{const R=ke.string(b)?b:b.method;return i.sendNotification(R,h)},onNotification:(b,h)=>i.onNotification(b,h),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:b=>(J=b,{dispose:()=>{J=void 0}}),onInitialized:b=>i.onNotification(T.InitializedNotification.type,b),onShutdown:b=>(P=b,{dispose:()=>{P=void 0}}),onExit:b=>(Q=b,{dispose:()=>{Q=void 0}}),get console(){return r},get telemetry(){return s},get tracer(){return o},get client(){return c},get window(){return d},get workspace(){return f},get languages(){return g},get notebooks(){return m},onDidChangeConfiguration:b=>i.onNotification(T.DidChangeConfigurationNotification.type,b),onDidChangeWatchedFiles:b=>i.onNotification(T.DidChangeWatchedFilesNotification.type,b),__textDocumentSync:void 0,onDidOpenTextDocument:b=>i.onNotification(T.DidOpenTextDocumentNotification.type,b),onDidChangeTextDocument:b=>i.onNotification(T.DidChangeTextDocumentNotification.type,b),onDidCloseTextDocument:b=>i.onNotification(T.DidCloseTextDocumentNotification.type,b),onWillSaveTextDocument:b=>i.onNotification(T.WillSaveTextDocumentNotification.type,b),onWillSaveTextDocumentWaitUntil:b=>i.onRequest(T.WillSaveTextDocumentWaitUntilRequest.type,b),onDidSaveTextDocument:b=>i.onNotification(T.DidSaveTextDocumentNotification.type,b),sendDiagnostics:b=>i.sendNotification(T.PublishDiagnosticsNotification.type,b),onHover:b=>i.onRequest(T.HoverRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),void 0)),onCompletion:b=>i.onRequest(T.CompletionRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onCompletionResolve:b=>i.onRequest(T.CompletionResolveRequest.type,b),onSignatureHelp:b=>i.onRequest(T.SignatureHelpRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),void 0)),onDeclaration:b=>i.onRequest(T.DeclarationRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onDefinition:b=>i.onRequest(T.DefinitionRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onTypeDefinition:b=>i.onRequest(T.TypeDefinitionRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onImplementation:b=>i.onRequest(T.ImplementationRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onReferences:b=>i.onRequest(T.ReferencesRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onDocumentHighlight:b=>i.onRequest(T.DocumentHighlightRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onDocumentSymbol:b=>i.onRequest(T.DocumentSymbolRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onWorkspaceSymbol:b=>i.onRequest(T.WorkspaceSymbolRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onWorkspaceSymbolResolve:b=>i.onRequest(T.WorkspaceSymbolResolveRequest.type,b),onCodeAction:b=>i.onRequest(T.CodeActionRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onCodeActionResolve:b=>i.onRequest(T.CodeActionResolveRequest.type,(h,R)=>b(h,R)),onCodeLens:b=>i.onRequest(T.CodeLensRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onCodeLensResolve:b=>i.onRequest(T.CodeLensResolveRequest.type,(h,R)=>b(h,R)),onDocumentFormatting:b=>i.onRequest(T.DocumentFormattingRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),void 0)),onDocumentRangeFormatting:b=>i.onRequest(T.DocumentRangeFormattingRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),void 0)),onDocumentOnTypeFormatting:b=>i.onRequest(T.DocumentOnTypeFormattingRequest.type,(h,R)=>b(h,R)),onRenameRequest:b=>i.onRequest(T.RenameRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),void 0)),onPrepareRename:b=>i.onRequest(T.PrepareRenameRequest.type,(h,R)=>b(h,R)),onDocumentLinks:b=>i.onRequest(T.DocumentLinkRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onDocumentLinkResolve:b=>i.onRequest(T.DocumentLinkResolveRequest.type,(h,R)=>b(h,R)),onDocumentColor:b=>i.onRequest(T.DocumentColorRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onColorPresentation:b=>i.onRequest(T.ColorPresentationRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onFoldingRanges:b=>i.onRequest(T.FoldingRangeRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onSelectionRanges:b=>i.onRequest(T.SelectionRangeRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),(0,j.attachPartialResult)(i,h))),onExecuteCommand:b=>i.onRequest(T.ExecuteCommandRequest.type,(h,R)=>b(h,R,(0,j.attachWorkDone)(i,h),void 0)),dispose:()=>i.dispose()};for(let b of p)b.attach(L);return i.onRequest(T.InitializeRequest.type,b=>{t.initialize(b),ke.string(b.trace)&&(o.trace=T.Trace.fromString(b.trace));for(let h of p)h.initialize(b.capabilities);if(J){let h=J(b,new T.CancellationTokenSource().token,(0,j.attachWorkDone)(i,b),void 0);return v(h).then(R=>{if(R instanceof T.ResponseError)return R;let ae=R;ae||(ae={capabilities:{}});let Z=ae.capabilities;Z||(Z={},ae.capabilities=Z),Z.textDocumentSync===void 0||Z.textDocumentSync===null?Z.textDocumentSync=ke.number(L.__textDocumentSync)?L.__textDocumentSync:T.TextDocumentSyncKind.None:!ke.number(Z.textDocumentSync)&&!ke.number(Z.textDocumentSync.change)&&(Z.textDocumentSync.change=ke.number(L.__textDocumentSync)?L.__textDocumentSync:T.TextDocumentSyncKind.None);for(let ge of p)ge.fillServerCapabilities(Z);return ae})}else{let h={capabilities:{textDocumentSync:T.TextDocumentSyncKind.None}};for(let R of p)R.fillServerCapabilities(h.capabilities);return h}}),i.onRequest(T.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,P)return P(new T.CancellationTokenSource().token)}),i.onNotification(T.ExitNotification.type,()=>{try{Q&&Q()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(T.SetTraceNotification.type,b=>{o.trace=T.Trace.fromString(b.value)}),L}z.createConnection=lu,function(e){var t=le&&le.__createBinding||(Object.create?function(d,f,g,m){m===void 0&&(m=g);var p=Object.getOwnPropertyDescriptor(f,g);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(d,m,p)}:function(d,f,g,m){m===void 0&&(m=g),d[m]=f[g]}),n=le&&le.__exportStar||function(d,f){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(f,g)&&t(f,d,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=$e;Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=er;n(se,e);const o=fn;Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return o.TextDocuments}});const s=vt;Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return s.NotebookDocuments}}),n(z,e);var c;(function(d){d.all={__brand:"features",languages:i.InlineCompletionFeature}})(c||(e.ProposedFeatures=c={}))}(Wr);var gu=se;(function(e){var t=le&&le.__createBinding||(Object.create?function(c,d,f,g){g===void 0&&(g=f);var m=Object.getOwnPropertyDescriptor(d,f);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,g,m)}:function(c,d,f,g){g===void 0&&(g=f),c[g]=d[f]}),n=le&&le.__exportStar||function(c,d){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&t(d,c,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=Wr;n(gu,e),n(Wr,e);let i=!1;const o={initialize:c=>{},get shutdownReceived(){return i},set shutdownReceived(c){i=c},exit:c=>{}};function s(c,d,f,g){let m,p,v,P;c!==void 0&&c.__brand==="features"&&(m=c,c=d,d=f,f=g),r.ConnectionStrategy.is(c)||r.ConnectionOptions.is(c)?P=c:(p=c,v=d,P=f);const J=Q=>(0,r.createProtocolConnection)(p,v,Q,P);return(0,r.createConnection)(J,o,m)}e.createConnection=s})(lo);var io=lo;fo({}).then(()=>{const e=new io.BrowserMessageReader(self),t=new io.BrowserMessageWriter(self);let n;const r=io.createConnection(e,t);function i(c,d){return r.sendNotification(c,d),!0}async function o(c,d){return await r.sendRequest(c,d)}async function s(c){return await r.sendRequest("slint/load_file",c)}r.onInitialize(c=>(n=Cc(c,i,o,s),setTimeout(()=>{n.startup_lsp()},0),n.server_initialize_result(c.capabilities))),r.onRequest(async(c,d,f)=>await n.handle_request(f,c,d)),r.onNotification("slint/preview_to_lsp",async c=>{await n.process_preview_to_lsp_message(c)}),r.onDidChangeWatchedFiles(async c=>{for(const d of c.changes)await n.trigger_file_watcher(d.uri)}),r.onDidOpenTextDocument(async c=>{await n.open_document(c.textDocument.text,c.textDocument.uri,c.textDocument.version)}),r.onDidChangeTextDocument(async c=>{await n.reload_document(c.contentChanges[c.contentChanges.length-1].text,c.textDocument.uri,c.textDocument.version)}),r.onDidCloseTextDocument(async c=>{await n.close_document(c.textDocument.uri)}),r.onDidChangeConfiguration(async c=>{await n.reload_config()}),r.listen(),self.postMessage("OK")})})();
