(function(){"use strict";let p;const Ve=new Array(128).fill(void 0);Ve.push(void 0,null,!0,!1);function s(t){return Ve[t]}let Gt=Ve.length;function $c(t){t<132||(Ve[t]=Gt,Gt=t)}function fe(t){const e=s(t);return $c(t),e}let V=0,Zt=null;function Mn(){return(Zt===null||Zt.byteLength===0)&&(Zt=new Uint8Array(p.memory.buffer)),Zt}const On=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Hc=typeof On.encodeInto=="function"?function(t,e){return On.encodeInto(t,e)}:function(t,e){const n=On.encode(t);return e.set(n),{read:t.length,written:n.length}};function X(t,e,n){if(n===void 0){const d=On.encode(t),f=e(d.length,1)>>>0;return Mn().subarray(f,f+d.length).set(d),V=d.length,f}let r=t.length,i=e(r,1)>>>0;const o=Mn();let c=0;for(;c<r;c++){const d=t.charCodeAt(c);if(d>127)break;o[i+c]=d}if(c!==r){c!==0&&(t=t.slice(c)),i=n(i,r,r=c+t.length*3,1)>>>0;const d=Mn().subarray(i+c,i+r),f=Hc(t,d);c+=f.written,i=n(i,r,c,1)>>>0}return V=c,i}function j(t){return t==null}let mt=null;function k(){return(mt===null||mt.buffer.detached===!0||mt.buffer.detached===void 0&&mt.buffer!==p.memory.buffer)&&(mt=new DataView(p.memory.buffer)),mt}function g(t){Gt===Ve.length&&Ve.push(Ve.length+1);const e=Gt;return Gt=Ve[e],Ve[e]=t,e}const yo=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&yo.decode();function F(t,e){return t=t>>>0,yo.decode(Mn().subarray(t,t+e))}function Vr(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let o="[";i>0&&(o+=Vr(t[0]));for(let c=1;c<i;c++)o+=", "+Vr(t[c]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}const En=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>{p.__wbindgen_export_2.get(t.dtor)(t.a,t.b)});function en(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},o=(...c)=>{i.cnt++;try{return r(i.a,i.b,...c)}finally{--i.cnt===0&&(p.__wbindgen_export_2.get(i.dtor)(i.a,i.b),i.a=0,En.unregister(i))}};return o.original=i,En.register(o,i,i),o}function tn(t,e,n){p._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h5fb5b1f20422b9cc(t,e,g(n))}function Ee(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},o=(...c)=>{i.cnt++;const d=i.a;i.a=0;try{return r(d,i.b,...c)}finally{--i.cnt===0?(p.__wbindgen_export_2.get(i.dtor)(d,i.b),En.unregister(i)):i.a=d}};return o.original=i,En.register(o,i,i),o}function vo(t,e){p._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h225aebc93ff17ce3(t,e)}function Ze(t,e,n){p._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h03e1e70c1211aea0(t,e,g(n))}function Ro(t,e,n,r){p._dyn_core__ops__function__FnMut__A_B___Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h516f3a140ee20d26(t,e,g(n),g(r))}function C(t,e){try{return t.apply(this,e)}catch(n){p.__wbindgen_exn_store(g(n))}}function xc(t,e,n,r){try{const d=p.__wbindgen_add_to_stack_pointer(-16);p.create(d,g(t),g(e),g(n),g(r));var i=k().getInt32(d+4*0,!0),o=k().getInt32(d+4*1,!0),c=k().getInt32(d+4*2,!0);if(c)throw fe(o);return Jr.__wrap(i)}finally{p.__wbindgen_add_to_stack_pointer(16)}}let nn=null;function zc(){return(nn===null||nn.byteLength===0)&&(nn=new Float32Array(p.memory.buffer)),nn}function Nn(t,e){return t=t>>>0,zc().subarray(t/4,t/4+e)}const Do=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>p.__wbg_previewconnector_free(t>>>0,1));class Ur{static __wrap(e){e=e>>>0;const n=Object.create(Ur.prototype);return n.__wbg_ptr=e,Do.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Do.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_previewconnector_free(e,0)}static create(e,n,r,i){try{const f=p.__wbindgen_add_to_stack_pointer(-16),_=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),w=V;p.previewconnector_create(f,g(e),g(n),_,w,i);var o=k().getInt32(f+4*0,!0),c=k().getInt32(f+4*1,!0),d=k().getInt32(f+4*2,!0);if(d)throw fe(c);return fe(o)}finally{p.__wbindgen_add_to_stack_pointer(16)}}current_style(){const e=p.previewconnector_current_style(this.__wbg_ptr);return fe(e)}show_ui(){try{const i=p.__wbindgen_add_to_stack_pointer(-16);p.previewconnector_show_ui(i,this.__wbg_ptr);var e=k().getInt32(i+4*0,!0),n=k().getInt32(i+4*1,!0),r=k().getInt32(i+4*2,!0);if(r)throw fe(n);return fe(e)}finally{p.__wbindgen_add_to_stack_pointer(16)}}process_lsp_to_preview_message(e){try{const i=p.__wbindgen_add_to_stack_pointer(-16);p.previewconnector_process_lsp_to_preview_message(i,this.__wbg_ptr,g(e));var n=k().getInt32(i+4*0,!0),r=k().getInt32(i+4*1,!0);if(r)throw fe(n)}finally{p.__wbindgen_add_to_stack_pointer(16)}}}const To=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>p.__wbg_slintserver_free(t>>>0,1));class Jr{static __wrap(e){e=e>>>0;const n=Object.create(Jr.prototype);return n.__wbg_ptr=e,To.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,To.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_slintserver_free(e,0)}process_preview_to_lsp_message(e){const n=p.slintserver_process_preview_to_lsp_message(this.__wbg_ptr,g(e));return fe(n)}server_initialize_result(e){try{const o=p.__wbindgen_add_to_stack_pointer(-16);p.slintserver_server_initialize_result(o,this.__wbg_ptr,g(e));var n=k().getInt32(o+4*0,!0),r=k().getInt32(o+4*1,!0),i=k().getInt32(o+4*2,!0);if(i)throw fe(r);return fe(n)}finally{p.__wbindgen_add_to_stack_pointer(16)}}reload_document(e,n,r){const i=X(e,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V,c=p.slintserver_reload_document(this.__wbg_ptr,i,o,g(n),r);return fe(c)}handle_request(e,n,r){const i=X(n,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V,c=p.slintserver_handle_request(this.__wbg_ptr,g(e),i,o,g(r));return fe(c)}reload_config(){const e=p.slintserver_reload_config(this.__wbg_ptr);return fe(e)}}async function Bc(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Vc(){const t={};return t.wbg={},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return g(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const r=s(n).stack,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let r,i;try{r=e,i=n,console.error(F(e,n))}finally{p.__wbindgen_free(r,i,1)}},t.wbg.__wbindgen_object_drop_ref=function(e){fe(e)},t.wbg.__wbg_width_ac5901de11cd9abc=function(e){return s(e).width},t.wbg.__wbg_height_bf0ba2fba351acb3=function(e){return s(e).height},t.wbg.__wbg_createTexture_e49c36c5f31925a3=function(e){const n=s(e).createTexture();return j(n)?0:g(n)},t.wbg.__wbg_createTexture_2426b031baa26a82=function(e){const n=s(e).createTexture();return j(n)?0:g(n)},t.wbg.__wbg_createProgram_2c3a8969b5a76988=function(e){const n=s(e).createProgram();return j(n)?0:g(n)},t.wbg.__wbg_createProgram_73611dc7a72c4ee2=function(e){const n=s(e).createProgram();return j(n)?0:g(n)},t.wbg.__wbg_attachShader_2b5810fc1d23ebe7=function(e,n,r){s(e).attachShader(s(n),s(r))},t.wbg.__wbg_attachShader_396d529f1d7c9abc=function(e,n,r){s(e).attachShader(s(n),s(r))},t.wbg.__wbg_bindAttribLocation_0018ec2a523f139f=function(e,n,r,i,o){s(e).bindAttribLocation(s(n),r>>>0,F(i,o))},t.wbg.__wbg_bindAttribLocation_9e7dad25e51f58b1=function(e,n,r,i,o){s(e).bindAttribLocation(s(n),r>>>0,F(i,o))},t.wbg.__wbg_linkProgram_1f18bca817bb6edb=function(e,n){s(e).linkProgram(s(n))},t.wbg.__wbg_linkProgram_56a5d97f63b1f56d=function(e,n){s(e).linkProgram(s(n))},t.wbg.__wbg_getProgramParameter_ab2954ca517d8589=function(e,n,r){const i=s(e).getProgramParameter(s(n),r>>>0);return g(i)},t.wbg.__wbg_getProgramParameter_9df6cbbb1343b27d=function(e,n,r){const i=s(e).getProgramParameter(s(n),r>>>0);return g(i)},t.wbg.__wbindgen_boolean_get=function(e){const n=s(e);return typeof n=="boolean"?n?1:0:2},t.wbg.__wbg_detachShader_c5af8831e42dad83=function(e,n,r){s(e).detachShader(s(n),s(r))},t.wbg.__wbg_detachShader_32f119837bb4e8a9=function(e,n,r){s(e).detachShader(s(n),s(r))},t.wbg.__wbg_getProgramInfoLog_22296c36addf7a70=function(e,n,r){const i=s(n).getProgramInfoLog(s(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),c=V;k().setInt32(e+4*1,c,!0),k().setInt32(e+4*0,o,!0)},t.wbg.__wbg_getProgramInfoLog_fe796f3a9512a8e3=function(e,n,r){const i=s(n).getProgramInfoLog(s(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),c=V;k().setInt32(e+4*1,c,!0),k().setInt32(e+4*0,o,!0)},t.wbg.__wbg_createShader_af087106532661d9=function(e,n){const r=s(e).createShader(n>>>0);return j(r)?0:g(r)},t.wbg.__wbg_createShader_f10ffabbfd8e2c8c=function(e,n){const r=s(e).createShader(n>>>0);return j(r)?0:g(r)},t.wbg.__wbg_shaderSource_d447b31057e4f64c=function(e,n,r,i){s(e).shaderSource(s(n),F(r,i))},t.wbg.__wbg_shaderSource_b92b2b5c29126344=function(e,n,r,i){s(e).shaderSource(s(n),F(r,i))},t.wbg.__wbg_compileShader_043cc8b99c2efc21=function(e,n){s(e).compileShader(s(n))},t.wbg.__wbg_compileShader_77ef81728b1c03f6=function(e,n){s(e).compileShader(s(n))},t.wbg.__wbg_getShaderParameter_cedb1ec0d8052eff=function(e,n,r){const i=s(e).getShaderParameter(s(n),r>>>0);return g(i)},t.wbg.__wbg_getShaderParameter_806970126d526c29=function(e,n,r){const i=s(e).getShaderParameter(s(n),r>>>0);return g(i)},t.wbg.__wbg_getShaderInfoLog_935361c52a919c15=function(e,n,r){const i=s(n).getShaderInfoLog(s(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),c=V;k().setInt32(e+4*1,c,!0),k().setInt32(e+4*0,o,!0)},t.wbg.__wbg_getShaderInfoLog_a7ca51b89a4dafab=function(e,n,r){const i=s(n).getShaderInfoLog(s(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),c=V;k().setInt32(e+4*1,c,!0),k().setInt32(e+4*0,o,!0)},t.wbg.__wbg_uniform2fv_b73144e507d90a92=function(e,n,r,i){s(e).uniform2fv(s(n),Nn(r,i))},t.wbg.__wbg_uniform2fv_83048fbc79c7f362=function(e,n,r,i){s(e).uniform2fv(s(n),Nn(r,i))},t.wbg.__wbg_deleteFramebuffer_c0d511b2fc07620d=function(e,n){s(e).deleteFramebuffer(s(n))},t.wbg.__wbg_deleteFramebuffer_d632dfba2c1f5c75=function(e,n){s(e).deleteFramebuffer(s(n))},t.wbg.__wbg_deleteRenderbuffer_325417b497c5ae27=function(e,n){s(e).deleteRenderbuffer(s(n))},t.wbg.__wbg_deleteRenderbuffer_ccae7372581ae424=function(e,n){s(e).deleteRenderbuffer(s(n))},t.wbg.__wbg_new_525245e2b9901204=function(){const e=new Object;return g(e)},t.wbg.__wbg_setstencil_8965dcc5fb1508bd=function(e,n){s(e).stencil=n!==0},t.wbg.__wbg_setantialias_05dc0a39d7b109be=function(e,n){s(e).antialias=n!==0},t.wbg.__wbg_getContext_70d493702d2b8f3e=function(){return C(function(e,n,r,i){const o=s(e).getContext(F(n,r),s(i));return j(o)?0:g(o)},arguments)},t.wbg.__wbg_instanceof_WebGl2RenderingContext_62ccef896d9204fa=function(e){let n;try{n=s(e)instanceof WebGL2RenderingContext}catch{n=!1}return n},t.wbg.__wbg_getSupportedExtensions_e1788ac835b7e81a=function(e){const n=s(e).getSupportedExtensions();return j(n)?0:g(n)},t.wbg.__wbg_length_ae22078168b726f5=function(e){return s(e).length},t.wbg.__wbg_get_3baa728f9d58d3f6=function(e,n){const r=s(e)[n>>>0];return g(r)},t.wbg.__wbindgen_string_get=function(e,n){const r=s(n),i=typeof r=="string"?r:void 0;var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),c=V;k().setInt32(e+4*1,c,!0),k().setInt32(e+4*0,o,!0)},t.wbg.__wbg_getParameter_cfaed180705b9280=function(){return C(function(e,n){const r=s(e).getParameter(n>>>0);return g(r)},arguments)},t.wbg.__wbg_createVertexArrayOES_84334a02da216381=function(e){const n=s(e).createVertexArrayOES();return j(n)?0:g(n)},t.wbg.__wbg_createVertexArray_a3e58c38609ae150=function(e){const n=s(e).createVertexArray();return j(n)?0:g(n)},t.wbg.__wbg_createBuffer_9571c039ba6696c6=function(e){const n=s(e).createBuffer();return j(n)?0:g(n)},t.wbg.__wbg_createBuffer_7b18852edffb3ab4=function(e){const n=s(e).createBuffer();return j(n)?0:g(n)},t.wbg.__wbg_getError_c620f28d427d8ad8=function(e){return s(e).getError()},t.wbg.__wbg_getError_deb0c909d3a7041a=function(e){return s(e).getError()},t.wbg.__wbg_createFramebuffer_20f79ec189ef2060=function(e){const n=s(e).createFramebuffer();return j(n)?0:g(n)},t.wbg.__wbg_createFramebuffer_a12847edac092647=function(e){const n=s(e).createFramebuffer();return j(n)?0:g(n)},t.wbg.__wbg_framebufferTexture2D_ae81a33228e46de6=function(e,n,r,i,o,c){s(e).framebufferTexture2D(n>>>0,r>>>0,i>>>0,s(o),c)},t.wbg.__wbg_framebufferTexture2D_5b524fe6135d5fe8=function(e,n,r,i,o,c){s(e).framebufferTexture2D(n>>>0,r>>>0,i>>>0,s(o),c)},t.wbg.__wbg_createRenderbuffer_620bdfb7867926e8=function(e){const n=s(e).createRenderbuffer();return j(n)?0:g(n)},t.wbg.__wbg_createRenderbuffer_e7bd95fedc0bbcb5=function(e){const n=s(e).createRenderbuffer();return j(n)?0:g(n)},t.wbg.__wbg_renderbufferStorage_8c3882aa73deada9=function(e,n,r,i,o){s(e).renderbufferStorage(n>>>0,r>>>0,i,o)},t.wbg.__wbg_renderbufferStorage_3c5e469d82dfe89b=function(e,n,r,i,o){s(e).renderbufferStorage(n>>>0,r>>>0,i,o)},t.wbg.__wbg_framebufferRenderbuffer_fee6ceb2330389b7=function(e,n,r,i,o){s(e).framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,s(o))},t.wbg.__wbg_framebufferRenderbuffer_f7c592ad40667f89=function(e,n,r,i,o){s(e).framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,s(o))},t.wbg.__wbg_checkFramebufferStatus_60221d3774b874b0=function(e,n){return s(e).checkFramebufferStatus(n>>>0)},t.wbg.__wbg_checkFramebufferStatus_eb8a13fec89c418c=function(e,n){return s(e).checkFramebufferStatus(n>>>0)},t.wbg.__wbg_scissor_d06b14c4966727fa=function(e,n,r,i,o){s(e).scissor(n,r,i,o)},t.wbg.__wbg_scissor_2b172ca4e459dd16=function(e,n,r,i,o){s(e).scissor(n,r,i,o)},t.wbg.__wbg_clearColor_ac713fa6931cef3c=function(e,n,r,i,o){s(e).clearColor(n,r,i,o)},t.wbg.__wbg_clearColor_837d30f5bf4f982b=function(e,n,r,i,o){s(e).clearColor(n,r,i,o)},t.wbg.__wbg_clear_780c4e5384fe3fc6=function(e,n){s(e).clear(n>>>0)},t.wbg.__wbg_clear_7a2a7ca897047e8d=function(e,n){s(e).clear(n>>>0)},t.wbg.__wbg_uniform4fv_d87e4ea9ef6cf6de=function(e,n,r,i){s(e).uniform4fv(s(n),Nn(r,i))},t.wbg.__wbg_uniform4fv_cf977e0dd611bbdd=function(e,n,r,i){s(e).uniform4fv(s(n),Nn(r,i))},t.wbg.__wbg_deleteTexture_cdd844345a2559bb=function(e,n){s(e).deleteTexture(s(n))},t.wbg.__wbg_deleteTexture_558c751a66bd2f16=function(e,n){s(e).deleteTexture(s(n))},t.wbg.__wbg_deleteShader_da06706168cf00dc=function(e,n){s(e).deleteShader(s(n))},t.wbg.__wbg_deleteShader_b9bb71cfb1a65a0d=function(e,n){s(e).deleteShader(s(n))},t.wbg.__wbg_deleteProgram_c3238b647d849334=function(e,n){s(e).deleteProgram(s(n))},t.wbg.__wbg_deleteProgram_5f938b0667141206=function(e,n){s(e).deleteProgram(s(n))},t.wbg.__wbg_useProgram_001c6b9208b683d3=function(e,n){s(e).useProgram(s(n))},t.wbg.__wbg_useProgram_d4616618ac6d0652=function(e,n){s(e).useProgram(s(n))},t.wbg.__wbg_bindBuffer_d6b05e0a99a752d4=function(e,n,r){s(e).bindBuffer(n>>>0,s(r))},t.wbg.__wbg_bindBuffer_1f581c747176e7d7=function(e,n,r){s(e).bindBuffer(n>>>0,s(r))},t.wbg.__wbg_bindFramebuffer_f5e959313c29a7c6=function(e,n,r){s(e).bindFramebuffer(n>>>0,s(r))},t.wbg.__wbg_bindFramebuffer_8cba9964befd2a6d=function(e,n,r){s(e).bindFramebuffer(n>>>0,s(r))},t.wbg.__wbg_bindRenderbuffer_691cb14fc6248155=function(e,n,r){s(e).bindRenderbuffer(n>>>0,s(r))},t.wbg.__wbg_bindRenderbuffer_297ae310683dc32b=function(e,n,r){s(e).bindRenderbuffer(n>>>0,s(r))},t.wbg.__wbg_bindVertexArray_bec56c40e9ec299d=function(e,n){s(e).bindVertexArray(s(n))},t.wbg.__wbg_bindVertexArrayOES_37868a5a4265ea0a=function(e,n){s(e).bindVertexArrayOES(s(n))},t.wbg.__wbg_pixelStorei_2498331e094ff305=function(e,n,r){s(e).pixelStorei(n>>>0,r)},t.wbg.__wbg_pixelStorei_3a600280eab03e3c=function(e,n,r){s(e).pixelStorei(n>>>0,r)},t.wbg.__wbg_disable_d73e59fee5b5e973=function(e,n){s(e).disable(n>>>0)},t.wbg.__wbg_disable_8908871f2334e76b=function(e,n){s(e).disable(n>>>0)},t.wbg.__wbg_disableVertexAttribArray_b9d8ae826c70526f=function(e,n){s(e).disableVertexAttribArray(n>>>0)},t.wbg.__wbg_disableVertexAttribArray_79a5010f18eb84cb=function(e,n){s(e).disableVertexAttribArray(n>>>0)},t.wbg.__wbg_drawArrays_532f4e0a4547dd1f=function(e,n,r,i){s(e).drawArrays(n>>>0,r,i)},t.wbg.__wbg_drawArrays_7a8f5031b1fe80ff=function(e,n,r,i){s(e).drawArrays(n>>>0,r,i)},t.wbg.__wbg_enable_68b3fa03a633259a=function(e,n){s(e).enable(n>>>0)},t.wbg.__wbg_enable_541ed84c1e7d269d=function(e,n){s(e).enable(n>>>0)},t.wbg.__wbg_enableVertexAttribArray_52c23a516be565c0=function(e,n){s(e).enableVertexAttribArray(n>>>0)},t.wbg.__wbg_enableVertexAttribArray_06043f51b716ed9d=function(e,n){s(e).enableVertexAttribArray(n>>>0)},t.wbg.__wbg_getUniformLocation_9cd213015cf8f29f=function(e,n,r,i){const o=s(e).getUniformLocation(s(n),F(r,i));return j(o)?0:g(o)},t.wbg.__wbg_getUniformLocation_6a59ad54df3bba8e=function(e,n,r,i){const o=s(e).getUniformLocation(s(n),F(r,i));return j(o)?0:g(o)},t.wbg.__wbg_generateMipmap_52c223b74b4f16a3=function(e,n){s(e).generateMipmap(n>>>0)},t.wbg.__wbg_generateMipmap_52183f0501f63234=function(e,n){s(e).generateMipmap(n>>>0)},t.wbg.__wbg_texImage2D_d704e7eee22d1e6b=function(){return C(function(e,n,r,i,o,c,d,f,_,w){s(e).texImage2D(n>>>0,r,i,o,c,d,f>>>0,_>>>0,s(w))},arguments)},t.wbg.__wbg_texImage2D_75effcb59fe5da7e=function(){return C(function(e,n,r,i,o,c,d,f,_,w){s(e).texImage2D(n>>>0,r,i,o,c,d,f>>>0,_>>>0,s(w))},arguments)},t.wbg.__wbg_uniform1i_7f6e60c975d21e0a=function(e,n,r){s(e).uniform1i(s(n),r)},t.wbg.__wbg_uniform1i_ded3be13f5d8f11a=function(e,n,r){s(e).uniform1i(s(n),r)},t.wbg.__wbg_colorMask_6a64eb75df60e2cf=function(e,n,r,i,o){s(e).colorMask(n!==0,r!==0,i!==0,o!==0)},t.wbg.__wbg_colorMask_7c2aafdec5441392=function(e,n,r,i,o){s(e).colorMask(n!==0,r!==0,i!==0,o!==0)},t.wbg.__wbg_bindTexture_840f7fcfd0298dc4=function(e,n,r){s(e).bindTexture(n>>>0,s(r))},t.wbg.__wbg_bindTexture_bffa89324927e23a=function(e,n,r){s(e).bindTexture(n>>>0,s(r))},t.wbg.__wbg_activeTexture_b967ed47a8083daa=function(e,n){s(e).activeTexture(n>>>0)},t.wbg.__wbg_activeTexture_067b93df6d1ed857=function(e,n){s(e).activeTexture(n>>>0)},t.wbg.__wbg_texParameteri_83ad7181b62f4997=function(e,n,r,i){s(e).texParameteri(n>>>0,r>>>0,i)},t.wbg.__wbg_texParameteri_531d0268109950ba=function(e,n,r,i){s(e).texParameteri(n>>>0,r>>>0,i)},t.wbg.__wbg_texSubImage2D_bed4633ee03b384d=function(){return C(function(e,n,r,i,o,c,d,f,_,w){s(e).texSubImage2D(n>>>0,r,i,o,c,d,f>>>0,_>>>0,s(w))},arguments)},t.wbg.__wbg_texSubImage2D_be0166513e368886=function(){return C(function(e,n,r,i,o,c,d,f,_,w){s(e).texSubImage2D(n>>>0,r,i,o,c,d,f>>>0,_>>>0,s(w))},arguments)},t.wbg.__wbg_texSubImage2D_338d11db84a799ed=function(){return C(function(e,n,r,i,o,c,d,f,_,w){s(e).texSubImage2D(n>>>0,r,i,o,c,d,f>>>0,_>>>0,w)},arguments)},t.wbg.__wbg_vertexAttribPointer_fcbfe42523d724ca=function(e,n,r,i,o,c,d){s(e).vertexAttribPointer(n>>>0,r,i>>>0,o!==0,c,d)},t.wbg.__wbg_vertexAttribPointer_b435a034ff758637=function(e,n,r,i,o,c,d){s(e).vertexAttribPointer(n>>>0,r,i>>>0,o!==0,c,d)},t.wbg.__wbg_viewport_efc09c09d4f3cc48=function(e,n,r,i,o){s(e).viewport(n,r,i,o)},t.wbg.__wbg_viewport_536c78dd69c44351=function(e,n,r,i,o){s(e).viewport(n,r,i,o)},t.wbg.__wbg_stencilFunc_0e2a6d25bdcb678e=function(e,n,r,i){s(e).stencilFunc(n>>>0,r,i>>>0)},t.wbg.__wbg_stencilFunc_a9e54b3cfe396b31=function(e,n,r,i){s(e).stencilFunc(n>>>0,r,i>>>0)},t.wbg.__wbg_stencilMask_f55f160fc49b981a=function(e,n){s(e).stencilMask(n>>>0)},t.wbg.__wbg_stencilMask_702162181d88081f=function(e,n){s(e).stencilMask(n>>>0)},t.wbg.__wbg_stencilOp_2418383669ca9228=function(e,n,r,i){s(e).stencilOp(n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_stencilOp_0634a11fbde7da95=function(e,n,r,i){s(e).stencilOp(n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_stencilOpSeparate_ea6f96abd32aae5b=function(e,n,r,i,o){s(e).stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_stencilOpSeparate_52b401966f916a0f=function(e,n,r,i,o){s(e).stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_devicePixelRatio_7ba8bc80d46340bd=function(e){return s(e).devicePixelRatio},t.wbg.__wbg_document_8554450897a855b9=function(e){const n=s(e).document;return j(n)?0:g(n)},t.wbg.__wbg_getElementById_f56c8e6a15a6926d=function(e,n,r){const i=s(e).getElementById(F(n,r));return j(i)?0:g(i)},t.wbg.__wbg_instanceof_HtmlCanvasElement_1a96a01603ec2d8b=function(e){let n;try{n=s(e)instanceof HTMLCanvasElement}catch{n=!1}return n},t.wbg.__wbg_setwidth_e371a8d6b16ebe84=function(e,n){s(e).width=n>>>0},t.wbg.__wbg_setheight_ba99ad2df4295e89=function(e,n){s(e).height=n>>>0},t.wbg.__wbg_clientWidth_e73e836a6257fbe5=function(e){return s(e).clientWidth},t.wbg.__wbg_clientHeight_9325ebe2318ce8af=function(e){return s(e).clientHeight},t.wbg.__wbg_dataset_b0dd1a3513142b54=function(e){const n=s(e).dataset;return g(n)},t.wbg.__wbg_get_9a60fce5bf7da364=function(e,n,r,i){const o=s(n)[F(r,i)];var c=j(o)?0:X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=V;k().setInt32(e+4*1,d,!0),k().setInt32(e+4*0,c,!0)},t.wbg.__wbg_instanceof_HtmlInputElement_88bf515ab1d9511d=function(e){let n;try{n=s(e)instanceof HTMLInputElement}catch{n=!1}return n},t.wbg.__wbg_style_e06c9e03355741e9=function(e){const n=s(e).style;return g(n)},t.wbg.__wbg_offsetLeft_4b5479a797fb7749=function(e){return s(e).offsetLeft},t.wbg.__wbg_offsetTop_3f1fbd1d48327b28=function(e){return s(e).offsetTop},t.wbg.__wbg_offsetWidth_e22a06cc87eb3cb2=function(e){return s(e).offsetWidth},t.wbg.__wbg_offsetHeight_3fd383b839bb6c45=function(e){return s(e).offsetHeight},t.wbg.__wbg_before_ac3792b457802cbf=function(){return C(function(e,n){s(e).before(s(n))},arguments)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=s(e);return g(n)},t.wbg.__wbg_setvalue_688819688274bec0=function(e,n,r){s(e).value=F(n,r)},t.wbg.__wbg_data_edba00a6420faae3=function(e,n){const r=s(n).data;var i=j(r)?0:X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_isComposing_ca7496e67564f5b9=function(e){return s(e).isComposing},t.wbg.__wbg_inputType_dc144c8251b0d194=function(e,n){const r=s(n).inputType,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_preventDefault_c55d86c27b2dfa6e=function(e){s(e).preventDefault()},t.wbg.__wbg_isComposing_1c9533ed199eaf7b=function(e){return s(e).isComposing},t.wbg.__wbg_key_a626396efbca2b95=function(e,n){const r=s(n).key,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_shiftKey_f38dee34420e0d62=function(e){return s(e).shiftKey},t.wbg.__wbg_ctrlKey_319ff2374dc7f372=function(e){return s(e).ctrlKey},t.wbg.__wbg_altKey_5a6eb49ec8194792=function(e){return s(e).altKey},t.wbg.__wbg_getModifierState_fde3eed099a4880a=function(e,n,r){return s(e).getModifierState(F(n,r))},t.wbg.__wbg_repeat_8451a79b3608855b=function(e){return s(e).repeat},t.wbg.__wbg_clipboardData_93c130a72996456a=function(e){const n=s(e).clipboardData;return j(n)?0:g(n)},t.wbg.__wbg_getData_b768ea3ff59e2a13=function(){return C(function(e,n,r,i){const o=s(n).getData(F(r,i)),c=X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=V;k().setInt32(e+4*1,d,!0),k().setInt32(e+4*0,c,!0)},arguments)},t.wbg.__wbg_instanceof_CanvasRenderingContext2d_a0c4f0da6392b8ca=function(e){let n;try{n=s(e)instanceof CanvasRenderingContext2D}catch{n=!1}return n},t.wbg.__wbg_setfont_931e1f36bec6a342=function(e,n,r){s(e).font=F(n,r)},t.wbg.__wbindgen_string_new=function(e,n){const r=F(e,n);return g(r)},t.wbg.__wbg_setfillStyle_98060f7b257936ba=function(e,n){s(e).fillStyle=s(n)},t.wbg.__wbg_new0_65387337a95cf44d=function(){return g(new Date)},t.wbg.__wbg_getTime_91058879093a1589=function(e){return s(e).getTime()},t.wbg.__wbindgen_number_new=function(e){return g(e)},t.wbg.__wbg_new_7982fb43cfca37ae=function(e){const n=new Date(s(e));return g(n)},t.wbg.__wbg_getTimezoneOffset_c9929a3cc94500fe=function(e){return s(e).getTimezoneOffset()},t.wbg.__wbg_naturalWidth_a29690dafff0d1ec=function(e){return s(e).naturalWidth},t.wbg.__wbg_naturalHeight_d5b070bd22a216bd=function(e){return s(e).naturalHeight},t.wbg.__wbg_currentSrc_299fcc32125efadb=function(e,n){const r=s(n).currentSrc,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_log_5766f8130e3dc687=function(e,n){console.log(F(e,n))},t.wbg.__wbg_src_707c2de7cbb580c7=function(e,n){const r=s(n).src,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_new_0d5e77f348d88b87=function(){return C(function(){const e=new Image;return g(e)},arguments)},t.wbg.__wbg_setcrossOrigin_4fcc10b692a33720=function(e,n,r){s(e).crossOrigin=n===0?void 0:F(n,r)},t.wbg.__wbg_setonload_b4dbb9c6e43b6cb3=function(e,n){s(e).onload=s(n)},t.wbg.__wbg_setsrc_129ba95151116b01=function(e,n,r){s(e).src=F(n,r)},t.wbg.__wbg_cullFace_ccad99c645b704eb=function(e,n){s(e).cullFace(n>>>0)},t.wbg.__wbg_cullFace_fbafcb7763a2d6aa=function(e,n){s(e).cullFace(n>>>0)},t.wbg.__wbg_frontFace_358bf8c6c5159d54=function(e,n){s(e).frontFace(n>>>0)},t.wbg.__wbg_frontFace_54ccf43770ae1011=function(e,n){s(e).frontFace(n>>>0)},t.wbg.__wbg_bufferData_0db2a74470353a96=function(e,n,r,i){s(e).bufferData(n>>>0,s(r),i>>>0)},t.wbg.__wbg_bufferData_94ce174a81b32961=function(e,n,r,i){s(e).bufferData(n>>>0,s(r),i>>>0)},t.wbg.__wbg_blendFuncSeparate_2b607032f14b9381=function(e,n,r,i,o){s(e).blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_blendFuncSeparate_f81dd232d266e735=function(e,n,r,i,o){s(e).blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_readPixels_0c5ad23c72dbe1b8=function(){return C(function(e,n,r,i,o,c,d,f){s(e).readPixels(n,r,i,o,c>>>0,d>>>0,s(f))},arguments)},t.wbg.__wbg_readPixels_f589cb77c7641fb2=function(){return C(function(e,n,r,i,o,c,d,f){s(e).readPixels(n,r,i,o,c>>>0,d>>>0,s(f))},arguments)},t.wbg.__wbg_setwidth_84b579903fae1a52=function(e,n){s(e).width=n>>>0},t.wbg.__wbg_setheight_6ae385769cc2e592=function(e,n){s(e).height=n>>>0},t.wbg.__wbg_deleteVertexArray_81346dd52e54eb57=function(e,n){s(e).deleteVertexArray(s(n))},t.wbg.__wbg_deleteVertexArrayOES_e22f7a6baedc5300=function(e,n){s(e).deleteVertexArrayOES(s(n))},t.wbg.__wbg_deleteBuffer_27b0fb5ed68afbe4=function(e,n){s(e).deleteBuffer(s(n))},t.wbg.__wbg_deleteBuffer_898974b9db136e43=function(e,n){s(e).deleteBuffer(s(n))},t.wbg.__wbg_texSubImage2D_064e1b60f43bdb29=function(){return C(function(e,n,r,i,o,c,d,f){s(e).texSubImage2D(n>>>0,r,i,o,c>>>0,d>>>0,s(f))},arguments)},t.wbg.__wbg_texSubImage2D_4fef3101bace1b04=function(){return C(function(e,n,r,i,o,c,d,f){s(e).texSubImage2D(n>>>0,r,i,o,c>>>0,d>>>0,s(f))},arguments)},t.wbg.__wbg_next_f9cb570345655b9a=function(){return C(function(e){const n=s(e).next();return g(n)},arguments)},t.wbg.__wbg_done_bfda7aa8f252b39f=function(e){return s(e).done},t.wbg.__wbg_value_6d39332ab4788d86=function(e){const n=s(e).value;return g(n)},t.wbg.__wbg_iterator_888179a48810a9fe=function(){return g(Symbol.iterator)},t.wbg.__wbg_get_224d16597dbbfd96=function(){return C(function(e,n){const r=Reflect.get(s(e),s(n));return g(r)},arguments)},t.wbg.__wbindgen_is_function=function(e){return typeof s(e)=="function"},t.wbg.__wbindgen_is_object=function(e){const n=s(e);return typeof n=="object"&&n!==null},t.wbg.__wbg_next_de3e9db4440638b2=function(e){const n=s(e).next;return g(n)},t.wbg.__wbg_call_1084a111329e68ce=function(){return C(function(e,n){const r=s(e).call(s(n));return g(r)},arguments)},t.wbg.__wbg_call_89af060b4e1523f2=function(){return C(function(e,n,r){const i=s(e).call(s(n),s(r));return g(i)},arguments)},t.wbg.__wbg_call_c6fe275aaa60da79=function(){return C(function(e,n,r,i){const o=s(e).call(s(n),s(r),s(i));return g(o)},arguments)},t.wbg.__wbindgen_memory=function(){const e=p.memory;return g(e)},t.wbg.__wbg_buffer_b7b08af79b0b0974=function(e){const n=s(e).buffer;return g(n)},t.wbg.__wbg_newwithbyteoffsetandlength_8a2cb9ca96b27ec9=function(e,n,r){const i=new Uint8Array(s(e),n>>>0,r>>>0);return g(i)},t.wbg.__wbg_length_8339fcf5d8ecd12e=function(e){return s(e).length},t.wbg.__wbg_new_ea1883e1e5e86686=function(e){const n=new Uint8Array(s(e));return g(n)},t.wbg.__wbg_set_d1e79e2388520f18=function(e,n,r){s(e).set(s(n),r>>>0)},t.wbg.__wbg_self_3093d5d1f7bcb682=function(){return C(function(){const e=self.self;return g(e)},arguments)},t.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return C(function(){const e=window.window;return g(e)},arguments)},t.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return C(function(){const e=globalThis.globalThis;return g(e)},arguments)},t.wbg.__wbg_global_e5a3fe56f8be9485=function(){return C(function(){const e=global.global;return g(e)},arguments)},t.wbg.__wbindgen_is_undefined=function(e){return s(e)===void 0},t.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(e,n){const r=new Function(F(e,n));return g(r)},t.wbg.__wbg_set_eacc7d73fefaafdf=function(){return C(function(e,n,r){return Reflect.set(s(e),s(n),s(r))},arguments)},t.wbg.__wbindgen_error_new=function(e,n){const r=new Error(F(e,n));return g(r)},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return s(e)==s(n)},t.wbg.__wbindgen_number_get=function(e,n){const r=s(n),i=typeof r=="number"?r:void 0;k().setFloat64(e+8*1,j(i)?0:i,!0),k().setInt32(e+4*0,!j(i),!0)},t.wbg.__wbg_instanceof_Uint8Array_247a91427532499e=function(e){let n;try{n=s(e)instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_instanceof_ArrayBuffer_61dfc3198373c902=function(e){let n;try{n=s(e)instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_entries_7a0e06255456ebcd=function(e){const n=Object.entries(s(e));return g(n)},t.wbg.__wbg_isSafeInteger_7f1ed56200d90674=function(e){return Number.isSafeInteger(s(e))},t.wbg.__wbindgen_as_number=function(e){return+s(e)},t.wbg.__wbg_String_b9412f8799faab3e=function(e,n){const r=String(s(n)),i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_isArray_8364a5371e9737d8=function(e){return Array.isArray(s(e))},t.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,n){const r=s(e)[s(n)];return g(r)},t.wbg.__wbindgen_in=function(e,n){return s(e)in s(n)},t.wbg.__wbindgen_is_string=function(e){return typeof s(e)=="string"},t.wbg.__wbg_set_f975102236d3c502=function(e,n,r){s(e)[fe(n)]=fe(r)},t.wbg.__wbg_new_a220cf903aa02ca2=function(){const e=new Array;return g(e)},t.wbg.__wbg_new_8608a2b51a5f6737=function(){return g(new Map)},t.wbg.__wbg_set_49185437f0ab06f8=function(e,n,r){const i=s(e).set(s(n),s(r));return g(i)},t.wbg.__wbg_set_673dda6c73d19609=function(e,n,r){s(e)[n>>>0]=fe(r)},t.wbg.__wbindgen_is_bigint=function(e){return typeof s(e)=="bigint"},t.wbg.__wbindgen_bigint_get_as_i64=function(e,n){const r=s(n),i=typeof r=="bigint"?r:void 0;k().setBigInt64(e+8*1,j(i)?BigInt(0):i,!0),k().setInt32(e+4*0,!j(i),!0)},t.wbg.__wbindgen_bigint_from_i64=function(e){return g(e)},t.wbg.__wbindgen_jsval_eq=function(e,n){return s(e)===s(n)},t.wbg.__wbg_instanceof_Map_763ce0e95960d55e=function(e){let n;try{n=s(e)instanceof Map}catch{n=!1}return n},t.wbg.__wbindgen_bigint_from_u64=function(e){const n=BigInt.asUintN(64,e);return g(n)},t.wbg.__wbg_new_b85e72ed1bfd57f9=function(e,n){try{var r={a:e,b:n},i=(c,d)=>{const f=r.a;r.a=0;try{return Ro(f,r.b,c,d)}finally{r.a=f}};const o=new Promise(i);return g(o)}finally{r.a=r.b=0}},t.wbg.__wbg_previewconnector_new=function(e){const n=Ur.__wrap(e);return g(n)},t.wbg.__wbindgen_debug_string=function(e,n){const r=Vr(s(n)),i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(F(e,n))},t.wbg.__wbg_then_95e6edc0f89b73b1=function(e,n){const r=s(e).then(s(n));return g(r)},t.wbg.__wbg_queueMicrotask_12a30234db4045d3=function(e){queueMicrotask(s(e))},t.wbg.__wbg_then_876bb3c633745cc6=function(e,n,r){const i=s(e).then(s(n),s(r));return g(i)},t.wbg.__wbg_queueMicrotask_48421b3cc9052b68=function(e){const n=s(e).queueMicrotask;return g(n)},t.wbg.__wbg_resolve_570458cb99d56a43=function(e){const n=Promise.resolve(s(e));return g(n)},t.wbg.__wbg_getExtension_095ef1e6c9d8d8ab=function(){return C(function(e,n,r){const i=s(e).getExtension(F(n,r));return j(i)?0:g(i)},arguments)},t.wbg.__wbg_matchMedia_170d35fd154463b2=function(){return C(function(e,n,r){const i=s(e).matchMedia(F(n,r));return j(i)?0:g(i)},arguments)},t.wbg.__wbg_cancelAnimationFrame_f80ecdad075d1d55=function(){return C(function(e,n){s(e).cancelAnimationFrame(n)},arguments)},t.wbg.__wbg_setTimeout_2bb9dfe810e45e24=function(){return C(function(e,n){return s(e).setTimeout(s(n))},arguments)},t.wbg.__wbg_createElement_5921e9eb06b9ec89=function(){return C(function(e,n,r){const i=s(e).createElement(F(n,r));return g(i)},arguments)},t.wbg.__wbg_matches_212d57a200ff58f8=function(){return C(function(e,n,r){return s(e).matches(F(n,r))},arguments)},t.wbg.__wbg_setAttribute_d5540a19be09f8dc=function(){return C(function(e,n,r,i,o){s(e).setAttribute(F(n,r),F(i,o))},arguments)},t.wbg.__wbg_focus_06621101cc79f5d8=function(){return C(function(e){s(e).focus()},arguments)},t.wbg.__wbg_fillText_ae0445d1930428dd=function(){return C(function(e,n,r,i,o){s(e).fillText(F(n,r),i,o)},arguments)},t.wbg.__wbg_getContext_69ec873410cbba3c=function(){return C(function(e,n,r){const i=s(e).getContext(F(n,r));return j(i)?0:g(i)},arguments)},t.wbg.__wbg_addListener_7d72b16c4161a20a=function(){return C(function(e,n){s(e).addListener(s(n))},arguments)},t.wbg.__wbg_setProperty_ff389e5a7fb9910e=function(){return C(function(e,n,r,i,o){s(e).setProperty(F(n,r),F(i,o))},arguments)},t.wbg.__wbg_revokeObjectURL_b9b370890a354a9f=function(){return C(function(e,n){URL.revokeObjectURL(F(e,n))},arguments)},t.wbg.__wbg_instanceof_Window_5012736c80a01584=function(e){let n;try{n=s(e)instanceof Window}catch{n=!1}return n},t.wbg.__wbg_setData_41207994e2d54785=function(){return C(function(e,n,r,i,o){s(e).setData(F(n,r),F(i,o))},arguments)},t.wbg.__wbg_addEventListener_e167f012cbedfa4e=function(){return C(function(e,n,r,i){s(e).addEventListener(F(n,r),s(i))},arguments)},t.wbg.__wbg_removeEventListener_b6cef5ad085bea8f=function(){return C(function(e,n,r,i){s(e).removeEventListener(F(n,r),s(i))},arguments)},t.wbg.__wbg_postMessage_6eeb375bc13e8ec8=function(){return C(function(e,n){s(e).postMessage(s(n))},arguments)},t.wbg.__wbg_data_ee8c1a738c70cbe1=function(e,n){const r=s(n).data;var i=j(r)?0:X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_new_ebf2727385ee825c=function(){return C(function(){const e=new AbortController;return g(e)},arguments)},t.wbg.__wbg_new_40ff2b042829bc58=function(){return C(function(){const e=new MessageChannel;return g(e)},arguments)},t.wbg.__wbg_performance_a1b8bde2ee512264=function(e){const n=s(e).performance;return g(n)},t.wbg.__wbg_now_abd80e969af37148=function(e){return s(e).now()},t.wbg.__wbg_movementX_ecd0c638be0899eb=function(e){return s(e).movementX},t.wbg.__wbg_movementY_3064817f736e8151=function(e){return s(e).movementY},t.wbg.__wbg_scheduler_7ccf2d3b362018c4=function(e){const n=s(e).scheduler;return g(n)},t.wbg.__wbg_signal_41e46ccad44bb5e2=function(e){const n=s(e).signal;return g(n)},t.wbg.__wbg_postTask_99464245f349be5a=function(e,n,r){const i=s(e).postTask(s(n),s(r));return g(i)},t.wbg.__wbg_catch_a279b1da46d132d8=function(e,n){const r=s(e).catch(s(n));return g(r)},t.wbg.__wbg_port1_9e11ba1fe63adb21=function(e){const n=s(e).port1;return g(n)},t.wbg.__wbg_setonmessage_3b07505d5f934b5c=function(e,n){s(e).onmessage=s(n)},t.wbg.__wbg_start_f642a950f6c98a0e=function(e){s(e).start()},t.wbg.__wbg_port2_7d887905fa4a6677=function(e){const n=s(e).port2;return g(n)},t.wbg.__wbg_requestIdleCallback_af997f1fdcadcc54=function(){return C(function(e,n){return s(e).requestIdleCallback(s(n))},arguments)},t.wbg.__wbg_setTimeout_73b734ca971c19f4=function(){return C(function(e,n,r){return s(e).setTimeout(s(n),r)},arguments)},t.wbg.__wbg_of_99c2a118200b1e62=function(e,n){const r=Array.of(s(e),s(n));return g(r)},t.wbg.__wbg_of_4a1c869ef05b4b73=function(e){const n=Array.of(s(e));return g(n)},t.wbg.__wbg_postMessage_b651e498e4c6dbf5=function(){return C(function(e,n,r){s(e).postMessage(s(n),s(r))},arguments)},t.wbg.__wbg_persisted_6483200f25cdfed4=function(e){return s(e).persisted},t.wbg.__wbg_contentRect_c1a9045c459744d9=function(e){const n=s(e).contentRect;return g(n)},t.wbg.__wbg_width_e7964a50b174d035=function(e){return s(e).width},t.wbg.__wbg_height_cd5c897b4d3fabe3=function(e){return s(e).height},t.wbg.__wbg_devicePixelContentBoxSize_8d531ca6a4331b28=function(e){const n=s(e).devicePixelContentBoxSize;return g(n)},t.wbg.__wbg_inlineSize_322ab111c2b5c9e3=function(e){return s(e).inlineSize},t.wbg.__wbg_blockSize_981c4dfa6e1263a8=function(e){return s(e).blockSize},t.wbg.__wbg_pointerId_37ae0c4682f85248=function(e){return s(e).pointerId},t.wbg.__wbg_buttons_a302533e27733599=function(e){return s(e).buttons},t.wbg.__wbg_isIntersecting_7cba11b732bde6a7=function(e){return s(e).isIntersecting},t.wbg.__wbg_pointerType_d375491a3013a9bc=function(e,n){const r=s(n).pointerType,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_setPointerCapture_16fb4f004fe3aaae=function(){return C(function(e,n){s(e).setPointerCapture(n)},arguments)},t.wbg.__wbg_pressure_95cee3909a8549a9=function(e){return s(e).pressure},t.wbg.__wbg_matches_42eb40a28a316d0e=function(e){return s(e).matches},t.wbg.__wbindgen_cb_drop=function(e){const n=fe(e).original;return n.cnt--==1?(n.a=0,!0):!1},t.wbg.__wbg_Window_bd9ec3fee5f673ee=function(e){const n=s(e).Window;return g(n)},t.wbg.__wbg_settype_b6ab7b74bd1908a1=function(e,n,r){s(e).type=F(n,r)},t.wbg.__wbg_newwithstrsequenceandoptions_f700d764298e22da=function(){return C(function(e,n){const r=new Blob(s(e),s(n));return g(r)},arguments)},t.wbg.__wbg_createObjectURL_ca544150f40fb1bf=function(){return C(function(e,n){const r=URL.createObjectURL(s(n)),i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},arguments)},t.wbg.__wbg_prototype_d33365945f23f380=function(){const e=ResizeObserverEntry.prototype;return g(e)},t.wbg.__wbg_getOwnPropertyDescriptor_104555bb47552c24=function(e,n){const r=Object.getOwnPropertyDescriptor(s(e),s(n));return g(r)},t.wbg.__wbg_new_25d9d4e2932d816f=function(){return C(function(e,n){const r=new Worker(F(e,n));return g(r)},arguments)},t.wbg.__wbg_error_9ce09486992d3ac5=function(e,n){console.error(s(e),s(n))},t.wbg.__wbg_abort_8659d889a7877ae3=function(e){s(e).abort()},t.wbg.__wbg_cancelIdleCallback_0d1373370ef859bd=function(e,n){s(e).cancelIdleCallback(n>>>0)},t.wbg.__wbg_clearTimeout_25cdc2ed88b3c0b2=function(e,n){s(e).clearTimeout(n)},t.wbg.__wbg_close_87d69f9e9fe928c3=function(e){s(e).close()},t.wbg.__wbg_disconnect_24e89f8d65ad2fd5=function(e){s(e).disconnect()},t.wbg.__wbg_webkitExitFullscreen_77a6c8d07ec6ee46=function(e){s(e).webkitExitFullscreen()},t.wbg.__wbg_exitFullscreen_3b8893467fd80879=function(e){s(e).exitFullscreen()},t.wbg.__wbg_contains_4f87c5405416b4fd=function(e,n){return s(e).contains(s(n))},t.wbg.__wbg_getPropertyValue_b0f0858c3b5f17dd=function(){return C(function(e,n,r,i){const o=s(n).getPropertyValue(F(r,i)),c=X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=V;k().setInt32(e+4*1,d,!0),k().setInt32(e+4*0,c,!0)},arguments)},t.wbg.__wbg_removeProperty_cfd836a4f7e5e86e=function(){return C(function(e,n,r,i){const o=s(n).removeProperty(F(r,i)),c=X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=V;k().setInt32(e+4*1,d,!0),k().setInt32(e+4*0,c,!0)},arguments)},t.wbg.__wbg_visibilityState_51f5bb37c843e94e=function(e){const n=s(e).visibilityState;return{hidden:0,visible:1}[n]??2},t.wbg.__wbg_body_b3bb488e8e54bf4b=function(e){const n=s(e).body;return j(n)?0:g(n)},t.wbg.__wbg_appendChild_ac45d1abddf1b89b=function(){return C(function(e,n){const r=s(e).appendChild(s(n));return g(r)},arguments)},t.wbg.__wbg_getComputedStyle_ba4609b39055f674=function(){return C(function(e,n){const r=s(e).getComputedStyle(s(n));return j(r)?0:g(r)},arguments)},t.wbg.__wbg_activeElement_1036a8ddc10ec3f1=function(e){const n=s(e).activeElement;return j(n)?0:g(n)},t.wbg.__wbg_is_009b1ef508712fda=function(e,n){return Object.is(s(e),s(n))},t.wbg.__wbg_new_42acb42ec2ace97c=function(){return C(function(e){const n=new ResizeObserver(s(e));return g(n)},arguments)},t.wbg.__wbg_observe_101f5cf5a11e9a79=function(e,n){s(e).observe(s(n))},t.wbg.__wbg_setbox_0d838a2d268b7fac=function(e,n){s(e).box=["border-box","content-box","device-pixel-content-box"][n]},t.wbg.__wbg_observe_60f3631b2f7c6d8b=function(e,n,r){s(e).observe(s(n),s(r))},t.wbg.__wbg_new_d0c6c2df51a6d903=function(){return C(function(e){const n=new IntersectionObserver(s(e));return g(n)},arguments)},t.wbg.__wbg_observe_c901133fbef21560=function(e,n){s(e).observe(s(n))},t.wbg.__wbg_getBoundingClientRect_35fc4d8fa10e0463=function(e){const n=s(e).getBoundingClientRect();return g(n)},t.wbg.__wbg_x_a79a5b516ee71e4c=function(e){return s(e).x},t.wbg.__wbg_y_bd4e2c0613413655=function(e){return s(e).y},t.wbg.__wbg_button_460cdec9f2512a91=function(e){return s(e).button},t.wbg.__wbg_offsetX_294898d040917c6b=function(e){return s(e).offsetX},t.wbg.__wbg_offsetY_f484804b7b03dd86=function(e){return s(e).offsetY},t.wbg.__wbg_deltaX_7f4a9de8338c7ca6=function(e){return s(e).deltaX},t.wbg.__wbg_deltaY_606f12aa66daba69=function(e){return s(e).deltaY},t.wbg.__wbg_deltaMode_d6b849e45efd0f5e=function(e){return s(e).deltaMode},t.wbg.__wbg_code_01dc6af887ca9ecb=function(e,n){const r=s(n).code,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_location_d7fe3090ad7e80d7=function(e){return s(e).location},t.wbg.__wbg_metaKey_00fdcfadf1968d45=function(e){return s(e).metaKey},t.wbg.__wbg_shiftKey_8c0f9a5ca3ff8f93=function(e){return s(e).shiftKey},t.wbg.__wbg_ctrlKey_957c6c31b62b4550=function(e){return s(e).ctrlKey},t.wbg.__wbg_altKey_d3fbce7596aac8cf=function(e){return s(e).altKey},t.wbg.__wbg_metaKey_be0158b14b1cef4a=function(e){return s(e).metaKey},t.wbg.__wbg_getCoalescedEvents_bf1c46ef1a01dcce=function(e){const n=s(e).getCoalescedEvents();return g(n)},t.wbg.__wbg_navigator_6210380287bf8581=function(e){const n=s(e).navigator;return g(n)},t.wbg.__wbg_userAgentData_85a8393570ab7dee=function(e){const n=s(e).userAgentData;return j(n)?0:g(n)},t.wbg.__wbg_brands_982de08b35281a98=function(e){const n=s(e).brands;return g(n)},t.wbg.__wbg_brand_cdcf0249d44027a8=function(e,n){const r=s(n).brand,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},t.wbg.__wbg_userAgent_58dedff4303aeb66=function(){return C(function(e,n){const r=s(n).userAgent,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=V;k().setInt32(e+4*1,o,!0),k().setInt32(e+4*0,i,!0)},arguments)},t.wbg.__wbg_requestFullscreen_8a94df4e7f757077=function(e){const n=s(e).requestFullscreen;return g(n)},t.wbg.__wbg_requestIdleCallback_86b728660e0547ef=function(e){const n=s(e).requestIdleCallback;return g(n)},t.wbg.__wbg_scheduler_f38a681d98b5a776=function(e){const n=s(e).scheduler;return g(n)},t.wbg.__wbg_getCoalescedEvents_85701851c470c4e6=function(e){const n=s(e).getCoalescedEvents;return g(n)},t.wbg.__wbg_disconnect_1dbf7e19d9590abd=function(e){s(e).disconnect()},t.wbg.__wbg_cancel_cba86749f45f30ae=function(e){s(e).cancel()},t.wbg.__wbg_queueMicrotask_693514e3dcae83e6=function(e){queueMicrotask(fe(e))},t.wbg.__wbg_animate_b321da85ed3f2b4a=function(e,n,r){const i=s(e).animate(s(n),s(r));return g(i)},t.wbg.__wbg_play_5896e5851ba90aa2=function(e){s(e).play()},t.wbg.__wbg_removeListener_0ff79f74b9d808ac=function(){return C(function(e,n){s(e).removeListener(s(n))},arguments)},t.wbg.__wbg_unobserve_e67452df241a602d=function(e,n){s(e).unobserve(s(n))},t.wbg.__wbg_webkitRequestFullscreen_42ba1c34171febc6=function(e){s(e).webkitRequestFullscreen()},t.wbg.__wbg_requestFullscreen_24891df6120b675d=function(e){const n=s(e).requestFullscreen();return g(n)},t.wbg.__wbg_webkitFullscreenElement_a02341d57a641b43=function(e){const n=s(e).webkitFullscreenElement;return j(n)?0:g(n)},t.wbg.__wbg_fullscreenElement_027a4ad195839d29=function(e){const n=s(e).fullscreenElement;return j(n)?0:g(n)},t.wbg.__wbg_requestAnimationFrame_b4b782250b9c2c88=function(){return C(function(e,n){return s(e).requestAnimationFrame(s(n))},arguments)},t.wbg.__wbindgen_closure_wrapper3524=function(e,n,r){const i=en(e,n,1298,tn);return g(i)},t.wbg.__wbindgen_closure_wrapper3526=function(e,n,r){const i=en(e,n,1298,tn);return g(i)},t.wbg.__wbindgen_closure_wrapper3527=function(e,n,r){const i=en(e,n,1298,tn);return g(i)},t.wbg.__wbindgen_closure_wrapper3528=function(e,n,r){const i=en(e,n,1298,tn);return g(i)},t.wbg.__wbindgen_closure_wrapper3529=function(e,n,r){const i=en(e,n,1298,tn);return g(i)},t.wbg.__wbindgen_closure_wrapper5701=function(e,n,r){const i=Ee(e,n,1517,vo);return g(i)},t.wbg.__wbindgen_closure_wrapper11151=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t.wbg.__wbindgen_closure_wrapper12307=function(e,n,r){const i=Ee(e,n,1517,vo);return g(i)},t.wbg.__wbindgen_closure_wrapper12340=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t.wbg.__wbindgen_closure_wrapper12348=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t.wbg.__wbindgen_closure_wrapper12354=function(e,n,r){const i=Ee(e,n,1517,Ro);return g(i)},t.wbg.__wbindgen_closure_wrapper12366=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t.wbg.__wbindgen_closure_wrapper12380=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t.wbg.__wbindgen_closure_wrapper12385=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t.wbg.__wbindgen_closure_wrapper12400=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t.wbg.__wbindgen_closure_wrapper12410=function(e,n,r){const i=Ee(e,n,1517,Ze);return g(i)},t}function Uc(t,e){return p=t.exports,Po.__wbindgen_wasm_module=e,mt=null,nn=null,Zt=null,p}async function Po(t){if(p!==void 0)return p;typeof t<"u"&&Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead"),typeof t>"u"&&(t=new URL(""+new URL("slint_lsp_wasm_bg-BMa41080.wasm",self.location.href).href,self.location.href));const e=Vc();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await Bc(await t,e);return Uc(n,r)}var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ko={},Xr={},Ue={},ie={},wt={},Qr={},jn={},q={},le={};Object.defineProperty(le,"__esModule",{value:!0}),le.stringArray=le.array=le.func=le.error=le.number=le.string=le.boolean=void 0;function Xc(t){return t===!0||t===!1}le.boolean=Xc;function So(t){return typeof t=="string"||t instanceof String}le.string=So;function Qc(t){return typeof t=="number"||t instanceof Number}le.number=Qc;function Yc(t){return t instanceof Error}le.error=Yc;function Kc(t){return typeof t=="function"}le.func=Kc;function Co(t){return Array.isArray(t)}le.array=Co;function Gc(t){return Co(t)&&t.every(e=>So(e))}le.stringArray=Gc,Object.defineProperty(q,"__esModule",{value:!0}),q.Message=q.NotificationType9=q.NotificationType8=q.NotificationType7=q.NotificationType6=q.NotificationType5=q.NotificationType4=q.NotificationType3=q.NotificationType2=q.NotificationType1=q.NotificationType0=q.NotificationType=q.RequestType9=q.RequestType8=q.RequestType7=q.RequestType6=q.RequestType5=q.RequestType4=q.RequestType3=q.RequestType2=q.RequestType1=q.RequestType=q.RequestType0=q.AbstractMessageSignature=q.ParameterStructures=q.ResponseError=q.ErrorCodes=void 0;const pt=le;var Yr;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Yr||(q.ErrorCodes=Yr={}));class Kr extends Error{constructor(e,n,r){super(n),this.code=pt.number(e)?e:Yr.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Kr.prototype)}toJson(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}}q.ResponseError=Kr;class pe{constructor(e){this.kind=e}static is(e){return e===pe.auto||e===pe.byName||e===pe.byPosition}toString(){return this.kind}}q.ParameterStructures=pe,pe.auto=new pe("auto"),pe.byPosition=new pe("byPosition"),pe.byName=new pe("byName");class Y{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return pe.auto}}q.AbstractMessageSignature=Y;class Zc extends Y{constructor(e){super(e,0)}}q.RequestType0=Zc;class ea extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.RequestType=ea;class ta extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.RequestType1=ta;class na extends Y{constructor(e){super(e,2)}}q.RequestType2=na;class ra extends Y{constructor(e){super(e,3)}}q.RequestType3=ra;class ia extends Y{constructor(e){super(e,4)}}q.RequestType4=ia;class oa extends Y{constructor(e){super(e,5)}}q.RequestType5=oa;class sa extends Y{constructor(e){super(e,6)}}q.RequestType6=sa;class ca extends Y{constructor(e){super(e,7)}}q.RequestType7=ca;class aa extends Y{constructor(e){super(e,8)}}q.RequestType8=aa;class ua extends Y{constructor(e){super(e,9)}}q.RequestType9=ua;class da extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.NotificationType=da;class la extends Y{constructor(e){super(e,0)}}q.NotificationType0=la;class fa extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.NotificationType1=fa;class ga extends Y{constructor(e){super(e,2)}}q.NotificationType2=ga;class _a extends Y{constructor(e){super(e,3)}}q.NotificationType3=_a;class ba extends Y{constructor(e){super(e,4)}}q.NotificationType4=ba;class ha extends Y{constructor(e){super(e,5)}}q.NotificationType5=ha;class ma extends Y{constructor(e){super(e,6)}}q.NotificationType6=ma;class wa extends Y{constructor(e){super(e,7)}}q.NotificationType7=wa;class pa extends Y{constructor(e){super(e,8)}}q.NotificationType8=pa;class ya extends Y{constructor(e){super(e,9)}}q.NotificationType9=ya;var qo;(function(t){function e(i){const o=i;return o&&pt.string(o.method)&&(pt.string(o.id)||pt.number(o.id))}t.isRequest=e;function n(i){const o=i;return o&&pt.string(o.method)&&i.id===void 0}t.isNotification=n;function r(i){const o=i;return o&&(o.result!==void 0||!!o.error)&&(pt.string(o.id)||pt.number(o.id)||o.id===null)}t.isResponse=r})(qo||(q.Message=qo={}));var Je={},Mo;Object.defineProperty(Je,"__esModule",{value:!0}),Je.LRUCache=Je.LinkedMap=Je.Touch=void 0;var ye;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(ye||(Je.Touch=ye={}));class Oo{constructor(){this[Mo]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=ye.None){const r=this._map.get(e);if(r)return n!==ye.None&&this.touch(r,n),r.value}set(e,n,r=ye.None){let i=this._map.get(e);if(i)i.value=n,r!==ye.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case ye.None:this.addItemLast(i);break;case ye.First:this.addItemFirst(i);break;case ye.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){const r=this._state;let i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(Mo=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==ye.First&&n!==ye.Last)){if(n===ye.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===ye.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(const[n,r]of e)this.set(n,r)}}Je.LinkedMap=Oo;class va extends Oo{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=ye.AsNew){return super.get(e,n)}peek(e){return super.get(e,ye.None)}set(e,n){return super.set(e,n,ye.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}Je.LRUCache=va;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.Disposable=void 0;var Eo;(function(t){function e(n){return{dispose:n}}t.create=e})(Eo||(Fn.Disposable=Eo={}));var Ae={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});let Gr;function Zr(){if(Gr===void 0)throw new Error("No runtime abstraction layer installed");return Gr}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Gr=n}t.install=e})(Zr||(Zr={})),Xe.default=Zr,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Emitter=Ae.Event=void 0;const Ra=Xe;var No;(function(t){const e={dispose(){}};t.None=function(){return e}})(No||(Ae.Event=No={}));class Da{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,c=r.length;o<c;o++)try{n.push(r[o].apply(i[o],e))}catch(d){(0,Ra.default)().console.error(d)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class In{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Da),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=In._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Ae.Emitter=In,In._noop=function(){};var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.CancellationTokenSource=et.CancellationToken=void 0;const Ta=Xe,Pa=le,ei=Ae;var An;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ei.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ei.Event.None});function e(n){const r=n;return r&&(r===t.None||r===t.Cancelled||Pa.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(An||(et.CancellationToken=An={}));const ka=Object.freeze(function(t,e){const n=(0,Ta.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}});class jo{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?ka:(this._emitter||(this._emitter=new ei.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class Sa{get token(){return this._token||(this._token=new jo),this._token}cancel(){this._token?this._token.cancel():this._token=An.Cancelled}dispose(){this._token?this._token instanceof jo&&this._token.dispose():this._token=An.None}}et.CancellationTokenSource=Sa;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.SharedArrayReceiverStrategy=qt.SharedArraySenderStrategy=void 0;const Ca=et;var rn;(function(t){t.Continue=0,t.Cancelled=1})(rn||(rn={}));class qa{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=rn.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,rn.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}}qt.SharedArraySenderStrategy=qa;class Ma{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===rn.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class Oa{constructor(e){this.token=new Ma(e)}cancel(){}dispose(){}}class Ea{constructor(){this.kind="request"}createCancellationTokenSource(e){const n=e.$cancellationData;return n===void 0?new Ca.CancellationTokenSource:new Oa(n)}}qt.SharedArrayReceiverStrategy=Ea;var tt={},on={};Object.defineProperty(on,"__esModule",{value:!0}),on.Semaphore=void 0;const Na=Xe;class ja{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Na.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}}on.Semaphore=ja,Object.defineProperty(tt,"__esModule",{value:!0}),tt.ReadableStreamMessageReader=tt.AbstractMessageReader=tt.MessageReader=void 0;const ti=Xe,Mt=le,ni=Ae,Fa=on;var Fo;(function(t){function e(n){let r=n;return r&&Mt.func(r.listen)&&Mt.func(r.dispose)&&Mt.func(r.onError)&&Mt.func(r.onClose)&&Mt.func(r.onPartialMessage)}t.is=e})(Fo||(tt.MessageReader=Fo={}));class Io{constructor(){this.errorEmitter=new ni.Emitter,this.closeEmitter=new ni.Emitter,this.partialMessageEmitter=new ni.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Mt.string(e.message)?e.message:"unknown"}`)}}tt.AbstractMessageReader=Io;var ri;(function(t){function e(n){let r,i;const o=new Map;let c;const d=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(i=n.contentDecoder,o.set(i.name,i)),n.contentDecoders!==void 0)for(const f of n.contentDecoders)o.set(f.name,f);if(n.contentTypeDecoder!==void 0&&(c=n.contentTypeDecoder,d.set(c.name,c)),n.contentTypeDecoders!==void 0)for(const f of n.contentTypeDecoders)d.set(f.name,f)}return c===void 0&&(c=(0,ti.default)().applicationJson.decoder,d.set(c.name,c)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:c,contentTypeDecoders:d}}t.fromOptions=e})(ri||(ri={}));class Ia extends Io{constructor(e,n){super(),this.readable=e,this.options=ri.fromOptions(n),this.buffer=(0,ti.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Fa.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){const r=this.buffer.tryReadHeaders(!0);if(!r)return;const i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}const o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}const n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ti.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}tt.ReadableStreamMessageReader=Ia;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.WriteableStreamMessageWriter=nt.AbstractMessageWriter=nt.MessageWriter=void 0;const Ao=Xe,sn=le,Aa=on,Lo=Ae,La="Content-Length: ",Wo=`\r
`;var $o;(function(t){function e(n){let r=n;return r&&sn.func(r.dispose)&&sn.func(r.onClose)&&sn.func(r.onError)&&sn.func(r.write)}t.is=e})($o||(nt.MessageWriter=$o={}));class Ho{constructor(){this.errorEmitter=new Lo.Emitter,this.closeEmitter=new Lo.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${sn.string(e.message)?e.message:"unknown"}`)}}nt.AbstractMessageWriter=Ho;var ii;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Ao.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Ao.default)().applicationJson.encoder}}t.fromOptions=e})(ii||(ii={}));class Wa extends Ho{constructor(e,n){super(),this.writable=e,this.options=ii.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Aa.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{const i=[];return i.push(La,r.byteLength.toString(),Wo),i.push(Wo),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}}nt.WriteableStreamMessageWriter=Wa;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.AbstractMessageBuffer=void 0;const $a=13,Ha=10,xa=`\r
`;class za{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){const _=this._chunks[r];for(i=0;i<_.length;){switch(_[i]){case $a:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Ha:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=_.byteLength,r++}if(n!==4)return;const c=this._read(o+i),d=new Map,f=this.toString(c,"ascii").split(xa);if(f.length<2)return d;for(let _=0;_<f.length-2;_++){const w=f[_],P=w.indexOf(":");if(P===-1)throw new Error(`Message header must separate key and value using ':'
${w}`);const v=w.substr(0,P),M=w.substr(P+1).trim();d.set(e?v.toLowerCase():v,M)}return d}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){const o=this._chunks[0],c=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,c}const n=this.allocNative(e);let r=0,i=0;for(;e>0;){const o=this._chunks[i];if(o.byteLength>e){const c=o.slice(0,e);n.set(c,r),r+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return n}}Ln.AbstractMessageBuffer=za;var xo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const e=Xe,n=le,r=q,i=Je,o=Ae,c=et;var d;(function(y){y.type=new r.NotificationType("$/cancelRequest")})(d||(d={}));var f;(function(y){function I(A){return typeof A=="string"||typeof A=="number"}y.is=I})(f||(t.ProgressToken=f={}));var _;(function(y){y.type=new r.NotificationType("$/progress")})(_||(_={}));class w{constructor(){}}t.ProgressType=w;var P;(function(y){function I(A){return n.func(A)}y.is=I})(P||(P={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var v;(function(y){y[y.Off=0]="Off",y[y.Messages=1]="Messages",y[y.Compact=2]="Compact",y[y.Verbose=3]="Verbose"})(v||(t.Trace=v={}));var M;(function(y){y.Off="off",y.Messages="messages",y.Compact="compact",y.Verbose="verbose"})(M||(t.TraceValues=M={})),function(y){function I(O){if(!n.string(O))return y.Off;switch(O=O.toLowerCase(),O){case"off":return y.Off;case"messages":return y.Messages;case"compact":return y.Compact;case"verbose":return y.Verbose;default:return y.Off}}y.fromString=I;function A(O){switch(O){case y.Off:return"off";case y.Messages:return"messages";case y.Compact:return"compact";case y.Verbose:return"verbose";default:return"off"}}y.toString=A}(v||(t.Trace=v={}));var W;(function(y){y.Text="text",y.JSON="json"})(W||(t.TraceFormat=W={})),function(y){function I(A){return n.string(A)?(A=A.toLowerCase(),A==="json"?y.JSON:y.Text):y.Text}y.fromString=I}(W||(t.TraceFormat=W={}));var be;(function(y){y.type=new r.NotificationType("$/setTrace")})(be||(t.SetTraceNotification=be={}));var me;(function(y){y.type=new r.NotificationType("$/logTrace")})(me||(t.LogTraceNotification=me={}));var $;(function(y){y[y.Closed=1]="Closed",y[y.Disposed=2]="Disposed",y[y.AlreadyListening=3]="AlreadyListening"})($||(t.ConnectionErrors=$={}));class b extends Error{constructor(I,A){super(A),this.code=I,Object.setPrototypeOf(this,b.prototype)}}t.ConnectionError=b;var h;(function(y){function I(A){const O=A;return O&&n.func(O.cancelUndispatched)}y.is=I})(h||(t.ConnectionStrategy=h={}));var T;(function(y){function I(A){const O=A;return O&&(O.kind===void 0||O.kind==="id")&&n.func(O.createCancellationTokenSource)&&(O.dispose===void 0||n.func(O.dispose))}y.is=I})(T||(t.IdCancellationReceiverStrategy=T={}));var ge;(function(y){function I(A){const O=A;return O&&O.kind==="request"&&n.func(O.createCancellationTokenSource)&&(O.dispose===void 0||n.func(O.dispose))}y.is=I})(ge||(t.RequestCancellationReceiverStrategy=ge={}));var se;(function(y){y.Message=Object.freeze({createCancellationTokenSource(A){return new c.CancellationTokenSource}});function I(A){return T.is(A)||ge.is(A)}y.is=I})(se||(t.CancellationReceiverStrategy=se={}));var we;(function(y){y.Message=Object.freeze({sendCancellation(A,O){return A.sendNotification(d.type,{id:O})},cleanup(A){}});function I(A){const O=A;return O&&n.func(O.sendCancellation)&&n.func(O.cleanup)}y.is=I})(we||(t.CancellationSenderStrategy=we={}));var Jt;(function(y){y.Message=Object.freeze({receiver:se.Message,sender:we.Message});function I(A){const O=A;return O&&se.is(O.receiver)&&we.is(O.sender)}y.is=I})(Jt||(t.CancellationStrategy=Jt={}));var lt;(function(y){function I(A){const O=A;return O&&n.func(O.handleMessage)}y.is=I})(lt||(t.MessageStrategy=lt={}));var Xt;(function(y){function I(A){const O=A;return O&&(Jt.is(O.cancellationStrategy)||h.is(O.connectionStrategy)||lt.is(O.messageStrategy))}y.is=I})(Xt||(t.ConnectionOptions=Xt={}));var Re;(function(y){y[y.New=1]="New",y[y.Listening=2]="Listening",y[y.Closed=3]="Closed",y[y.Disposed=4]="Disposed"})(Re||(Re={}));function wn(y,I,A,O){const K=A!==void 0?A:t.NullLogger;let Tr=0,Pr=0,kr=0;const ft="2.0";let gt;const Tt=new Map;let _t;const Pt=new Map,kt=new Map;let Qt,He=new i.LinkedMap,xe=new Map,St=new Set,Oe=new Map,U=v.Off,ze=W.Text,ne,je=Re.New;const Yt=new o.Emitter,pn=new o.Emitter,yn=new o.Emitter,vn=new o.Emitter,Rn=new o.Emitter,Fe=O&&O.cancellationStrategy?O.cancellationStrategy:Jt.Message;function Dn(u){if(u===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+u.toString()}function Sr(u){return u===null?"res-unknown-"+(++kr).toString():"res-"+u.toString()}function Cr(){return"not-"+(++Pr).toString()}function qr(u,m){r.Message.isRequest(m)?u.set(Dn(m.id),m):r.Message.isResponse(m)?u.set(Sr(m.id),m):u.set(Cr(),m)}function Mr(u){}function Tn(){return je===Re.Listening}function Pn(){return je===Re.Closed}function Ke(){return je===Re.Disposed}function kn(){(je===Re.New||je===Re.Listening)&&(je=Re.Closed,pn.fire(void 0))}function Or(u){Yt.fire([u,void 0,void 0])}function Er(u){Yt.fire(u)}y.onClose(kn),y.onError(Or),I.onClose(kn),I.onError(Er);function Sn(){Qt||He.size===0||(Qt=(0,e.default)().timer.setImmediate(()=>{Qt=void 0,Nr()}))}function Cn(u){r.Message.isRequest(u)?Fr(u):r.Message.isNotification(u)?Ar(u):r.Message.isResponse(u)?Ir(u):Lr(u)}function Nr(){if(He.size===0)return;const u=He.shift();try{const m=O?.messageStrategy;lt.is(m)?m.handleMessage(u,Cn):Cn(u)}finally{Sn()}}const jr=u=>{try{if(r.Message.isNotification(u)&&u.method===d.type.method){const m=u.params.id,R=Dn(m),S=He.get(R);if(r.Message.isRequest(S)){const J=O?.connectionStrategy,re=J&&J.cancelUndispatched?J.cancelUndispatched(S,Mr):void 0;if(re&&(re.error!==void 0||re.result!==void 0)){He.delete(R),Oe.delete(m),re.id=S.id,Ct(re,u.method,Date.now()),I.write(re).catch(()=>K.error("Sending response for canceled message failed."));return}}const Q=Oe.get(m);if(Q!==void 0){Q.cancel(),Kt(u);return}else St.add(m)}qr(He,u)}finally{Sn()}};function Fr(u){if(Ke())return;function m(x,G,B){const _e={jsonrpc:ft,id:u.id};x instanceof r.ResponseError?_e.error=x.toJson():_e.result=x===void 0?null:x,Ct(_e,G,B),I.write(_e).catch(()=>K.error("Sending response failed."))}function R(x,G,B){const _e={jsonrpc:ft,id:u.id,error:x.toJson()};Ct(_e,G,B),I.write(_e).catch(()=>K.error("Sending response failed."))}function S(x,G,B){x===void 0&&(x=null);const _e={jsonrpc:ft,id:u.id,result:x};Ct(_e,G,B),I.write(_e).catch(()=>K.error("Sending response failed."))}Hr(u);const Q=Tt.get(u.method);let J,re;Q&&(J=Q.type,re=Q.handler);const ue=Date.now();if(re||gt){const x=u.id??String(Date.now()),G=T.is(Fe.receiver)?Fe.receiver.createCancellationTokenSource(x):Fe.receiver.createCancellationTokenSource(u);u.id!==null&&St.has(u.id)&&G.cancel(),u.id!==null&&Oe.set(x,G);try{let B;if(re)if(u.params===void 0){if(J!==void 0&&J.numberOfParams!==0){R(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines ${J.numberOfParams} params but received none.`),u.method,ue);return}B=re(G.token)}else if(Array.isArray(u.params)){if(J!==void 0&&J.parameterStructures===r.ParameterStructures.byName){R(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by name but received parameters by position`),u.method,ue);return}B=re(...u.params,G.token)}else{if(J!==void 0&&J.parameterStructures===r.ParameterStructures.byPosition){R(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by position but received parameters by name`),u.method,ue);return}B=re(u.params,G.token)}else gt&&(B=gt(u.method,u.params,G.token));const _e=B;B?_e.then?_e.then(De=>{Oe.delete(x),m(De,u.method,ue)},De=>{Oe.delete(x),De instanceof r.ResponseError?R(De,u.method,ue):De&&n.string(De.message)?R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${De.message}`),u.method,ue):R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,ue)}):(Oe.delete(x),m(B,u.method,ue)):(Oe.delete(x),S(B,u.method,ue))}catch(B){Oe.delete(x),B instanceof r.ResponseError?m(B,u.method,ue):B&&n.string(B.message)?R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${B.message}`),u.method,ue):R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,ue)}}else R(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,ue)}function Ir(u){if(!Ke())if(u.id===null)u.error?K.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):K.error("Received response message without id. No further error information provided.");else{const m=u.id,R=xe.get(m);if(xr(u,R),R!==void 0){xe.delete(m);try{if(u.error){const S=u.error;R.reject(new r.ResponseError(S.code,S.message,S.data))}else if(u.result!==void 0)R.resolve(u.result);else throw new Error("Should never happen.")}catch(S){S.message?K.error(`Response handler '${R.method}' failed with message: ${S.message}`):K.error(`Response handler '${R.method}' failed unexpectedly.`)}}}}function Ar(u){if(Ke())return;let m,R;if(u.method===d.type.method){const S=u.params.id;St.delete(S),Kt(u);return}else{const S=Pt.get(u.method);S&&(R=S.handler,m=S.type)}if(R||_t)try{if(Kt(u),R)if(u.params===void 0)m!==void 0&&m.numberOfParams!==0&&m.parameterStructures!==r.ParameterStructures.byName&&K.error(`Notification ${u.method} defines ${m.numberOfParams} params but received none.`),R();else if(Array.isArray(u.params)){const S=u.params;u.method===_.type.method&&S.length===2&&f.is(S[0])?R({token:S[0],value:S[1]}):(m!==void 0&&(m.parameterStructures===r.ParameterStructures.byName&&K.error(`Notification ${u.method} defines parameters by name but received parameters by position`),m.numberOfParams!==u.params.length&&K.error(`Notification ${u.method} defines ${m.numberOfParams} params but received ${S.length} arguments`)),R(...S))}else m!==void 0&&m.parameterStructures===r.ParameterStructures.byPosition&&K.error(`Notification ${u.method} defines parameters by position but received parameters by name`),R(u.params);else _t&&_t(u.method,u.params)}catch(S){S.message?K.error(`Notification handler '${u.method}' failed with message: ${S.message}`):K.error(`Notification handler '${u.method}' failed unexpectedly.`)}else yn.fire(u)}function Lr(u){if(!u){K.error("Received empty message.");return}K.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);const m=u;if(n.string(m.id)||n.number(m.id)){const R=m.id,S=xe.get(R);S&&S.reject(new Error("The received response has neither a result nor an error property."))}}function Ie(u){if(u!=null)switch(U){case v.Verbose:return JSON.stringify(u,null,4);case v.Compact:return JSON.stringify(u);default:return}}function Wr(u){if(!(U===v.Off||!ne))if(ze===W.Text){let m;(U===v.Verbose||U===v.Compact)&&u.params&&(m=`Params: ${Ie(u.params)}

`),ne.log(`Sending request '${u.method} - (${u.id})'.`,m)}else Ge("send-request",u)}function $r(u){if(!(U===v.Off||!ne))if(ze===W.Text){let m;(U===v.Verbose||U===v.Compact)&&(u.params?m=`Params: ${Ie(u.params)}

`:m=`No parameters provided.

`),ne.log(`Sending notification '${u.method}'.`,m)}else Ge("send-notification",u)}function Ct(u,m,R){if(!(U===v.Off||!ne))if(ze===W.Text){let S;(U===v.Verbose||U===v.Compact)&&(u.error&&u.error.data?S=`Error data: ${Ie(u.error.data)}

`:u.result?S=`Result: ${Ie(u.result)}

`:u.error===void 0&&(S=`No result returned.

`)),ne.log(`Sending response '${m} - (${u.id})'. Processing request took ${Date.now()-R}ms`,S)}else Ge("send-response",u)}function Hr(u){if(!(U===v.Off||!ne))if(ze===W.Text){let m;(U===v.Verbose||U===v.Compact)&&u.params&&(m=`Params: ${Ie(u.params)}

`),ne.log(`Received request '${u.method} - (${u.id})'.`,m)}else Ge("receive-request",u)}function Kt(u){if(!(U===v.Off||!ne||u.method===me.type.method))if(ze===W.Text){let m;(U===v.Verbose||U===v.Compact)&&(u.params?m=`Params: ${Ie(u.params)}

`:m=`No parameters provided.

`),ne.log(`Received notification '${u.method}'.`,m)}else Ge("receive-notification",u)}function xr(u,m){if(!(U===v.Off||!ne))if(ze===W.Text){let R;if((U===v.Verbose||U===v.Compact)&&(u.error&&u.error.data?R=`Error data: ${Ie(u.error.data)}

`:u.result?R=`Result: ${Ie(u.result)}

`:u.error===void 0&&(R=`No result returned.

`)),m){const S=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";ne.log(`Received response '${m.method} - (${u.id})' in ${Date.now()-m.timerStart}ms.${S}`,R)}else ne.log(`Received response ${u.id} without active response promise.`,R)}else Ge("receive-response",u)}function Ge(u,m){if(!ne||U===v.Off)return;const R={isLSPMessage:!0,type:u,message:m,timestamp:Date.now()};ne.log(R)}function bt(){if(Pn())throw new b($.Closed,"Connection is closed.");if(Ke())throw new b($.Disposed,"Connection is disposed.")}function zr(){if(Tn())throw new b($.AlreadyListening,"Connection is already listening")}function Br(){if(!Tn())throw new Error("Call listen() first.")}function ht(u){return u===void 0?null:u}function qn(u){if(u!==null)return u}function a(u){return u!=null&&!Array.isArray(u)&&typeof u=="object"}function ce(u,m){switch(u){case r.ParameterStructures.auto:return a(m)?qn(m):[ht(m)];case r.ParameterStructures.byName:if(!a(m))throw new Error("Received parameters by name but param is not an object literal.");return qn(m);case r.ParameterStructures.byPosition:return[ht(m)];default:throw new Error(`Unknown parameter structure ${u.toString()}`)}}function ae(u,m){let R;const S=u.numberOfParams;switch(S){case 0:R=void 0;break;case 1:R=ce(u.parameterStructures,m[0]);break;default:R=[];for(let Q=0;Q<m.length&&Q<S;Q++)R.push(ht(m[Q]));if(m.length<S)for(let Q=m.length;Q<S;Q++)R.push(null);break}return R}const E={sendNotification:(u,...m)=>{bt();let R,S;if(n.string(u)){R=u;const J=m[0];let re=0,ue=r.ParameterStructures.auto;r.ParameterStructures.is(J)&&(re=1,ue=J);let x=m.length;const G=x-re;switch(G){case 0:S=void 0;break;case 1:S=ce(ue,m[re]);break;default:if(ue===r.ParameterStructures.byName)throw new Error(`Received ${G} parameters for 'by Name' notification parameter structure.`);S=m.slice(re,x).map(B=>ht(B));break}}else{const J=m;R=u.method,S=ae(u,J)}const Q={jsonrpc:ft,method:R,params:S};return $r(Q),I.write(Q).catch(J=>{throw K.error("Sending notification failed."),J})},onNotification:(u,m)=>{bt();let R;return n.func(u)?_t=u:m&&(n.string(u)?(R=u,Pt.set(u,{type:void 0,handler:m})):(R=u.method,Pt.set(u.method,{type:u,handler:m}))),{dispose:()=>{R!==void 0?Pt.delete(R):_t=void 0}}},onProgress:(u,m,R)=>{if(kt.has(m))throw new Error(`Progress handler for token ${m} already registered`);return kt.set(m,R),{dispose:()=>{kt.delete(m)}}},sendProgress:(u,m,R)=>E.sendNotification(_.type,{token:m,value:R}),onUnhandledProgress:vn.event,sendRequest:(u,...m)=>{bt(),Br();let R,S,Q;if(n.string(u)){R=u;const x=m[0],G=m[m.length-1];let B=0,_e=r.ParameterStructures.auto;r.ParameterStructures.is(x)&&(B=1,_e=x);let De=m.length;c.CancellationToken.is(G)&&(De=De-1,Q=G);const Be=De-B;switch(Be){case 0:S=void 0;break;case 1:S=ce(_e,m[B]);break;default:if(_e===r.ParameterStructures.byName)throw new Error(`Received ${Be} parameters for 'by Name' request parameter structure.`);S=m.slice(B,De).map(hd=>ht(hd));break}}else{const x=m;R=u.method,S=ae(u,x);const G=u.numberOfParams;Q=c.CancellationToken.is(x[G])?x[G]:void 0}const J=Tr++;let re;Q&&(re=Q.onCancellationRequested(()=>{const x=Fe.sender.sendCancellation(E,J);return x===void 0?(K.log(`Received no promise from cancellation strategy when cancelling id ${J}`),Promise.resolve()):x.catch(()=>{K.log(`Sending cancellation messages for id ${J} failed`)})}));const ue={jsonrpc:ft,id:J,method:R,params:S};return Wr(ue),typeof Fe.sender.enableCancellation=="function"&&Fe.sender.enableCancellation(ue),new Promise(async(x,G)=>{const B=Be=>{x(Be),Fe.sender.cleanup(J),re?.dispose()},_e=Be=>{G(Be),Fe.sender.cleanup(J),re?.dispose()},De={method:R,timerStart:Date.now(),resolve:B,reject:_e};try{await I.write(ue),xe.set(J,De)}catch(Be){throw K.error("Sending request failed."),De.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Be.message?Be.message:"Unknown reason")),Be}})},onRequest:(u,m)=>{bt();let R=null;return P.is(u)?(R=void 0,gt=u):n.string(u)?(R=null,m!==void 0&&(R=u,Tt.set(u,{handler:m,type:void 0}))):m!==void 0&&(R=u.method,Tt.set(u.method,{type:u,handler:m})),{dispose:()=>{R!==null&&(R!==void 0?Tt.delete(R):gt=void 0)}}},hasPendingResponse:()=>xe.size>0,trace:async(u,m,R)=>{let S=!1,Q=W.Text;R!==void 0&&(n.boolean(R)?S=R:(S=R.sendNotification||!1,Q=R.traceFormat||W.Text)),U=u,ze=Q,U===v.Off?ne=void 0:ne=m,S&&!Pn()&&!Ke()&&await E.sendNotification(be.type,{value:v.toString(u)})},onError:Yt.event,onClose:pn.event,onUnhandledNotification:yn.event,onDispose:Rn.event,end:()=>{I.end()},dispose:()=>{if(Ke())return;je=Re.Disposed,Rn.fire(void 0);const u=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const m of xe.values())m.reject(u);xe=new Map,Oe=new Map,St=new Set,He=new i.LinkedMap,n.func(I.dispose)&&I.dispose(),n.func(y.dispose)&&y.dispose()},listen:()=>{bt(),zr(),je=Re.Listening,y.listen(jr)},inspect:()=>{(0,e.default)().console.log("inspect")}};return E.onNotification(me.type,u=>{if(U===v.Off||!ne)return;const m=U===v.Verbose||U===v.Compact;ne.log(u.message,m?u.verbose:void 0)}),E.onNotification(_.type,u=>{const m=kt.get(u.token);m?m(u.value):vn.fire(u)}),E}t.createMessageConnection=wn})(xo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const e=q;Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return e.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return e.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return e.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return e.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return e.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return e.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return e.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return e.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return e.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return e.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return e.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return e.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return e.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return e.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return e.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return e.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return e.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return e.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return e.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return e.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return e.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return e.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return e.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return e.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return e.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return e.ParameterStructures}});const n=Je;Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=Fn;Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Ae;Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=et;Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const c=qt;Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return c.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return c.SharedArrayReceiverStrategy}});const d=tt;Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return d.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return d.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return d.ReadableStreamMessageReader}});const f=nt;Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return f.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return f.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return f.WriteableStreamMessageWriter}});const _=Ln;Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return _.AbstractMessageBuffer}});const w=xo;Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return w.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return w.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return w.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return w.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return w.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return w.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return w.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return w.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return w.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return w.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return w.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return w.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return w.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return w.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return w.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return w.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return w.MessageStrategy}});const P=Xe;t.RAL=P.default}(jn),Object.defineProperty(Qr,"__esModule",{value:!0});const Le=jn;class Wn extends Le.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return Wn.emptyBuffer}fromString(e,n){return new TextEncoder().encode(e)}toString(e,n){return n==="ascii"?this.asciiDecoder.decode(e):new TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e:e.slice(0,n)}allocNative(e){return new Uint8Array(e)}}Wn.emptyBuffer=new Uint8Array(0);class Ba{constructor(e){this.socket=e,this._onData=new Le.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Le.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),Le.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Le.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Le.Disposable.create(()=>this.socket.removeEventListener("end",e))}onData(e){return this._onData.event(e)}}class Va{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),Le.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Le.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Le.Disposable.create(()=>this.socket.removeEventListener("end",e))}write(e,n){if(typeof e=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const Ua=new TextEncoder,zo=Object.freeze({messageBuffer:Object.freeze({create:t=>new Wn(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{if(e.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${e.charset}`);return Promise.resolve(Ua.encode(JSON.stringify(t,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{if(!(t instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(e.charset).decode(t)))}})}),stream:Object.freeze({asReadableStream:t=>new Ba(t),asWritableStream:t=>new Va(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){const r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){const n=setTimeout(t,0,...e);return{dispose:()=>clearTimeout(n)}},setInterval(t,e,...n){const r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function oi(){return zo}(function(t){function e(){Le.RAL.install(zo)}t.install=e})(oi||(oi={})),Qr.default=oi,function(t){var e=de&&de.__createBinding||(Object.create?function(f,_,w,P){P===void 0&&(P=w);var v=Object.getOwnPropertyDescriptor(_,w);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(f,P,v)}:function(f,_,w,P){P===void 0&&(P=w),f[P]=_[w]}),n=de&&de.__exportStar||function(f,_){for(var w in f)w!=="default"&&!Object.prototype.hasOwnProperty.call(_,w)&&e(_,f,w)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,Qr.default.install();const i=jn;n(jn,t);class o extends i.AbstractMessageReader{constructor(_){super(),this._onData=new i.Emitter,this._messageListener=w=>{this._onData.fire(w.data)},_.addEventListener("error",w=>this.fireError(w)),_.onmessage=this._messageListener}listen(_){return this._onData.event(_)}}t.BrowserMessageReader=o;class c extends i.AbstractMessageWriter{constructor(_){super(),this.port=_,this.errorCount=0,_.addEventListener("error",w=>this.fireError(w))}write(_){try{return this.port.postMessage(_),Promise.resolve()}catch(w){return this.handleError(w,_),Promise.reject(w)}}handleError(_,w){this.errorCount++,this.fireError(_,w,this.errorCount)}end(){}}t.BrowserMessageWriter=c;function d(f,_,w,P){return w===void 0&&(w=i.NullLogger),i.ConnectionStrategy.is(P)&&(P={connectionStrategy:P}),(0,i.createMessageConnection)(f,_,w,P)}t.createMessageConnection=d}(wt);var Bo=wt,Vo={},si;(function(t){function e(n){return typeof n=="string"}t.is=e})(si||(si={}));var $n;(function(t){function e(n){return typeof n=="string"}t.is=e})($n||($n={}));var ci;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(ci||(ci={}));var cn;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(cn||(cn={}));var ke;(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=cn.MAX_VALUE),i===Number.MAX_VALUE&&(i=cn.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&l.uinteger(i.line)&&l.uinteger(i.character)}t.is=n})(ke||(ke={}));var Z;(function(t){function e(r,i,o,c){if(l.uinteger(r)&&l.uinteger(i)&&l.uinteger(o)&&l.uinteger(c))return{start:ke.create(r,i),end:ke.create(o,c)};if(ke.is(r)&&ke.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${c}]`)}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&ke.is(i.start)&&ke.is(i.end)}t.is=n})(Z||(Z={}));var an;(function(t){function e(r,i){return{uri:r,range:i}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&Z.is(i.range)&&(l.string(i.uri)||l.undefined(i.uri))}t.is=n})(an||(an={}));var ai;(function(t){function e(r,i,o,c){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:c}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&Z.is(i.targetRange)&&l.string(i.targetUri)&&Z.is(i.targetSelectionRange)&&(Z.is(i.originSelectionRange)||l.undefined(i.originSelectionRange))}t.is=n})(ai||(ai={}));var Hn;(function(t){function e(r,i,o,c){return{red:r,green:i,blue:o,alpha:c}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.numberRange(i.red,0,1)&&l.numberRange(i.green,0,1)&&l.numberRange(i.blue,0,1)&&l.numberRange(i.alpha,0,1)}t.is=n})(Hn||(Hn={}));var ui;(function(t){function e(r,i){return{range:r,color:i}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&Z.is(i.range)&&Hn.is(i.color)}t.is=n})(ui||(ui={}));var di;(function(t){function e(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.undefined(i.textEdit)||We.is(i))&&(l.undefined(i.additionalTextEdits)||l.typedArray(i.additionalTextEdits,We.is))}t.is=n})(di||(di={}));var li;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(li||(li={}));var fi;(function(t){function e(r,i,o,c,d,f){const _={startLine:r,endLine:i};return l.defined(o)&&(_.startCharacter=o),l.defined(c)&&(_.endCharacter=c),l.defined(d)&&(_.kind=d),l.defined(f)&&(_.collapsedText=f),_}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.uinteger(i.startLine)&&l.uinteger(i.startLine)&&(l.undefined(i.startCharacter)||l.uinteger(i.startCharacter))&&(l.undefined(i.endCharacter)||l.uinteger(i.endCharacter))&&(l.undefined(i.kind)||l.string(i.kind))}t.is=n})(fi||(fi={}));var xn;(function(t){function e(r,i){return{location:r,message:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&an.is(i.location)&&l.string(i.message)}t.is=n})(xn||(xn={}));var gi;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(gi||(gi={}));var _i;(function(t){t.Unnecessary=1,t.Deprecated=2})(_i||(_i={}));var bi;(function(t){function e(n){const r=n;return l.objectLiteral(r)&&l.string(r.href)}t.is=e})(bi||(bi={}));var un;(function(t){function e(r,i,o,c,d,f){let _={range:r,message:i};return l.defined(o)&&(_.severity=o),l.defined(c)&&(_.code=c),l.defined(d)&&(_.source=d),l.defined(f)&&(_.relatedInformation=f),_}t.create=e;function n(r){var i;let o=r;return l.defined(o)&&Z.is(o.range)&&l.string(o.message)&&(l.number(o.severity)||l.undefined(o.severity))&&(l.integer(o.code)||l.string(o.code)||l.undefined(o.code))&&(l.undefined(o.codeDescription)||l.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(l.string(o.source)||l.undefined(o.source))&&(l.undefined(o.relatedInformation)||l.typedArray(o.relatedInformation,xn.is))}t.is=n})(un||(un={}));var yt;(function(t){function e(r,i,...o){let c={title:r,command:i};return l.defined(o)&&o.length>0&&(c.arguments=o),c}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.title)&&l.string(i.command)}t.is=n})(yt||(yt={}));var We;(function(t){function e(o,c){return{range:o,newText:c}}t.replace=e;function n(o,c){return{range:{start:o,end:o},newText:c}}t.insert=n;function r(o){return{range:o,newText:""}}t.del=r;function i(o){const c=o;return l.objectLiteral(c)&&l.string(c.newText)&&Z.is(c.range)}t.is=i})(We||(We={}));var vt;(function(t){function e(r,i,o){const c={label:r};return i!==void 0&&(c.needsConfirmation=i),o!==void 0&&(c.description=o),c}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(l.string(i.description)||i.description===void 0)}t.is=n})(vt||(vt={}));var he;(function(t){function e(n){const r=n;return l.string(r)}t.is=e})(he||(he={}));var Qe;(function(t){function e(o,c,d){return{range:o,newText:c,annotationId:d}}t.replace=e;function n(o,c,d){return{range:{start:o,end:o},newText:c,annotationId:d}}t.insert=n;function r(o,c){return{range:o,newText:"",annotationId:c}}t.del=r;function i(o){const c=o;return We.is(c)&&(vt.is(c.annotationId)||he.is(c.annotationId))}t.is=i})(Qe||(Qe={}));var dn;(function(t){function e(r,i){return{textDocument:r,edits:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&ln.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n})(dn||(dn={}));var Ot;(function(t){function e(r,i,o){let c={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(c.options=i),o!==void 0&&(c.annotationId=o),c}t.create=e;function n(r){let i=r;return i&&i.kind==="create"&&l.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}t.is=n})(Ot||(Ot={}));var Et;(function(t){function e(r,i,o,c){let d={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(d.options=o),c!==void 0&&(d.annotationId=c),d}t.create=e;function n(r){let i=r;return i&&i.kind==="rename"&&l.string(i.oldUri)&&l.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}t.is=n})(Et||(Et={}));var Nt;(function(t){function e(r,i,o){let c={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(c.options=i),o!==void 0&&(c.annotationId=o),c}t.create=e;function n(r){let i=r;return i&&i.kind==="delete"&&l.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||l.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||l.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}t.is=n})(Nt||(Nt={}));var zn;(function(t){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>l.string(i.kind)?Ot.is(i)||Et.is(i)||Nt.is(i):dn.is(i)))}t.is=e})(zn||(zn={}));class Bn{constructor(e,n){this.edits=e,this.changeAnnotations=n}insert(e,n,r){let i,o;if(r===void 0?i=We.insert(e,n):he.is(r)?(o=r,i=Qe.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Qe.insert(e,n,o)),this.edits.push(i),o!==void 0)return o}replace(e,n,r){let i,o;if(r===void 0?i=We.replace(e,n):he.is(r)?(o=r,i=Qe.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Qe.replace(e,n,o)),this.edits.push(i),o!==void 0)return o}delete(e,n){let r,i;if(n===void 0?r=We.del(e):he.is(n)?(i=n,r=Qe.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Qe.del(e,i)),this.edits.push(r),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Uo{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,n){let r;if(he.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class Ja{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Uo(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(n=>{if(dn.is(n)){const r=new Bn(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach(n=>{const r=new Bn(e.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(ln.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:e.uri,version:e.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Bn(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[e];if(!n){let r=[];this._workspaceEdit.changes[e]=r,n=new Bn(r),this._textEditChanges[e]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Uo,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;vt.is(n)||he.is(n)?i=n:r=n;let o,c;if(i===void 0?o=Ot.create(e,r):(c=he.is(i)?i:this._changeAnnotations.manage(i),o=Ot.create(e,r,c)),this._workspaceEdit.documentChanges.push(o),c!==void 0)return c}renameFile(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;vt.is(r)||he.is(r)?o=r:i=r;let c,d;if(o===void 0?c=Et.create(e,n,i):(d=he.is(o)?o:this._changeAnnotations.manage(o),c=Et.create(e,n,i,d)),this._workspaceEdit.documentChanges.push(c),d!==void 0)return d}deleteFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;vt.is(n)||he.is(n)?i=n:r=n;let o,c;if(i===void 0?o=Nt.create(e,r):(c=he.is(i)?i:this._changeAnnotations.manage(i),o=Nt.create(e,r,c)),this._workspaceEdit.documentChanges.push(o),c!==void 0)return c}}var hi;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)}t.is=n})(hi||(hi={}));var mi;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.integer(i.version)}t.is=n})(mi||(mi={}));var ln;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&(i.version===null||l.integer(i.version))}t.is=n})(ln||(ln={}));var wi;(function(t){function e(r,i,o,c){return{uri:r,languageId:i,version:o,text:c}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.string(i.languageId)&&l.integer(i.version)&&l.string(i.text)}t.is=n})(wi||(wi={}));var Vn;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){const r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(Vn||(Vn={}));var jt;(function(t){function e(n){const r=n;return l.objectLiteral(n)&&Vn.is(r.kind)&&l.string(r.value)}t.is=e})(jt||(jt={}));var pi;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(pi||(pi={}));var yi;(function(t){t.PlainText=1,t.Snippet=2})(yi||(yi={}));var vi;(function(t){t.Deprecated=1})(vi||(vi={}));var Ri;(function(t){function e(r,i,o){return{newText:r,insert:i,replace:o}}t.create=e;function n(r){const i=r;return i&&l.string(i.newText)&&Z.is(i.insert)&&Z.is(i.replace)}t.is=n})(Ri||(Ri={}));var Di;(function(t){t.asIs=1,t.adjustIndentation=2})(Di||(Di={}));var Ti;(function(t){function e(n){const r=n;return r&&(l.string(r.detail)||r.detail===void 0)&&(l.string(r.description)||r.description===void 0)}t.is=e})(Ti||(Ti={}));var Pi;(function(t){function e(n){return{label:n}}t.create=e})(Pi||(Pi={}));var ki;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(ki||(ki={}));var fn;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){const i=r;return l.string(i)||l.objectLiteral(i)&&l.string(i.language)&&l.string(i.value)}t.is=n})(fn||(fn={}));var Si;(function(t){function e(n){let r=n;return!!r&&l.objectLiteral(r)&&(jt.is(r.contents)||fn.is(r.contents)||l.typedArray(r.contents,fn.is))&&(n.range===void 0||Z.is(n.range))}t.is=e})(Si||(Si={}));var Ci;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(Ci||(Ci={}));var qi;(function(t){function e(n,r,...i){let o={label:n};return l.defined(r)&&(o.documentation=r),l.defined(i)?o.parameters=i:o.parameters=[],o}t.create=e})(qi||(qi={}));var Mi;(function(t){t.Text=1,t.Read=2,t.Write=3})(Mi||(Mi={}));var Oi;(function(t){function e(n,r){let i={range:n};return l.number(r)&&(i.kind=r),i}t.create=e})(Oi||(Oi={}));var Ei;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(Ei||(Ei={}));var Ni;(function(t){t.Deprecated=1})(Ni||(Ni={}));var ji;(function(t){function e(n,r,i,o,c){let d={name:n,kind:r,location:{uri:o,range:i}};return c&&(d.containerName=c),d}t.create=e})(ji||(ji={}));var Fi;(function(t){function e(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}t.create=e})(Fi||(Fi={}));var Ii;(function(t){function e(r,i,o,c,d,f){let _={name:r,detail:i,kind:o,range:c,selectionRange:d};return f!==void 0&&(_.children=f),_}t.create=e;function n(r){let i=r;return i&&l.string(i.name)&&l.number(i.kind)&&Z.is(i.range)&&Z.is(i.selectionRange)&&(i.detail===void 0||l.string(i.detail))&&(i.deprecated===void 0||l.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n})(Ii||(Ii={}));var Ai;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Ai||(Ai={}));var gn;(function(t){t.Invoked=1,t.Automatic=2})(gn||(gn={}));var Li;(function(t){function e(r,i,o){let c={diagnostics:r};return i!=null&&(c.only=i),o!=null&&(c.triggerKind=o),c}t.create=e;function n(r){let i=r;return l.defined(i)&&l.typedArray(i.diagnostics,un.is)&&(i.only===void 0||l.typedArray(i.only,l.string))&&(i.triggerKind===void 0||i.triggerKind===gn.Invoked||i.triggerKind===gn.Automatic)}t.is=n})(Li||(Li={}));var Wi;(function(t){function e(r,i,o){let c={title:r},d=!0;return typeof i=="string"?(d=!1,c.kind=i):yt.is(i)?c.command=i:c.edit=i,d&&o!==void 0&&(c.kind=o),c}t.create=e;function n(r){let i=r;return i&&l.string(i.title)&&(i.diagnostics===void 0||l.typedArray(i.diagnostics,un.is))&&(i.kind===void 0||l.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||yt.is(i.command))&&(i.isPreferred===void 0||l.boolean(i.isPreferred))&&(i.edit===void 0||zn.is(i.edit))}t.is=n})(Wi||(Wi={}));var $i;(function(t){function e(r,i){let o={range:r};return l.defined(i)&&(o.data=i),o}t.create=e;function n(r){let i=r;return l.defined(i)&&Z.is(i.range)&&(l.undefined(i.command)||yt.is(i.command))}t.is=n})($i||($i={}));var Hi;(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.uinteger(i.tabSize)&&l.boolean(i.insertSpaces)}t.is=n})(Hi||(Hi={}));var xi;(function(t){function e(r,i,o){return{range:r,target:i,data:o}}t.create=e;function n(r){let i=r;return l.defined(i)&&Z.is(i.range)&&(l.undefined(i.target)||l.string(i.target))}t.is=n})(xi||(xi={}));var zi;(function(t){function e(r,i){return{range:r,parent:i}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&Z.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n})(zi||(zi={}));var Bi;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(Bi||(Bi={}));var Vi;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Vi||(Vi={}));var Ui;(function(t){function e(n){const r=n;return l.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Ui||(Ui={}));var Ji;(function(t){function e(r,i){return{range:r,text:i}}t.create=e;function n(r){const i=r;return i!=null&&Z.is(i.range)&&l.string(i.text)}t.is=n})(Ji||(Ji={}));var Xi;(function(t){function e(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}t.create=e;function n(r){const i=r;return i!=null&&Z.is(i.range)&&l.boolean(i.caseSensitiveLookup)&&(l.string(i.variableName)||i.variableName===void 0)}t.is=n})(Xi||(Xi={}));var Qi;(function(t){function e(r,i){return{range:r,expression:i}}t.create=e;function n(r){const i=r;return i!=null&&Z.is(i.range)&&(l.string(i.expression)||i.expression===void 0)}t.is=n})(Qi||(Qi={}));var Yi;(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}t.create=e;function n(r){const i=r;return l.defined(i)&&Z.is(r.stoppedLocation)}t.is=n})(Yi||(Yi={}));var Un;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})(Un||(Un={}));var Jn;(function(t){function e(r){return{value:r}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&(i.tooltip===void 0||l.string(i.tooltip)||jt.is(i.tooltip))&&(i.location===void 0||an.is(i.location))&&(i.command===void 0||yt.is(i.command))}t.is=n})(Jn||(Jn={}));var Ki;(function(t){function e(r,i,o){const c={position:r,label:i};return o!==void 0&&(c.kind=o),c}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&ke.is(i.position)&&(l.string(i.label)||l.typedArray(i.label,Jn.is))&&(i.kind===void 0||Un.is(i.kind))&&i.textEdits===void 0||l.typedArray(i.textEdits,We.is)&&(i.tooltip===void 0||l.string(i.tooltip)||jt.is(i.tooltip))&&(i.paddingLeft===void 0||l.boolean(i.paddingLeft))&&(i.paddingRight===void 0||l.boolean(i.paddingRight))}t.is=n})(Ki||(Ki={}));var Gi;(function(t){function e(n){return{kind:"snippet",value:n}}t.createSnippet=e})(Gi||(Gi={}));var Zi;(function(t){function e(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}t.create=e})(Zi||(Zi={}));var eo;(function(t){function e(n){return{items:n}}t.create=e})(eo||(eo={}));var to;(function(t){t.Invoked=0,t.Automatic=1})(to||(to={}));var no;(function(t){function e(n,r){return{range:n,text:r}}t.create=e})(no||(no={}));var ro;(function(t){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}t.create=e})(ro||(ro={}));var io;(function(t){function e(n){const r=n;return l.objectLiteral(r)&&$n.is(r.uri)&&l.string(r.name)}t.is=e})(io||(io={}));const Xa=[`
`,`\r
`,"\r"];var oo;(function(t){function e(o,c,d,f){return new Qa(o,c,d,f)}t.create=e;function n(o){let c=o;return!!(l.defined(c)&&l.string(c.uri)&&(l.undefined(c.languageId)||l.string(c.languageId))&&l.uinteger(c.lineCount)&&l.func(c.getText)&&l.func(c.positionAt)&&l.func(c.offsetAt))}t.is=n;function r(o,c){let d=o.getText(),f=i(c,(w,P)=>{let v=w.range.start.line-P.range.start.line;return v===0?w.range.start.character-P.range.start.character:v}),_=d.length;for(let w=f.length-1;w>=0;w--){let P=f[w],v=o.offsetAt(P.range.start),M=o.offsetAt(P.range.end);if(M<=_)d=d.substring(0,v)+P.newText+d.substring(M,d.length);else throw new Error("Overlapping edit");_=v}return d}t.applyEdits=r;function i(o,c){if(o.length<=1)return o;const d=o.length/2|0,f=o.slice(0,d),_=o.slice(d);i(f,c),i(_,c);let w=0,P=0,v=0;for(;w<f.length&&P<_.length;)c(f[w],_[P])<=0?o[v++]=f[w++]:o[v++]=_[P++];for(;w<f.length;)o[v++]=f[w++];for(;P<_.length;)o[v++]=_[P++];return o}})(oo||(oo={}));class Qa{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(e.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return ke.create(0,e);for(;r<i;){let c=Math.floor((r+i)/2);n[c]>e?i=c:r=c+1}let o=r-1;return ke.create(o,e-n[o])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var l;(function(t){const e=Object.prototype.toString;function n(M){return typeof M<"u"}t.defined=n;function r(M){return typeof M>"u"}t.undefined=r;function i(M){return M===!0||M===!1}t.boolean=i;function o(M){return e.call(M)==="[object String]"}t.string=o;function c(M){return e.call(M)==="[object Number]"}t.number=c;function d(M,W,be){return e.call(M)==="[object Number]"&&W<=M&&M<=be}t.numberRange=d;function f(M){return e.call(M)==="[object Number]"&&-2147483648<=M&&M<=2147483647}t.integer=f;function _(M){return e.call(M)==="[object Number]"&&0<=M&&M<=2147483647}t.uinteger=_;function w(M){return e.call(M)==="[object Function]"}t.func=w;function P(M){return M!==null&&typeof M=="object"}t.objectLiteral=P;function v(M,W){return Array.isArray(M)&&M.every(W)}t.typedArray=v})(l||(l={}));var Ya=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return Qe},get ChangeAnnotation(){return vt},get ChangeAnnotationIdentifier(){return he},get CodeAction(){return Wi},get CodeActionContext(){return Li},get CodeActionKind(){return Ai},get CodeActionTriggerKind(){return gn},get CodeDescription(){return bi},get CodeLens(){return $i},get Color(){return Hn},get ColorInformation(){return ui},get ColorPresentation(){return di},get Command(){return yt},get CompletionItem(){return Pi},get CompletionItemKind(){return pi},get CompletionItemLabelDetails(){return Ti},get CompletionItemTag(){return vi},get CompletionList(){return ki},get CreateFile(){return Ot},get DeleteFile(){return Nt},get Diagnostic(){return un},get DiagnosticRelatedInformation(){return xn},get DiagnosticSeverity(){return gi},get DiagnosticTag(){return _i},get DocumentHighlight(){return Oi},get DocumentHighlightKind(){return Mi},get DocumentLink(){return xi},get DocumentSymbol(){return Ii},get DocumentUri(){return si},EOL:Xa,get FoldingRange(){return fi},get FoldingRangeKind(){return li},get FormattingOptions(){return Hi},get Hover(){return Si},get InlayHint(){return Ki},get InlayHintKind(){return Un},get InlayHintLabelPart(){return Jn},get InlineCompletionContext(){return ro},get InlineCompletionItem(){return Zi},get InlineCompletionList(){return eo},get InlineCompletionTriggerKind(){return to},get InlineValueContext(){return Yi},get InlineValueEvaluatableExpression(){return Qi},get InlineValueText(){return Ji},get InlineValueVariableLookup(){return Xi},get InsertReplaceEdit(){return Ri},get InsertTextFormat(){return yi},get InsertTextMode(){return Di},get Location(){return an},get LocationLink(){return ai},get MarkedString(){return fn},get MarkupContent(){return jt},get MarkupKind(){return Vn},get OptionalVersionedTextDocumentIdentifier(){return ln},get ParameterInformation(){return Ci},get Position(){return ke},get Range(){return Z},get RenameFile(){return Et},get SelectedCompletionInfo(){return no},get SelectionRange(){return zi},get SemanticTokenModifiers(){return Vi},get SemanticTokenTypes(){return Bi},get SemanticTokens(){return Ui},get SignatureInformation(){return qi},get StringValue(){return Gi},get SymbolInformation(){return ji},get SymbolKind(){return Ei},get SymbolTag(){return Ni},get TextDocument(){return oo},get TextDocumentEdit(){return dn},get TextDocumentIdentifier(){return hi},get TextDocumentItem(){return wi},get TextEdit(){return We},get URI(){return $n},get VersionedTextDocumentIdentifier(){return mi},WorkspaceChange:Ja,get WorkspaceEdit(){return zn},get WorkspaceFolder(){return io},get WorkspaceSymbol(){return Fi},get integer(){return ci},get uinteger(){return cn}}),so=Jc(Ya),H={};Object.defineProperty(H,"__esModule",{value:!0}),H.ProtocolNotificationType=H.ProtocolNotificationType0=H.ProtocolRequestType=H.ProtocolRequestType0=H.RegistrationType=H.MessageDirection=void 0;const Ft=wt;var Jo;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Jo||(H.MessageDirection=Jo={}));class Ka{constructor(e){this.method=e}}H.RegistrationType=Ka;class Ga extends Ft.RequestType0{constructor(e){super(e)}}H.ProtocolRequestType0=Ga;class Za extends Ft.RequestType{constructor(e){super(e,Ft.ParameterStructures.byName)}}H.ProtocolRequestType=Za;class eu extends Ft.NotificationType0{constructor(e){super(e)}}H.ProtocolNotificationType0=eu;class tu extends Ft.NotificationType{constructor(e){super(e,Ft.ParameterStructures.byName)}}H.ProtocolNotificationType=tu;var Xo={},ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.objectLiteral=ee.typedArray=ee.stringArray=ee.array=ee.func=ee.error=ee.number=ee.string=ee.boolean=void 0;function nu(t){return t===!0||t===!1}ee.boolean=nu;function Qo(t){return typeof t=="string"||t instanceof String}ee.string=Qo;function ru(t){return typeof t=="number"||t instanceof Number}ee.number=ru;function iu(t){return t instanceof Error}ee.error=iu;function ou(t){return typeof t=="function"}ee.func=ou;function Yo(t){return Array.isArray(t)}ee.array=Yo;function su(t){return Yo(t)&&t.every(e=>Qo(e))}ee.stringArray=su;function cu(t,e){return Array.isArray(t)&&t.every(e)}ee.typedArray=cu;function au(t){return t!==null&&typeof t=="object"}ee.objectLiteral=au;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.ImplementationRequest=void 0;const Ko=H;var Go;(function(t){t.method="textDocument/implementation",t.messageDirection=Ko.MessageDirection.clientToServer,t.type=new Ko.ProtocolRequestType(t.method)})(Go||(Xn.ImplementationRequest=Go={}));var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.TypeDefinitionRequest=void 0;const Zo=H;var es;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Zo.MessageDirection.clientToServer,t.type=new Zo.ProtocolRequestType(t.method)})(es||(Qn.TypeDefinitionRequest=es={}));var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.DidChangeWorkspaceFoldersNotification=It.WorkspaceFoldersRequest=void 0;const Yn=H;var ts;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Yn.MessageDirection.serverToClient,t.type=new Yn.ProtocolRequestType0(t.method)})(ts||(It.WorkspaceFoldersRequest=ts={}));var ns;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Yn.MessageDirection.clientToServer,t.type=new Yn.ProtocolNotificationType(t.method)})(ns||(It.DidChangeWorkspaceFoldersNotification=ns={}));var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.ConfigurationRequest=void 0;const rs=H;var is;(function(t){t.method="workspace/configuration",t.messageDirection=rs.MessageDirection.serverToClient,t.type=new rs.ProtocolRequestType(t.method)})(is||(Kn.ConfigurationRequest=is={}));var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.ColorPresentationRequest=At.DocumentColorRequest=void 0;const Gn=H;var os;(function(t){t.method="textDocument/documentColor",t.messageDirection=Gn.MessageDirection.clientToServer,t.type=new Gn.ProtocolRequestType(t.method)})(os||(At.DocumentColorRequest=os={}));var ss;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Gn.MessageDirection.clientToServer,t.type=new Gn.ProtocolRequestType(t.method)})(ss||(At.ColorPresentationRequest=ss={}));var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.FoldingRangeRefreshRequest=Lt.FoldingRangeRequest=void 0;const Zn=H;var cs;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Zn.MessageDirection.clientToServer,t.type=new Zn.ProtocolRequestType(t.method)})(cs||(Lt.FoldingRangeRequest=cs={}));var as;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Zn.MessageDirection.serverToClient,t.type=new Zn.ProtocolRequestType0(t.method)})(as||(Lt.FoldingRangeRefreshRequest=as={}));var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.DeclarationRequest=void 0;const us=H;var ds;(function(t){t.method="textDocument/declaration",t.messageDirection=us.MessageDirection.clientToServer,t.type=new us.ProtocolRequestType(t.method)})(ds||(er.DeclarationRequest=ds={}));var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.SelectionRangeRequest=void 0;const ls=H;var fs;(function(t){t.method="textDocument/selectionRange",t.messageDirection=ls.MessageDirection.clientToServer,t.type=new ls.ProtocolRequestType(t.method)})(fs||(tr.SelectionRangeRequest=fs={}));var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.WorkDoneProgressCancelNotification=rt.WorkDoneProgressCreateRequest=rt.WorkDoneProgress=void 0;const uu=wt,nr=H;var gs;(function(t){t.type=new uu.ProgressType;function e(n){return n===t.type}t.is=e})(gs||(rt.WorkDoneProgress=gs={}));var _s;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=nr.MessageDirection.serverToClient,t.type=new nr.ProtocolRequestType(t.method)})(_s||(rt.WorkDoneProgressCreateRequest=_s={}));var bs;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=nr.MessageDirection.clientToServer,t.type=new nr.ProtocolNotificationType(t.method)})(bs||(rt.WorkDoneProgressCancelNotification=bs={}));var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.CallHierarchyOutgoingCallsRequest=it.CallHierarchyIncomingCallsRequest=it.CallHierarchyPrepareRequest=void 0;const Wt=H;var hs;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Wt.MessageDirection.clientToServer,t.type=new Wt.ProtocolRequestType(t.method)})(hs||(it.CallHierarchyPrepareRequest=hs={}));var ms;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Wt.MessageDirection.clientToServer,t.type=new Wt.ProtocolRequestType(t.method)})(ms||(it.CallHierarchyIncomingCallsRequest=ms={}));var ws;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Wt.MessageDirection.clientToServer,t.type=new Wt.ProtocolRequestType(t.method)})(ws||(it.CallHierarchyOutgoingCallsRequest=ws={}));var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.SemanticTokensRefreshRequest=Te.SemanticTokensRangeRequest=Te.SemanticTokensDeltaRequest=Te.SemanticTokensRequest=Te.SemanticTokensRegistrationType=Te.TokenFormat=void 0;const Ye=H;var ps;(function(t){t.Relative="relative"})(ps||(Te.TokenFormat=ps={}));var _n;(function(t){t.method="textDocument/semanticTokens",t.type=new Ye.RegistrationType(t.method)})(_n||(Te.SemanticTokensRegistrationType=_n={}));var ys;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolRequestType(t.method),t.registrationMethod=_n.method})(ys||(Te.SemanticTokensRequest=ys={}));var vs;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolRequestType(t.method),t.registrationMethod=_n.method})(vs||(Te.SemanticTokensDeltaRequest=vs={}));var Rs;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolRequestType(t.method),t.registrationMethod=_n.method})(Rs||(Te.SemanticTokensRangeRequest=Rs={}));var Ds;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Ye.MessageDirection.serverToClient,t.type=new Ye.ProtocolRequestType0(t.method)})(Ds||(Te.SemanticTokensRefreshRequest=Ds={}));var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.ShowDocumentRequest=void 0;const Ts=H;var Ps;(function(t){t.method="window/showDocument",t.messageDirection=Ts.MessageDirection.serverToClient,t.type=new Ts.ProtocolRequestType(t.method)})(Ps||(rr.ShowDocumentRequest=Ps={}));var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.LinkedEditingRangeRequest=void 0;const ks=H;var Ss;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=ks.MessageDirection.clientToServer,t.type=new ks.ProtocolRequestType(t.method)})(Ss||(ir.LinkedEditingRangeRequest=Ss={}));var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.WillDeleteFilesRequest=ve.DidDeleteFilesNotification=ve.DidRenameFilesNotification=ve.WillRenameFilesRequest=ve.DidCreateFilesNotification=ve.WillCreateFilesRequest=ve.FileOperationPatternKind=void 0;const Se=H;var Cs;(function(t){t.file="file",t.folder="folder"})(Cs||(ve.FileOperationPatternKind=Cs={}));var qs;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolRequestType(t.method)})(qs||(ve.WillCreateFilesRequest=qs={}));var Ms;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolNotificationType(t.method)})(Ms||(ve.DidCreateFilesNotification=Ms={}));var Os;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolRequestType(t.method)})(Os||(ve.WillRenameFilesRequest=Os={}));var Es;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolNotificationType(t.method)})(Es||(ve.DidRenameFilesNotification=Es={}));var Ns;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolNotificationType(t.method)})(Ns||(ve.DidDeleteFilesNotification=Ns={}));var js;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolRequestType(t.method)})(js||(ve.WillDeleteFilesRequest=js={}));var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.MonikerRequest=ot.MonikerKind=ot.UniquenessLevel=void 0;const Fs=H;var Is;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Is||(ot.UniquenessLevel=Is={}));var As;(function(t){t.$import="import",t.$export="export",t.local="local"})(As||(ot.MonikerKind=As={}));var Ls;(function(t){t.method="textDocument/moniker",t.messageDirection=Fs.MessageDirection.clientToServer,t.type=new Fs.ProtocolRequestType(t.method)})(Ls||(ot.MonikerRequest=Ls={}));var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.TypeHierarchySubtypesRequest=st.TypeHierarchySupertypesRequest=st.TypeHierarchyPrepareRequest=void 0;const $t=H;var Ws;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=$t.MessageDirection.clientToServer,t.type=new $t.ProtocolRequestType(t.method)})(Ws||(st.TypeHierarchyPrepareRequest=Ws={}));var $s;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=$t.MessageDirection.clientToServer,t.type=new $t.ProtocolRequestType(t.method)})($s||(st.TypeHierarchySupertypesRequest=$s={}));var Hs;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=$t.MessageDirection.clientToServer,t.type=new $t.ProtocolRequestType(t.method)})(Hs||(st.TypeHierarchySubtypesRequest=Hs={}));var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.InlineValueRefreshRequest=Ht.InlineValueRequest=void 0;const or=H;var xs;(function(t){t.method="textDocument/inlineValue",t.messageDirection=or.MessageDirection.clientToServer,t.type=new or.ProtocolRequestType(t.method)})(xs||(Ht.InlineValueRequest=xs={}));var zs;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=or.MessageDirection.serverToClient,t.type=new or.ProtocolRequestType0(t.method)})(zs||(Ht.InlineValueRefreshRequest=zs={}));var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.InlayHintRefreshRequest=ct.InlayHintResolveRequest=ct.InlayHintRequest=void 0;const xt=H;var Bs;(function(t){t.method="textDocument/inlayHint",t.messageDirection=xt.MessageDirection.clientToServer,t.type=new xt.ProtocolRequestType(t.method)})(Bs||(ct.InlayHintRequest=Bs={}));var Vs;(function(t){t.method="inlayHint/resolve",t.messageDirection=xt.MessageDirection.clientToServer,t.type=new xt.ProtocolRequestType(t.method)})(Vs||(ct.InlayHintResolveRequest=Vs={}));var Us;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=xt.MessageDirection.serverToClient,t.type=new xt.ProtocolRequestType0(t.method)})(Us||(ct.InlayHintRefreshRequest=Us={}));var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.DiagnosticRefreshRequest=Ce.WorkspaceDiagnosticRequest=Ce.DocumentDiagnosticRequest=Ce.DocumentDiagnosticReportKind=Ce.DiagnosticServerCancellationData=void 0;const Js=wt,du=ee,zt=H;var Xs;(function(t){function e(n){const r=n;return r&&du.boolean(r.retriggerRequest)}t.is=e})(Xs||(Ce.DiagnosticServerCancellationData=Xs={}));var Qs;(function(t){t.Full="full",t.Unchanged="unchanged"})(Qs||(Ce.DocumentDiagnosticReportKind=Qs={}));var Ys;(function(t){t.method="textDocument/diagnostic",t.messageDirection=zt.MessageDirection.clientToServer,t.type=new zt.ProtocolRequestType(t.method),t.partialResult=new Js.ProgressType})(Ys||(Ce.DocumentDiagnosticRequest=Ys={}));var Ks;(function(t){t.method="workspace/diagnostic",t.messageDirection=zt.MessageDirection.clientToServer,t.type=new zt.ProtocolRequestType(t.method),t.partialResult=new Js.ProgressType})(Ks||(Ce.WorkspaceDiagnosticRequest=Ks={}));var Gs;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=zt.MessageDirection.serverToClient,t.type=new zt.ProtocolRequestType0(t.method)})(Gs||(Ce.DiagnosticRefreshRequest=Gs={}));var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.DidCloseNotebookDocumentNotification=te.DidSaveNotebookDocumentNotification=te.DidChangeNotebookDocumentNotification=te.NotebookCellArrayChange=te.DidOpenNotebookDocumentNotification=te.NotebookDocumentSyncRegistrationType=te.NotebookDocument=te.NotebookCell=te.ExecutionSummary=te.NotebookCellKind=void 0;const bn=so,Ne=ee,$e=H;var co;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(co||(te.NotebookCellKind=co={}));var ao;(function(t){function e(i,o){const c={executionOrder:i};return(o===!0||o===!1)&&(c.success=o),c}t.create=e;function n(i){const o=i;return Ne.objectLiteral(o)&&bn.uinteger.is(o.executionOrder)&&(o.success===void 0||Ne.boolean(o.success))}t.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=r})(ao||(te.ExecutionSummary=ao={}));var sr;(function(t){function e(o,c){return{kind:o,document:c}}t.create=e;function n(o){const c=o;return Ne.objectLiteral(c)&&co.is(c.kind)&&bn.DocumentUri.is(c.document)&&(c.metadata===void 0||Ne.objectLiteral(c.metadata))}t.is=n;function r(o,c){const d=new Set;return o.document!==c.document&&d.add("document"),o.kind!==c.kind&&d.add("kind"),o.executionSummary!==c.executionSummary&&d.add("executionSummary"),(o.metadata!==void 0||c.metadata!==void 0)&&!i(o.metadata,c.metadata)&&d.add("metadata"),(o.executionSummary!==void 0||c.executionSummary!==void 0)&&!ao.equals(o.executionSummary,c.executionSummary)&&d.add("executionSummary"),d}t.diff=r;function i(o,c){if(o===c)return!0;if(o==null||c===null||c===void 0||typeof o!=typeof c||typeof o!="object")return!1;const d=Array.isArray(o),f=Array.isArray(c);if(d!==f)return!1;if(d&&f){if(o.length!==c.length)return!1;for(let _=0;_<o.length;_++)if(!i(o[_],c[_]))return!1}if(Ne.objectLiteral(o)&&Ne.objectLiteral(c)){const _=Object.keys(o),w=Object.keys(c);if(_.length!==w.length||(_.sort(),w.sort(),!i(_,w)))return!1;for(let P=0;P<_.length;P++){const v=_[P];if(!i(o[v],c[v]))return!1}}return!0}})(sr||(te.NotebookCell=sr={}));var Zs;(function(t){function e(r,i,o,c){return{uri:r,notebookType:i,version:o,cells:c}}t.create=e;function n(r){const i=r;return Ne.objectLiteral(i)&&Ne.string(i.uri)&&bn.integer.is(i.version)&&Ne.typedArray(i.cells,sr.is)}t.is=n})(Zs||(te.NotebookDocument=Zs={}));var Bt;(function(t){t.method="notebookDocument/sync",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.RegistrationType(t.method)})(Bt||(te.NotebookDocumentSyncRegistrationType=Bt={}));var ec;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Bt.method})(ec||(te.DidOpenNotebookDocumentNotification=ec={}));var tc;(function(t){function e(r){const i=r;return Ne.objectLiteral(i)&&bn.uinteger.is(i.start)&&bn.uinteger.is(i.deleteCount)&&(i.cells===void 0||Ne.typedArray(i.cells,sr.is))}t.is=e;function n(r,i,o){const c={start:r,deleteCount:i};return o!==void 0&&(c.cells=o),c}t.create=n})(tc||(te.NotebookCellArrayChange=tc={}));var nc;(function(t){t.method="notebookDocument/didChange",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Bt.method})(nc||(te.DidChangeNotebookDocumentNotification=nc={}));var rc;(function(t){t.method="notebookDocument/didSave",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Bt.method})(rc||(te.DidSaveNotebookDocumentNotification=rc={}));var ic;(function(t){t.method="notebookDocument/didClose",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Bt.method})(ic||(te.DidCloseNotebookDocumentNotification=ic={}));var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.InlineCompletionRequest=void 0;const oc=H;var sc;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=oc.MessageDirection.clientToServer,t.type=new oc.ProtocolRequestType(t.method)})(sc||(cr.InlineCompletionRequest=sc={})),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=void 0;const e=H,n=so,r=ee,i=Xn;Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=Qn;Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const c=It;Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const d=Kn;Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return d.ConfigurationRequest}});const f=At;Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return f.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return f.ColorPresentationRequest}});const _=Lt;Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return _.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return _.FoldingRangeRefreshRequest}});const w=er;Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return w.DeclarationRequest}});const P=tr;Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return P.SelectionRangeRequest}});const v=rt;Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return v.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return v.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return v.WorkDoneProgressCancelNotification}});const M=it;Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return M.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return M.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return M.CallHierarchyPrepareRequest}});const W=Te;Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return W.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return W.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return W.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return W.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return W.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return W.SemanticTokensRegistrationType}});const be=rr;Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return be.ShowDocumentRequest}});const me=ir;Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return me.LinkedEditingRangeRequest}});const $=ve;Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return $.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return $.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return $.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return $.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return $.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return $.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return $.WillDeleteFilesRequest}});const b=ot;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return b.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return b.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return b.MonikerRequest}});const h=st;Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return h.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return h.TypeHierarchySupertypesRequest}});const T=Ht;Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return T.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return T.InlineValueRefreshRequest}});const ge=ct;Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return ge.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return ge.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return ge.InlayHintRefreshRequest}});const se=Ce;Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return se.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return se.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return se.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return se.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return se.DiagnosticRefreshRequest}});const we=te;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return we.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return we.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return we.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return we.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return we.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return we.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidCloseNotebookDocumentNotification}});const Jt=cr;Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return Jt.InlineCompletionRequest}});var lt;(function(a){function ce(ae){const E=ae;return r.string(E)||r.string(E.language)||r.string(E.scheme)||r.string(E.pattern)}a.is=ce})(lt||(t.TextDocumentFilter=lt={}));var Xt;(function(a){function ce(ae){const E=ae;return r.objectLiteral(E)&&(r.string(E.notebookType)||r.string(E.scheme)||r.string(E.pattern))}a.is=ce})(Xt||(t.NotebookDocumentFilter=Xt={}));var Re;(function(a){function ce(ae){const E=ae;return r.objectLiteral(E)&&(r.string(E.notebook)||Xt.is(E.notebook))&&(E.language===void 0||r.string(E.language))}a.is=ce})(Re||(t.NotebookCellTextDocumentFilter=Re={}));var wn;(function(a){function ce(ae){if(!Array.isArray(ae))return!1;for(let E of ae)if(!r.string(E)&&!lt.is(E)&&!Re.is(E))return!1;return!0}a.is=ce})(wn||(t.DocumentSelector=wn={}));var y;(function(a){a.method="client/registerCapability",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType(a.method)})(y||(t.RegistrationRequest=y={}));var I;(function(a){a.method="client/unregisterCapability",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType(a.method)})(I||(t.UnregistrationRequest=I={}));var A;(function(a){a.Create="create",a.Rename="rename",a.Delete="delete"})(A||(t.ResourceOperationKind=A={}));var O;(function(a){a.Abort="abort",a.Transactional="transactional",a.TextOnlyTransactional="textOnlyTransactional",a.Undo="undo"})(O||(t.FailureHandlingKind=O={}));var K;(function(a){a.UTF8="utf-8",a.UTF16="utf-16",a.UTF32="utf-32"})(K||(t.PositionEncodingKind=K={}));var Tr;(function(a){function ce(ae){const E=ae;return E&&r.string(E.id)&&E.id.length>0}a.hasId=ce})(Tr||(t.StaticRegistrationOptions=Tr={}));var Pr;(function(a){function ce(ae){const E=ae;return E&&(E.documentSelector===null||wn.is(E.documentSelector))}a.is=ce})(Pr||(t.TextDocumentRegistrationOptions=Pr={}));var kr;(function(a){function ce(E){const u=E;return r.objectLiteral(u)&&(u.workDoneProgress===void 0||r.boolean(u.workDoneProgress))}a.is=ce;function ae(E){const u=E;return u&&r.boolean(u.workDoneProgress)}a.hasWorkDoneProgress=ae})(kr||(t.WorkDoneProgressOptions=kr={}));var ft;(function(a){a.method="initialize",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(ft||(t.InitializeRequest=ft={}));var gt;(function(a){a.unknownProtocolVersion=1})(gt||(t.InitializeErrorCodes=gt={}));var Tt;(function(a){a.method="initialized",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Tt||(t.InitializedNotification=Tt={}));var _t;(function(a){a.method="shutdown",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType0(a.method)})(_t||(t.ShutdownRequest=_t={}));var Pt;(function(a){a.method="exit",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType0(a.method)})(Pt||(t.ExitNotification=Pt={}));var kt;(function(a){a.method="workspace/didChangeConfiguration",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(kt||(t.DidChangeConfigurationNotification=kt={}));var Qt;(function(a){a.Error=1,a.Warning=2,a.Info=3,a.Log=4,a.Debug=5})(Qt||(t.MessageType=Qt={}));var He;(function(a){a.method="window/showMessage",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(He||(t.ShowMessageNotification=He={}));var xe;(function(a){a.method="window/showMessageRequest",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType(a.method)})(xe||(t.ShowMessageRequest=xe={}));var St;(function(a){a.method="window/logMessage",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(St||(t.LogMessageNotification=St={}));var Oe;(function(a){a.method="telemetry/event",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(Oe||(t.TelemetryEventNotification=Oe={}));var U;(function(a){a.None=0,a.Full=1,a.Incremental=2})(U||(t.TextDocumentSyncKind=U={}));var ze;(function(a){a.method="textDocument/didOpen",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(ze||(t.DidOpenTextDocumentNotification=ze={}));var ne;(function(a){function ce(E){let u=E;return u!=null&&typeof u.text=="string"&&u.range!==void 0&&(u.rangeLength===void 0||typeof u.rangeLength=="number")}a.isIncremental=ce;function ae(E){let u=E;return u!=null&&typeof u.text=="string"&&u.range===void 0&&u.rangeLength===void 0}a.isFull=ae})(ne||(t.TextDocumentContentChangeEvent=ne={}));var je;(function(a){a.method="textDocument/didChange",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(je||(t.DidChangeTextDocumentNotification=je={}));var Yt;(function(a){a.method="textDocument/didClose",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Yt||(t.DidCloseTextDocumentNotification=Yt={}));var pn;(function(a){a.method="textDocument/didSave",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(pn||(t.DidSaveTextDocumentNotification=pn={}));var yn;(function(a){a.Manual=1,a.AfterDelay=2,a.FocusOut=3})(yn||(t.TextDocumentSaveReason=yn={}));var vn;(function(a){a.method="textDocument/willSave",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(vn||(t.WillSaveTextDocumentNotification=vn={}));var Rn;(function(a){a.method="textDocument/willSaveWaitUntil",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Rn||(t.WillSaveTextDocumentWaitUntilRequest=Rn={}));var Fe;(function(a){a.method="workspace/didChangeWatchedFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Fe||(t.DidChangeWatchedFilesNotification=Fe={}));var Dn;(function(a){a.Created=1,a.Changed=2,a.Deleted=3})(Dn||(t.FileChangeType=Dn={}));var Sr;(function(a){function ce(ae){const E=ae;return r.objectLiteral(E)&&(n.URI.is(E.baseUri)||n.WorkspaceFolder.is(E.baseUri))&&r.string(E.pattern)}a.is=ce})(Sr||(t.RelativePattern=Sr={}));var Cr;(function(a){a.Create=1,a.Change=2,a.Delete=4})(Cr||(t.WatchKind=Cr={}));var qr;(function(a){a.method="textDocument/publishDiagnostics",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(qr||(t.PublishDiagnosticsNotification=qr={}));var Mr;(function(a){a.Invoked=1,a.TriggerCharacter=2,a.TriggerForIncompleteCompletions=3})(Mr||(t.CompletionTriggerKind=Mr={}));var Tn;(function(a){a.method="textDocument/completion",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Tn||(t.CompletionRequest=Tn={}));var Pn;(function(a){a.method="completionItem/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Pn||(t.CompletionResolveRequest=Pn={}));var Ke;(function(a){a.method="textDocument/hover",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ke||(t.HoverRequest=Ke={}));var kn;(function(a){a.Invoked=1,a.TriggerCharacter=2,a.ContentChange=3})(kn||(t.SignatureHelpTriggerKind=kn={}));var Or;(function(a){a.method="textDocument/signatureHelp",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Or||(t.SignatureHelpRequest=Or={}));var Er;(function(a){a.method="textDocument/definition",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Er||(t.DefinitionRequest=Er={}));var Sn;(function(a){a.method="textDocument/references",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Sn||(t.ReferencesRequest=Sn={}));var Cn;(function(a){a.method="textDocument/documentHighlight",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Cn||(t.DocumentHighlightRequest=Cn={}));var Nr;(function(a){a.method="textDocument/documentSymbol",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Nr||(t.DocumentSymbolRequest=Nr={}));var jr;(function(a){a.method="textDocument/codeAction",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(jr||(t.CodeActionRequest=jr={}));var Fr;(function(a){a.method="codeAction/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Fr||(t.CodeActionResolveRequest=Fr={}));var Ir;(function(a){a.method="workspace/symbol",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ir||(t.WorkspaceSymbolRequest=Ir={}));var Ar;(function(a){a.method="workspaceSymbol/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ar||(t.WorkspaceSymbolResolveRequest=Ar={}));var Lr;(function(a){a.method="textDocument/codeLens",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Lr||(t.CodeLensRequest=Lr={}));var Ie;(function(a){a.method="codeLens/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ie||(t.CodeLensResolveRequest=Ie={}));var Wr;(function(a){a.method="workspace/codeLens/refresh",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType0(a.method)})(Wr||(t.CodeLensRefreshRequest=Wr={}));var $r;(function(a){a.method="textDocument/documentLink",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})($r||(t.DocumentLinkRequest=$r={}));var Ct;(function(a){a.method="documentLink/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ct||(t.DocumentLinkResolveRequest=Ct={}));var Hr;(function(a){a.method="textDocument/formatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Hr||(t.DocumentFormattingRequest=Hr={}));var Kt;(function(a){a.method="textDocument/rangeFormatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Kt||(t.DocumentRangeFormattingRequest=Kt={}));var xr;(function(a){a.method="textDocument/rangesFormatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(xr||(t.DocumentRangesFormattingRequest=xr={}));var Ge;(function(a){a.method="textDocument/onTypeFormatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ge||(t.DocumentOnTypeFormattingRequest=Ge={}));var bt;(function(a){a.Identifier=1})(bt||(t.PrepareSupportDefaultBehavior=bt={}));var zr;(function(a){a.method="textDocument/rename",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(zr||(t.RenameRequest=zr={}));var Br;(function(a){a.method="textDocument/prepareRename",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Br||(t.PrepareRenameRequest=Br={}));var ht;(function(a){a.method="workspace/executeCommand",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(ht||(t.ExecuteCommandRequest=ht={}));var qn;(function(a){a.method="workspace/applyEdit",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType("workspace/applyEdit")})(qn||(t.ApplyWorkspaceEditRequest=qn={}))}(Xo);var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.createProtocolConnection=void 0;const cc=wt;function lu(t,e,n,r){return cc.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,cc.createMessageConnection)(t,e,n,r)}ar.createProtocolConnection=lu,function(t){var e=de&&de.__createBinding||(Object.create?function(o,c,d,f){f===void 0&&(f=d);var _=Object.getOwnPropertyDescriptor(c,d);(!_||("get"in _?!c.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(o,f,_)}:function(o,c,d,f){f===void 0&&(f=d),o[f]=c[d]}),n=de&&de.__exportStar||function(o,c){for(var d in o)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,o,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,n(wt,t),n(so,t),n(H,t),n(Xo,t);var r=ar;Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(t.LSPErrorCodes=i={}))}(Vo),function(t){var e=de&&de.__createBinding||(Object.create?function(o,c,d,f){f===void 0&&(f=d);var _=Object.getOwnPropertyDescriptor(c,d);(!_||("get"in _?!c.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(o,f,_)}:function(o,c,d,f){f===void 0&&(f=d),o[f]=c[d]}),n=de&&de.__exportStar||function(o,c){for(var d in o)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,o,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=Bo;n(Bo,t),n(Vo,t);function i(o,c,d,f){return(0,r.createMessageConnection)(o,c,d,f)}t.createProtocolConnection=i}(ie),Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.SemanticTokensBuilder=Ue.SemanticTokensDiff=Ue.SemanticTokensFeature=void 0;const ur=ie,fu=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(ur.SemanticTokensRefreshRequest.type),on:e=>{const n=ur.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{const n=ur.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{const n=ur.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ue.SemanticTokensFeature=fu;class ac{constructor(e,n){this.originalSequence=e,this.modifiedSequence=n}computeDiff(){const e=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<e&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<e){let i=e-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);const c=i-r+1,d=this.modifiedSequence.slice(r,o+1);return d.length===1&&d[0]===this.originalSequence[i]?[{start:r,deleteCount:c-1}]:[{start:r,deleteCount:c,data:d}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<e?[{start:r,deleteCount:e-r}]:[]}}Ue.SemanticTokensDiff=ac;class gu{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,o){let c=e,d=n;this._dataLen>0&&(c-=this._prevLine,c===0&&(d-=this._prevChar)),this._data[this._dataLen++]=c,this._data[this._dataLen++]=d,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new ac(this._prevData,this._data).computeDiff()}:this.build()}}Ue.SemanticTokensBuilder=gu;var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.InlineCompletionFeature=void 0;const _u=ie,bu=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(_u.InlineCompletionRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};dr.InlineCompletionFeature=bu;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.TextDocuments=void 0;const Rt=ie;class hu{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new Rt.Emitter,this._onDidOpen=new Rt.Emitter,this._onDidClose=new Rt.Emitter,this._onDidSave=new Rt.Emitter,this._onWillSave=new Rt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=Rt.TextDocumentSyncKind.Incremental;const n=[];return n.push(e.onDidOpenTextDocument(r=>{const i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);const c=Object.freeze({document:o});this._onDidOpen.fire(c),this._onDidChangeContent.fire(c)})),n.push(e.onDidChangeTextDocument(r=>{const i=r.textDocument,o=r.contentChanges;if(o.length===0)return;const{version:c}=i;if(c==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let d=this._syncedDocuments.get(i.uri);d!==void 0&&(d=this._configuration.update(d,o,c),this._syncedDocuments.set(i.uri,d),this._onDidChangeContent.fire(Object.freeze({document:d})))})),n.push(e.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(e.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(e.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(e.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Rt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}hn.TextDocuments=hu;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.NotebookDocuments=Dt.NotebookSyncFeature=void 0;const qe=ie,uc=hn,mu=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(qe.DidOpenNotebookDocumentNotification.type,n=>{e(n)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(qe.DidChangeNotebookDocumentNotification.type,n=>{e(n)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(qe.DidSaveNotebookDocumentNotification.type,n=>{e(n)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(qe.DidCloseNotebookDocumentNotification.type,n=>{e(n)})}}};Dt.NotebookSyncFeature=mu;class Vt{onDidOpenTextDocument(e){return this.openHandler=e,qe.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,qe.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,qe.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return Vt.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return Vt.NULL_DISPOSE}onDidSaveTextDocument(){return Vt.NULL_DISPOSE}}Vt.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class wu{constructor(e){e instanceof uc.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new uc.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new qe.Emitter,this._onDidChange=new qe.Emitter,this._onDidSave=new qe.Emitter,this._onDidClose=new qe.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){const n=this.notebookCellMap.get(e);return n&&n[0]}findNotebookDocumentForCell(e){const n=typeof e=="string"?e:e.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){const n=new Vt,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;const c=o.metadata;let d=!1;const f=i.change;f.metadata!==void 0&&(d=!0,o.metadata=f.metadata);const _=[],w=[],P=[],v=[];if(f.cells!==void 0){const $=f.cells;if($.structure!==void 0){const b=$.structure.array;if(o.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),$.structure.didOpen!==void 0)for(const h of $.structure.didOpen)n.openTextDocument({textDocument:h}),_.push(h.uri);if($.structure.didClose)for(const h of $.structure.didClose)n.closeTextDocument({textDocument:h}),w.push(h.uri)}if($.data!==void 0){const b=new Map($.data.map(h=>[h.document,h]));for(let h=0;h<=o.cells.length;h++){const T=b.get(o.cells[h].document);if(T!==void 0){const ge=o.cells.splice(h,1,T);if(P.push({old:ge[0],new:T}),b.delete(T.document),b.size===0)break}}}if($.textContent!==void 0)for(const b of $.textContent)n.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),v.push(b.document.uri)}this.updateCellMap(o);const M={notebookDocument:o};d&&(M.metadata={old:c,new:o.metadata});const W=[];for(const $ of _)W.push(this.getNotebookCell($));const be=[];for(const $ of w)be.push(this.getNotebookCell($));const me=[];for(const $ of v)me.push(this.getNotebookCell($));(W.length>0||be.length>0||P.length>0||me.length>0)&&(M.cells={added:W,removed:be,changed:{data:P,textContent:me}}),(M.metadata!==void 0||M.cells!==void 0)&&this._onDidChange.fire(M)})),r.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(const c of i.cellTextDocuments)n.closeTextDocument({textDocument:c});this.notebookDocuments.delete(i.notebookDocument.uri);for(const c of o.cells)this.notebookCellMap.delete(c.document)}})),qe.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(e){for(const n of e.cells)this.notebookCellMap.set(n.document,[n,e])}}Dt.NotebookDocuments=wu;var z={},oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.thenable=oe.typedArray=oe.stringArray=oe.array=oe.func=oe.error=oe.number=oe.string=oe.boolean=void 0;function pu(t){return t===!0||t===!1}oe.boolean=pu;function dc(t){return typeof t=="string"||t instanceof String}oe.string=dc;function yu(t){return typeof t=="number"||t instanceof Number}oe.number=yu;function vu(t){return t instanceof Error}oe.error=vu;function lc(t){return typeof t=="function"}oe.func=lc;function fc(t){return Array.isArray(t)}oe.array=fc;function Ru(t){return fc(t)&&t.every(e=>dc(e))}oe.stringArray=Ru;function Du(t,e){return Array.isArray(t)&&t.every(e)}oe.typedArray=Du;function Tu(t){return t&&lc(t.then)}oe.thenable=Tu;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.generateUuid=Pe.parse=Pe.isUUID=Pe.v4=Pe.empty=void 0;class uo{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class L extends uo{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return L._oneOf(L._chars)}constructor(){super([L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),"-",L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),"-","4",L._randomHex(),L._randomHex(),L._randomHex(),"-",L._oneOf(L._timeHighBits),L._randomHex(),L._randomHex(),L._randomHex(),"-",L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex(),L._randomHex()].join(""))}}L._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],L._timeHighBits=["8","9","a","b"],Pe.empty=new uo("00000000-0000-0000-0000-000000000000");function gc(){return new L}Pe.v4=gc;const Pu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function _c(t){return Pu.test(t)}Pe.isUUID=_c;function ku(t){if(!_c(t))throw new Error("invalid uuid");return new uo(t)}Pe.parse=ku;function Su(){return gc().asHex()}Pe.generateUuid=Su;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.attachPartialResult=at.ProgressFeature=at.attachWorkDone=void 0;const ut=ie,Cu=Pe;class dt{constructor(e,n){this._connection=e,this._token=n,dt.Instances.set(this._token,this)}begin(e,n,r,i){let o={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ut.WorkDoneProgress.type,this._token,o)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(ut.WorkDoneProgress.type,this._token,r)}done(){dt.Instances.delete(this._token),this._connection.sendProgress(ut.WorkDoneProgress.type,this._token,{kind:"end"})}}dt.Instances=new Map;class bc extends dt{constructor(e,n){super(e,n),this._source=new ut.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class lo{constructor(){}begin(){}report(){}done(){}}class hc extends lo{constructor(){super(),this._source=new ut.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function qu(t,e){if(e===void 0||e.workDoneToken===void 0)return new lo;const n=e.workDoneToken;return delete e.workDoneToken,new dt(t,n)}at.attachWorkDone=qu;const Mu=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(ut.WorkDoneProgressCancelNotification.type,n=>{let r=dt.Instances.get(n.token);(r instanceof bc||r instanceof hc)&&r.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new lo:new dt(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=(0,Cu.generateUuid)();return this.connection.sendRequest(ut.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new bc(this.connection,e))}else return Promise.resolve(new hc)}};at.ProgressFeature=Mu;var fo;(function(t){t.type=new ut.ProgressType})(fo||(fo={}));class Ou{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(fo.type,this._token,e)}}function Eu(t,e){if(e===void 0||e.partialResultToken===void 0)return;const n=e.partialResultToken;return delete e.partialResultToken,new Ou(t,n)}at.attachPartialResult=Eu;var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.ConfigurationFeature=void 0;const Nu=ie,ju=oe,Fu=t=>class extends t{getConfiguration(e){return e?ju.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Nu.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(e)?r:r[0]:Array.isArray(e)?[]:null)}};lr.ConfigurationFeature=Fu;var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.WorkspaceFoldersFeature=void 0;const gr=ie,Iu=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new gr.Emitter,this.connection.onNotification(gr.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);const n=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(gr.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(gr.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};fr.WorkspaceFoldersFeature=Iu;var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.CallHierarchyFeature=void 0;const go=ie,Au=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(go.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:e=>{const n=go.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{const n=go.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};_r.CallHierarchyFeature=Au;var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.ShowDocumentFeature=void 0;const Lu=ie,Wu=t=>class extends t{showDocument(e){return this.connection.sendRequest(Lu.ShowDocumentRequest.type,e)}};br.ShowDocumentFeature=Wu;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.FileOperationsFeature=void 0;const Ut=ie,$u=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Ut.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){return this.connection.onNotification(Ut.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){return this.connection.onNotification(Ut.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Ut.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Ut.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Ut.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};hr.FileOperationsFeature=$u;var mr={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.LinkedEditingRangeFeature=void 0;const Hu=ie,xu=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(Hu.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};mr.LinkedEditingRangeFeature=xu;var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.TypeHierarchyFeature=void 0;const _o=ie,zu=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(_o.TypeHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:e=>{const n=_o.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:e=>{const n=_o.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};wr.TypeHierarchyFeature=zu;var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.InlineValueFeature=void 0;const mc=ie,Bu=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(mc.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(mc.InlineValueRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};pr.InlineValueFeature=Bu;var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.FoldingRangeFeature=void 0;const wc=ie,Vu=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(wc.FoldingRangeRefreshRequest.type),on:e=>{const n=wc.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};yr.FoldingRangeFeature=Vu;var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.InlayHintFeature=void 0;const bo=ie,Uu=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(bo.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(bo.InlayHintRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),resolve:e=>this.connection.onRequest(bo.InlayHintResolveRequest.type,(n,r)=>e(n,r))}}};vr.InlayHintFeature=Uu;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.DiagnosticFeature=void 0;const mn=ie,Ju=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(mn.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(mn.DocumentDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(mn.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:e=>this.connection.onRequest(mn.WorkspaceDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(mn.WorkspaceDiagnosticRequest.partialResult,n)))}}};Rr.DiagnosticFeature=Ju;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.MonikerFeature=void 0;const Xu=ie,Qu=t=>class extends t{get moniker(){return{on:e=>{const n=Xu.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Dr.MonikerFeature=Qu,Object.defineProperty(z,"__esModule",{value:!0}),z.createConnection=z.combineFeatures=z.combineNotebooksFeatures=z.combineLanguagesFeatures=z.combineWorkspaceFeatures=z.combineWindowFeatures=z.combineClientFeatures=z.combineTracerFeatures=z.combineTelemetryFeatures=z.combineConsoleFeatures=z._NotebooksImpl=z._LanguagesImpl=z.BulkUnregistration=z.BulkRegistration=z.ErrorMessageTracker=void 0;const D=ie,Me=oe,ho=Pe,N=at,Yu=lr,Ku=fr,Gu=_r,Zu=Ue,ed=br,td=hr,nd=mr,rd=wr,id=pr,od=yr,sd=vr,cd=Rr,ad=Dt,ud=Dr;function mo(t){if(t!==null)return t}class dd{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}}z.ErrorMessageTracker=dd;class pc{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(D.MessageType.Error,e)}warn(e){this.send(D.MessageType.Warning,e)}info(e){this.send(D.MessageType.Info,e)}log(e){this.send(D.MessageType.Log,e)}debug(e){this.send(D.MessageType.Debug,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(D.LogMessageNotification.type,{type:e,message:n}).catch(()=>{(0,D.RAL)().console.error("Sending log message failed")})}}class ld{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:D.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(mo)}showWarningMessage(e,...n){let r={type:D.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(mo)}showInformationMessage(e,...n){let r={type:D.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(mo)}}const yc=(0,ed.ShowDocumentFeature)((0,N.ProgressFeature)(ld));var vc;(function(t){function e(){return new Rc}t.create=e})(vc||(z.BulkRegistration=vc={}));class Rc{constructor(){this._registrations=[],this._registered=new Set}add(e,n){const r=Me.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const i=ho.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var Dc;(function(t){function e(){return new wo(void 0,[])}t.create=e})(Dc||(z.BulkUnregistration=Dc={}));class wo{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(D.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const n=Me.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(D.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}}class Tc{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Rc?this.registerMany(e):e instanceof wo?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){const i=Me.string(n)?n:n.method,o=ho.generateUuid();let c={registrations:[{id:o,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(D.RegistrationRequest.type,c).then(d=>(e.add({id:o,method:i}),e),d=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(d)))}registerSingle2(e,n){const r=Me.string(e)?e:e.method,i=ho.generateUuid();let o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(D.RegistrationRequest.type,o).then(c=>D.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),c=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(c)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(D.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(D.RegistrationRequest.type,n).then(()=>new wo(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class fd{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(D.ApplyWorkspaceEditRequest.type,r)}}const Pc=(0,td.FileOperationsFeature)((0,Ku.WorkspaceFoldersFeature)((0,Yu.ConfigurationFeature)(fd)));class kc{constructor(){this._trace=D.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==D.Trace.Off&&this.connection.sendNotification(D.LogTraceNotification.type,{message:e,verbose:this._trace===D.Trace.Verbose?n:void 0}).catch(()=>{})}}class Sc{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(D.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class Cc{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,N.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,N.attachPartialResult)(this.connection,n)}}z._LanguagesImpl=Cc;const qc=(0,od.FoldingRangeFeature)((0,ud.MonikerFeature)((0,cd.DiagnosticFeature)((0,sd.InlayHintFeature)((0,id.InlineValueFeature)((0,rd.TypeHierarchyFeature)((0,nd.LinkedEditingRangeFeature)((0,Zu.SemanticTokensFeature)((0,Gu.CallHierarchyFeature)(Cc)))))))));class Mc{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,N.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,N.attachPartialResult)(this.connection,n)}}z._NotebooksImpl=Mc;const Oc=(0,ad.NotebookSyncFeature)(Mc);function Ec(t,e){return function(n){return e(t(n))}}z.combineConsoleFeatures=Ec;function Nc(t,e){return function(n){return e(t(n))}}z.combineTelemetryFeatures=Nc;function jc(t,e){return function(n){return e(t(n))}}z.combineTracerFeatures=jc;function Fc(t,e){return function(n){return e(t(n))}}z.combineClientFeatures=Fc;function Ic(t,e){return function(n){return e(t(n))}}z.combineWindowFeatures=Ic;function Ac(t,e){return function(n){return e(t(n))}}z.combineWorkspaceFeatures=Ac;function Lc(t,e){return function(n){return e(t(n))}}z.combineLanguagesFeatures=Lc;function Wc(t,e){return function(n){return e(t(n))}}z.combineNotebooksFeatures=Wc;function gd(t,e){function n(i,o,c){return i&&o?c(i,o):i||o}return{__brand:"features",console:n(t.console,e.console,Ec),tracer:n(t.tracer,e.tracer,jc),telemetry:n(t.telemetry,e.telemetry,Nc),client:n(t.client,e.client,Fc),window:n(t.window,e.window,Ic),workspace:n(t.workspace,e.workspace,Ac),languages:n(t.languages,e.languages,Lc),notebooks:n(t.notebooks,e.notebooks,Wc)}}z.combineFeatures=gd;function _d(t,e,n){const r=n&&n.console?new(n.console(pc)):new pc,i=t(r);r.rawAttach(i);const o=n&&n.tracer?new(n.tracer(kc)):new kc,c=n&&n.telemetry?new(n.telemetry(Sc)):new Sc,d=n&&n.client?new(n.client(Tc)):new Tc,f=n&&n.window?new(n.window(yc)):new yc,_=n&&n.workspace?new(n.workspace(Pc)):new Pc,w=n&&n.languages?new(n.languages(qc)):new qc,P=n&&n.notebooks?new(n.notebooks(Oc)):new Oc,v=[r,o,c,d,f,_,w,P];function M(b){return b instanceof Promise?b:Me.thenable(b)?new Promise((h,T)=>{b.then(ge=>h(ge),ge=>T(ge))}):Promise.resolve(b)}let W,be,me,$={listen:()=>i.listen(),sendRequest:(b,...h)=>i.sendRequest(Me.string(b)?b:b.method,...h),onRequest:(b,h)=>i.onRequest(b,h),sendNotification:(b,h)=>{const T=Me.string(b)?b:b.method;return i.sendNotification(T,h)},onNotification:(b,h)=>i.onNotification(b,h),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:b=>(be=b,{dispose:()=>{be=void 0}}),onInitialized:b=>i.onNotification(D.InitializedNotification.type,b),onShutdown:b=>(W=b,{dispose:()=>{W=void 0}}),onExit:b=>(me=b,{dispose:()=>{me=void 0}}),get console(){return r},get telemetry(){return c},get tracer(){return o},get client(){return d},get window(){return f},get workspace(){return _},get languages(){return w},get notebooks(){return P},onDidChangeConfiguration:b=>i.onNotification(D.DidChangeConfigurationNotification.type,b),onDidChangeWatchedFiles:b=>i.onNotification(D.DidChangeWatchedFilesNotification.type,b),__textDocumentSync:void 0,onDidOpenTextDocument:b=>i.onNotification(D.DidOpenTextDocumentNotification.type,b),onDidChangeTextDocument:b=>i.onNotification(D.DidChangeTextDocumentNotification.type,b),onDidCloseTextDocument:b=>i.onNotification(D.DidCloseTextDocumentNotification.type,b),onWillSaveTextDocument:b=>i.onNotification(D.WillSaveTextDocumentNotification.type,b),onWillSaveTextDocumentWaitUntil:b=>i.onRequest(D.WillSaveTextDocumentWaitUntilRequest.type,b),onDidSaveTextDocument:b=>i.onNotification(D.DidSaveTextDocumentNotification.type,b),sendDiagnostics:b=>i.sendNotification(D.PublishDiagnosticsNotification.type,b),onHover:b=>i.onRequest(D.HoverRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onCompletion:b=>i.onRequest(D.CompletionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onCompletionResolve:b=>i.onRequest(D.CompletionResolveRequest.type,b),onSignatureHelp:b=>i.onRequest(D.SignatureHelpRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onDeclaration:b=>i.onRequest(D.DeclarationRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDefinition:b=>i.onRequest(D.DefinitionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onTypeDefinition:b=>i.onRequest(D.TypeDefinitionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onImplementation:b=>i.onRequest(D.ImplementationRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onReferences:b=>i.onRequest(D.ReferencesRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDocumentHighlight:b=>i.onRequest(D.DocumentHighlightRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDocumentSymbol:b=>i.onRequest(D.DocumentSymbolRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onWorkspaceSymbol:b=>i.onRequest(D.WorkspaceSymbolRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onWorkspaceSymbolResolve:b=>i.onRequest(D.WorkspaceSymbolResolveRequest.type,b),onCodeAction:b=>i.onRequest(D.CodeActionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onCodeActionResolve:b=>i.onRequest(D.CodeActionResolveRequest.type,(h,T)=>b(h,T)),onCodeLens:b=>i.onRequest(D.CodeLensRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onCodeLensResolve:b=>i.onRequest(D.CodeLensResolveRequest.type,(h,T)=>b(h,T)),onDocumentFormatting:b=>i.onRequest(D.DocumentFormattingRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onDocumentRangeFormatting:b=>i.onRequest(D.DocumentRangeFormattingRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onDocumentOnTypeFormatting:b=>i.onRequest(D.DocumentOnTypeFormattingRequest.type,(h,T)=>b(h,T)),onRenameRequest:b=>i.onRequest(D.RenameRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onPrepareRename:b=>i.onRequest(D.PrepareRenameRequest.type,(h,T)=>b(h,T)),onDocumentLinks:b=>i.onRequest(D.DocumentLinkRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDocumentLinkResolve:b=>i.onRequest(D.DocumentLinkResolveRequest.type,(h,T)=>b(h,T)),onDocumentColor:b=>i.onRequest(D.DocumentColorRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onColorPresentation:b=>i.onRequest(D.ColorPresentationRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onFoldingRanges:b=>i.onRequest(D.FoldingRangeRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onSelectionRanges:b=>i.onRequest(D.SelectionRangeRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onExecuteCommand:b=>i.onRequest(D.ExecuteCommandRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),dispose:()=>i.dispose()};for(let b of v)b.attach($);return i.onRequest(D.InitializeRequest.type,b=>{e.initialize(b),Me.string(b.trace)&&(o.trace=D.Trace.fromString(b.trace));for(let h of v)h.initialize(b.capabilities);if(be){let h=be(b,new D.CancellationTokenSource().token,(0,N.attachWorkDone)(i,b),void 0);return M(h).then(T=>{if(T instanceof D.ResponseError)return T;let ge=T;ge||(ge={capabilities:{}});let se=ge.capabilities;se||(se={},ge.capabilities=se),se.textDocumentSync===void 0||se.textDocumentSync===null?se.textDocumentSync=Me.number($.__textDocumentSync)?$.__textDocumentSync:D.TextDocumentSyncKind.None:!Me.number(se.textDocumentSync)&&!Me.number(se.textDocumentSync.change)&&(se.textDocumentSync.change=Me.number($.__textDocumentSync)?$.__textDocumentSync:D.TextDocumentSyncKind.None);for(let we of v)we.fillServerCapabilities(se);return ge})}else{let h={capabilities:{textDocumentSync:D.TextDocumentSyncKind.None}};for(let T of v)T.fillServerCapabilities(h.capabilities);return h}}),i.onRequest(D.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,W)return W(new D.CancellationTokenSource().token)}),i.onNotification(D.ExitNotification.type,()=>{try{me&&me()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(D.SetTraceNotification.type,b=>{o.trace=D.Trace.fromString(b.value)}),$}z.createConnection=_d,function(t){var e=de&&de.__createBinding||(Object.create?function(f,_,w,P){P===void 0&&(P=w);var v=Object.getOwnPropertyDescriptor(_,w);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(f,P,v)}:function(f,_,w,P){P===void 0&&(P=w),f[P]=_[w]}),n=de&&de.__exportStar||function(f,_){for(var w in f)w!=="default"&&!Object.prototype.hasOwnProperty.call(_,w)&&e(_,f,w)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.NotebookDocuments=t.TextDocuments=t.SemanticTokensBuilder=void 0;const r=Ue;Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=dr;n(ie,t);const o=hn;Object.defineProperty(t,"TextDocuments",{enumerable:!0,get:function(){return o.TextDocuments}});const c=Dt;Object.defineProperty(t,"NotebookDocuments",{enumerable:!0,get:function(){return c.NotebookDocuments}}),n(z,t);var d;(function(f){f.all={__brand:"features",languages:i.InlineCompletionFeature}})(d||(t.ProposedFeatures=d={}))}(Xr);var bd=ie;(function(t){var e=de&&de.__createBinding||(Object.create?function(d,f,_,w){w===void 0&&(w=_);var P=Object.getOwnPropertyDescriptor(f,_);(!P||("get"in P?!f.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return f[_]}}),Object.defineProperty(d,w,P)}:function(d,f,_,w){w===void 0&&(w=_),d[w]=f[_]}),n=de&&de.__exportStar||function(d,f){for(var _ in d)_!=="default"&&!Object.prototype.hasOwnProperty.call(f,_)&&e(f,d,_)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=void 0;const r=Xr;n(bd,t),n(Xr,t);let i=!1;const o={initialize:d=>{},get shutdownReceived(){return i},set shutdownReceived(d){i=d},exit:d=>{}};function c(d,f,_,w){let P,v,M,W;d!==void 0&&d.__brand==="features"&&(P=d,d=f,f=_,_=w),r.ConnectionStrategy.is(d)||r.ConnectionOptions.is(d)?W=d:(v=d,M=f,W=_);const be=me=>(0,r.createProtocolConnection)(v,M,me,W);return(0,r.createConnection)(be,o,P)}t.createConnection=c})(ko);var po=ko;Po().then(()=>{const t=new po.BrowserMessageReader(self),e=new po.BrowserMessageWriter(self);let n;const r=po.createConnection(t,e);function i(d,f){return r.sendNotification(d,f),!0}async function o(d,f){return await r.sendRequest(d,f)}async function c(d){return await r.sendRequest("slint/load_file",d)}r.onInitialize(d=>(n=xc(d,i,o,c),n.server_initialize_result(d.capabilities))),r.onRequest(async(d,f,_)=>await n.handle_request(_,d,f)),r.onNotification("slint/preview_to_lsp",async d=>{await n.process_preview_to_lsp_message(d)}),r.onDidChangeTextDocument(async d=>{await n.reload_document(d.contentChanges[d.contentChanges.length-1].text,d.textDocument.uri,d.textDocument.version)}),r.onDidOpenTextDocument(async d=>{await n.reload_document(d.textDocument.text,d.textDocument.uri,d.textDocument.version)}),r.onDidChangeConfiguration(async d=>{await n.reload_config()}),r.listen(),self.postMessage("OK")})})();
