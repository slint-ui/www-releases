(function(){"use strict";let D;function Q(e){const t=D.__externref_table_alloc();return D.__wbindgen_externrefs.set(t,e),t}const Hn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));function fr(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let o="[";i>0&&(o+=fr(e[0]));for(let s=1;s<i;s++)o+=", "+fr(e[s]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function xn(e,t){return e=e>>>0,ns().subarray(e/4,e/4+t)}function Pi(e,t){return e=e>>>0,Kt().subarray(e/1,e/1+t)}let pt=null;function j(){return(pt===null||pt.buffer.detached===!0||pt.buffer.detached===void 0&&pt.buffer!==D.memory.buffer)&&(pt=new DataView(D.memory.buffer)),pt}let Yt=null;function ns(){return(Yt===null||Yt.byteLength===0)&&(Yt=new Float32Array(D.memory.buffer)),Yt}function B(e,t){return e=e>>>0,is(e,t)}let Gt=null;function Kt(){return(Gt===null||Gt.byteLength===0)&&(Gt=new Uint8Array(D.memory.buffer)),Gt}function E(e,t){try{return e.apply(this,t)}catch(n){const r=Q(n);D.__wbindgen_exn_store(r)}}function H(e){return e==null}function xt(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...s)=>{i.cnt++;try{return r(i.a,i.b,...s)}finally{o._wbg_cb_unref()}};return o._wbg_cb_unref=()=>{--i.cnt===0&&(i.dtor(i.a,i.b),i.a=0,Hn.unregister(i))},Hn.register(o,i,i),o}function Le(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...s)=>{i.cnt++;const c=i.a;i.a=0;try{return r(c,i.b,...s)}finally{i.a=c,o._wbg_cb_unref()}};return o._wbg_cb_unref=()=>{--i.cnt===0&&(i.dtor(i.a,i.b),i.a=0,Hn.unregister(i))},Hn.register(o,i,i),o}function Z(e,t,n){if(n===void 0){const c=Zt.encode(e),a=t(c.length,1)>>>0;return Kt().subarray(a,a+c.length).set(c),K=c.length,a}let r=e.length,i=t(r,1)>>>0;const o=Kt();let s=0;for(;s<r;s++){const c=e.charCodeAt(s);if(c>127)break;o[i+s]=c}if(s!==r){s!==0&&(e=e.slice(s)),i=n(i,r,r=s+e.length*3,1)>>>0;const c=Kt().subarray(i+s,i+r),a=Zt.encodeInto(e,c);s+=a.written,i=n(i,r,s,1)>>>0}return K=s,i}function lt(e){const t=D.__wbindgen_externrefs.get(e);return D.__externref_table_dealloc(e),t}let $n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});$n.decode();const rs=2146435072;let lr=0;function is(e,t){return lr+=t,lr>=rs&&($n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),$n.decode(),lr=t),$n.decode(Kt().subarray(e,e+t))}const Zt=new TextEncoder;"encodeInto"in Zt||(Zt.encodeInto=function(e,t){const n=Zt.encode(e);return t.set(n),{read:e.length,written:n.length}});let K=0;function _t(e,t,n){D.wasm_bindgen__convert__closures_____invoke__h68a361f3a1a8e62d(e,t,n)}function Ti(e,t,n,r){D.wasm_bindgen__convert__closures_____invoke__h15ef6086b1cdeecc(e,t,n,r)}function ki(e,t){D.wasm_bindgen__convert__closures_____invoke__hb35be1da97fa883b(e,t)}function $t(e,t,n){D.wasm_bindgen__convert__closures_____invoke__h456da46c5764e6ea(e,t,n)}const os=["border-box","content-box","device-pixel-content-box"],ss=["hidden","visible"],Si=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>D.__wbg_previewconnector_free(e>>>0,1)),Ci=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>D.__wbg_slintserver_free(e>>>0,1));class en{static __wrap(t){t=t>>>0;const n=Object.create(en.prototype);return n.__wbg_ptr=t,Si.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Si.unregister(this),t}free(){const t=this.__destroy_into_raw();D.__wbg_previewconnector_free(t,0)}current_style(){return D.previewconnector_current_style(this.__wbg_ptr)}process_lsp_to_preview_message(t){const n=D.previewconnector_process_lsp_to_preview_message(this.__wbg_ptr,t);if(n[1])throw lt(n[0])}static create(t,n,r,i,o){const s=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),c=K,a=D.previewconnector_create(t,n,s,c,i,o);if(a[2])throw lt(a[1]);return lt(a[0])}show_ui(){const t=D.previewconnector_show_ui(this.__wbg_ptr);if(t[2])throw lt(t[1]);return lt(t[0])}}Symbol.dispose&&(en.prototype[Symbol.dispose]=en.prototype.free);class tn{static __wrap(t){t=t>>>0;const n=Object.create(tn.prototype);return n.__wbg_ptr=t,Ci.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ci.unregister(this),t}free(){const t=this.__destroy_into_raw();D.__wbg_slintserver_free(t,0)}startup_lsp(){return D.slintserver_startup_lsp(this.__wbg_ptr)}open_document(t,n,r){const i=Z(t,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;return D.slintserver_open_document(this.__wbg_ptr,i,o,n,r)}reload_config(){return D.slintserver_reload_config(this.__wbg_ptr)}close_document(t){return D.slintserver_close_document(this.__wbg_ptr,t)}handle_request(t,n,r){const i=Z(n,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;return D.slintserver_handle_request(this.__wbg_ptr,t,i,o,r)}reload_document(t,n,r){const i=Z(t,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;return D.slintserver_reload_document(this.__wbg_ptr,i,o,n,r)}trigger_file_watcher(t,n){return D.slintserver_trigger_file_watcher(this.__wbg_ptr,t,n)}server_initialize_result(t){const n=D.slintserver_server_initialize_result(this.__wbg_ptr,t);if(n[2])throw lt(n[1]);return lt(n[0])}process_preview_to_lsp_message(t){return D.slintserver_process_preview_to_lsp_message(this.__wbg_ptr,t)}}Symbol.dispose&&(tn.prototype[Symbol.dispose]=tn.prototype.free);function cs(e,t,n,r){const i=D.create(e,t,n,r);if(i[2])throw lt(i[1]);return tn.__wrap(i[0])}const as=new Set(["basic","cors","default"]);async function us(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.ok&&as.has(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function ds(){const e={};return e.wbg={},e.wbg.__wbg_Error_52673b7de5a0ca89=function(t,n){return Error(B(t,n))},e.wbg.__wbg_Number_2d1dcfcf4ec51736=function(t){return Number(t)},e.wbg.__wbg_String_8f0eb39a4a4c2f66=function(t,n){const r=String(n),i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_Window_d1bf622f71ff0629=function(t){return t.Window},e.wbg.__wbg___wbindgen_bigint_get_as_i64_6e32f5e6aff02e1d=function(t,n){const r=n,i=typeof r=="bigint"?r:void 0;j().setBigInt64(t+8,H(i)?BigInt(0):i,!0),j().setInt32(t+0,!H(i),!0)},e.wbg.__wbg___wbindgen_boolean_get_dea25b33882b895b=function(t){const n=t,r=typeof n=="boolean"?n:void 0;return H(r)?16777215:r?1:0},e.wbg.__wbg___wbindgen_debug_string_adfb662ae34724b6=function(t,n){const r=fr(n),i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg___wbindgen_in_0d3e1e8f0c669317=function(t,n){return t in n},e.wbg.__wbg___wbindgen_is_bigint_0e1a2e3f55cfae27=function(t){return typeof t=="bigint"},e.wbg.__wbg___wbindgen_is_function_8d400b8b1af978cd=function(t){return typeof t=="function"},e.wbg.__wbg___wbindgen_is_object_ce774f3490692386=function(t){const n=t;return typeof n=="object"&&n!==null},e.wbg.__wbg___wbindgen_is_string_704ef9c8fc131030=function(t){return typeof t=="string"},e.wbg.__wbg___wbindgen_is_undefined_f6b95eab589e0269=function(t){return t===void 0},e.wbg.__wbg___wbindgen_jsval_eq_b6101cc9cef1fe36=function(t,n){return t===n},e.wbg.__wbg___wbindgen_jsval_loose_eq_766057600fdd1b0d=function(t,n){return t==n},e.wbg.__wbg___wbindgen_number_get_9619185a74197f95=function(t,n){const r=n,i=typeof r=="number"?r:void 0;j().setFloat64(t+8,H(i)?0:i,!0),j().setInt32(t+0,!H(i),!0)},e.wbg.__wbg___wbindgen_rethrow_78714972834ecdf1=function(t){throw t},e.wbg.__wbg___wbindgen_string_get_a2a31e16edf96e42=function(t,n){const r=n,i=typeof r=="string"?r:void 0;var o=H(i)?0:Z(i,D.__wbindgen_malloc,D.__wbindgen_realloc),s=K;j().setInt32(t+4,s,!0),j().setInt32(t+0,o,!0)},e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(t,n){throw new Error(B(t,n))},e.wbg.__wbg__wbg_cb_unref_87dfb5aaa0cbcea7=function(t){t._wbg_cb_unref()},e.wbg.__wbg_abort_07646c894ebbf2bd=function(t){t.abort()},e.wbg.__wbg_activeElement_b3e6b135325e4d5f=function(t){const n=t.activeElement;return H(n)?0:Q(n)},e.wbg.__wbg_activeTexture_1db0722f00c3f843=function(t,n){t.activeTexture(n>>>0)},e.wbg.__wbg_activeTexture_59810c16ea8d6e34=function(t,n){t.activeTexture(n>>>0)},e.wbg.__wbg_addEventListener_6a82629b3d430a48=function(){return E(function(t,n,r,i){t.addEventListener(B(n,r),i)},arguments)},e.wbg.__wbg_addListener_32ac5b9ed9d2a521=function(){return E(function(t,n){t.addListener(n)},arguments)},e.wbg.__wbg_altKey_56d1d642f3a28c92=function(t){return t.altKey},e.wbg.__wbg_altKey_e13fae92dfebca3e=function(t){return t.altKey},e.wbg.__wbg_animate_6ec571f163cf6f8d=function(t,n,r){return t.animate(n,r)},e.wbg.__wbg_appendChild_7465eba84213c75f=function(){return E(function(t,n){return t.appendChild(n)},arguments)},e.wbg.__wbg_attachShader_bc2b53790fd12d3a=function(t,n,r){t.attachShader(n,r)},e.wbg.__wbg_attachShader_ce575704294db9cc=function(t,n,r){t.attachShader(n,r)},e.wbg.__wbg_before_229ad066c953b297=function(){return E(function(t,n){t.before(n)},arguments)},e.wbg.__wbg_bindAttribLocation_2bf0ba75dbebbc07=function(t,n,r,i,o){t.bindAttribLocation(n,r>>>0,B(i,o))},e.wbg.__wbg_bindAttribLocation_4e8be7470dd8dd5a=function(t,n,r,i,o){t.bindAttribLocation(n,r>>>0,B(i,o))},e.wbg.__wbg_bindBuffer_110b128c65a97376=function(t,n,r){t.bindBuffer(n>>>0,r)},e.wbg.__wbg_bindBuffer_c24c31cbec41cb21=function(t,n,r){t.bindBuffer(n>>>0,r)},e.wbg.__wbg_bindFramebuffer_302dbc9f62d8321e=function(t,n,r){t.bindFramebuffer(n>>>0,r)},e.wbg.__wbg_bindFramebuffer_33b64eb9f536d2b2=function(t,n,r){t.bindFramebuffer(n>>>0,r)},e.wbg.__wbg_bindRenderbuffer_032b12b73a396d8c=function(t,n,r){t.bindRenderbuffer(n>>>0,r)},e.wbg.__wbg_bindRenderbuffer_43c98d43540f75ae=function(t,n,r){t.bindRenderbuffer(n>>>0,r)},e.wbg.__wbg_bindTexture_4537240b278f1d53=function(t,n,r){t.bindTexture(n>>>0,r)},e.wbg.__wbg_bindTexture_6ed714c0afe8b8d1=function(t,n,r){t.bindTexture(n>>>0,r)},e.wbg.__wbg_bindVertexArrayOES_fdb7e747e386f55a=function(t,n){t.bindVertexArrayOES(n)},e.wbg.__wbg_bindVertexArray_ced27387a0718508=function(t,n){t.bindVertexArray(n)},e.wbg.__wbg_blendFuncSeparate_4cca29476893cc61=function(t,n,r,i,o){t.blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_blendFuncSeparate_e5a1bacf4a0700cd=function(t,n,r,i,o){t.blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_blockSize_6456aaf09f0ab287=function(t){return t.blockSize},e.wbg.__wbg_body_544738f8b03aef13=function(t){const n=t.body;return H(n)?0:Q(n)},e.wbg.__wbg_brand_9562792cbb4735c3=function(t,n){const r=n.brand,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_brands_a1e7a2bce052128f=function(t){return t.brands},e.wbg.__wbg_bufferData_69dbeea8e1d79f7b=function(t,n,r,i){t.bufferData(n>>>0,r,i>>>0)},e.wbg.__wbg_bufferData_ac5c7900b06f1517=function(t,n,r,i){t.bufferData(n>>>0,r,i>>>0)},e.wbg.__wbg_button_a54acd25bab5d442=function(t){return t.button},e.wbg.__wbg_buttons_a37ff9ffacadddb5=function(t){return t.buttons},e.wbg.__wbg_call_3020136f7a2d6e44=function(){return E(function(t,n,r){return t.call(n,r)},arguments)},e.wbg.__wbg_call_abb4ff46ce38be40=function(){return E(function(t,n){return t.call(n)},arguments)},e.wbg.__wbg_call_c8baa5c5e72d274e=function(){return E(function(t,n,r,i){return t.call(n,r,i)},arguments)},e.wbg.__wbg_cancelAnimationFrame_1c2a3faf7be5aedd=function(){return E(function(t,n){t.cancelAnimationFrame(n)},arguments)},e.wbg.__wbg_cancelIdleCallback_ee06eb3dcf335b86=function(t,n){t.cancelIdleCallback(n>>>0)},e.wbg.__wbg_cancel_09c394f0894744eb=function(t){t.cancel()},e.wbg.__wbg_catch_b9db41d97d42bd02=function(t,n){return t.catch(n)},e.wbg.__wbg_checkFramebufferStatus_2dbefa14c1025c31=function(t,n){return t.checkFramebufferStatus(n>>>0)},e.wbg.__wbg_checkFramebufferStatus_4935a1d7f055b1ee=function(t,n){return t.checkFramebufferStatus(n>>>0)},e.wbg.__wbg_clearColor_66e5dad6393f32ec=function(t,n,r,i,o){t.clearColor(n,r,i,o)},e.wbg.__wbg_clearColor_fe8de7e582b77e40=function(t,n,r,i,o){t.clearColor(n,r,i,o)},e.wbg.__wbg_clearTimeout_1ca823b279705d35=function(t,n){t.clearTimeout(n)},e.wbg.__wbg_clear_00ac71df5db8ab17=function(t,n){t.clear(n>>>0)},e.wbg.__wbg_clear_52caf9271911674b=function(t,n){t.clear(n>>>0)},e.wbg.__wbg_clientHeight_2554d64d9b2dfc4f=function(t){return t.clientHeight},e.wbg.__wbg_clientWidth_dbc9540f4ebdce2a=function(t){return t.clientWidth},e.wbg.__wbg_clipboardData_11e9a33a8f4d9552=function(t){const n=t.clipboardData;return H(n)?0:Q(n)},e.wbg.__wbg_close_8158530fc398ee2f=function(t){t.close()},e.wbg.__wbg_code_b3ddfa90f724c486=function(t,n){const r=n.code,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_colorMask_27d9f83dd2189ed6=function(t,n,r,i,o){t.colorMask(n!==0,r!==0,i!==0,o!==0)},e.wbg.__wbg_colorMask_f000b510fac0bd7c=function(t,n,r,i,o){t.colorMask(n!==0,r!==0,i!==0,o!==0)},e.wbg.__wbg_compileShader_ac0bf6f0837881c3=function(t,n){t.compileShader(n)},e.wbg.__wbg_compileShader_ba337110bed419e1=function(t,n){t.compileShader(n)},e.wbg.__wbg_contains_457d2fc195838bfa=function(t,n){return t.contains(n)},e.wbg.__wbg_contentRect_1806147dfdc380d8=function(t){return t.contentRect},e.wbg.__wbg_createBuffer_465b645a46535184=function(t){const n=t.createBuffer();return H(n)?0:Q(n)},e.wbg.__wbg_createBuffer_8601b8ec330ab49d=function(t){const n=t.createBuffer();return H(n)?0:Q(n)},e.wbg.__wbg_createElement_da4ed2b219560fc6=function(){return E(function(t,n,r){return t.createElement(B(n,r))},arguments)},e.wbg.__wbg_createFramebuffer_5d000a6cde602c77=function(t){const n=t.createFramebuffer();return H(n)?0:Q(n)},e.wbg.__wbg_createFramebuffer_934b44643ffd067a=function(t){const n=t.createFramebuffer();return H(n)?0:Q(n)},e.wbg.__wbg_createObjectURL_7d9f7f8f41373850=function(){return E(function(t,n){const r=URL.createObjectURL(n),i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},arguments)},e.wbg.__wbg_createProgram_023ba0fc6ff6efd6=function(t){const n=t.createProgram();return H(n)?0:Q(n)},e.wbg.__wbg_createProgram_ffe9d4a2cba210f4=function(t){const n=t.createProgram();return H(n)?0:Q(n)},e.wbg.__wbg_createRenderbuffer_6b6220d1a07652a9=function(t){const n=t.createRenderbuffer();return H(n)?0:Q(n)},e.wbg.__wbg_createRenderbuffer_f869ce6d85370a7a=function(t){const n=t.createRenderbuffer();return H(n)?0:Q(n)},e.wbg.__wbg_createShader_4626088b63c33727=function(t,n){const r=t.createShader(n>>>0);return H(r)?0:Q(r)},e.wbg.__wbg_createShader_f88f9b82748ef6c0=function(t,n){const r=t.createShader(n>>>0);return H(r)?0:Q(r)},e.wbg.__wbg_createTexture_41211a4e8ae0afec=function(t){const n=t.createTexture();return H(n)?0:Q(n)},e.wbg.__wbg_createTexture_4d5934eb9772b5fe=function(t){const n=t.createTexture();return H(n)?0:Q(n)},e.wbg.__wbg_createVertexArrayOES_7bcc20082143e8f2=function(t){const n=t.createVertexArrayOES();return H(n)?0:Q(n)},e.wbg.__wbg_createVertexArray_997b3c5b1091afd9=function(t){const n=t.createVertexArray();return H(n)?0:Q(n)},e.wbg.__wbg_ctrlKey_487597b9069da036=function(t){return t.ctrlKey},e.wbg.__wbg_ctrlKey_b391e5105c3f6e76=function(t){return t.ctrlKey},e.wbg.__wbg_cullFace_767c25333fcc7c8b=function(t,n){t.cullFace(n>>>0)},e.wbg.__wbg_cullFace_88f07a3436967138=function(t,n){t.cullFace(n>>>0)},e.wbg.__wbg_currentSrc_97f0abd26ee8e540=function(t,n){const r=n.currentSrc,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_data_0ce3dd82dc5c9488=function(t,n){const r=n.data;var i=H(r)?0:Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_data_ba1e638a3b5a1da7=function(t,n){const r=n.data;var i=H(r)?0:Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_dataset_a373d9737126793f=function(t){return t.dataset},e.wbg.__wbg_deleteBuffer_5ed1698208181e1f=function(t,n){t.deleteBuffer(n)},e.wbg.__wbg_deleteBuffer_ba7f1164cc23b2ca=function(t,n){t.deleteBuffer(n)},e.wbg.__wbg_deleteFramebuffer_71a99ec4adbfc3f2=function(t,n){t.deleteFramebuffer(n)},e.wbg.__wbg_deleteFramebuffer_d25c0dc61ce8eda7=function(t,n){t.deleteFramebuffer(n)},e.wbg.__wbg_deleteProgram_3bf297a31d0e6e48=function(t,n){t.deleteProgram(n)},e.wbg.__wbg_deleteProgram_62774baacb13ff2b=function(t,n){t.deleteProgram(n)},e.wbg.__wbg_deleteRenderbuffer_3e536cf09d672302=function(t,n){t.deleteRenderbuffer(n)},e.wbg.__wbg_deleteRenderbuffer_ada437284f7fb4f2=function(t,n){t.deleteRenderbuffer(n)},e.wbg.__wbg_deleteShader_c357bb8fbede8370=function(t,n){t.deleteShader(n)},e.wbg.__wbg_deleteShader_c686dd351de5a068=function(t,n){t.deleteShader(n)},e.wbg.__wbg_deleteTexture_2a9b703dc2df5657=function(t,n){t.deleteTexture(n)},e.wbg.__wbg_deleteTexture_875f8d84e74610a0=function(t,n){t.deleteTexture(n)},e.wbg.__wbg_deleteVertexArrayOES_c17582be9fb07775=function(t,n){t.deleteVertexArrayOES(n)},e.wbg.__wbg_deleteVertexArray_af80f68f0bea25b7=function(t,n){t.deleteVertexArray(n)},e.wbg.__wbg_deltaMode_d74ec093e23ffeec=function(t){return t.deltaMode},e.wbg.__wbg_deltaX_41f7678c94b10355=function(t){return t.deltaX},e.wbg.__wbg_deltaY_3f10fd796fae2a0f=function(t){return t.deltaY},e.wbg.__wbg_detachShader_678bb6c64268535d=function(t,n,r){t.detachShader(n,r)},e.wbg.__wbg_detachShader_6dca9ecdeb9bbcd3=function(t,n,r){t.detachShader(n,r)},e.wbg.__wbg_devicePixelContentBoxSize_4312b643ce19dcae=function(t){return t.devicePixelContentBoxSize},e.wbg.__wbg_devicePixelRatio_390dee26c70aa30f=function(t){return t.devicePixelRatio},e.wbg.__wbg_disableVertexAttribArray_4c5c7214724209d0=function(t,n){t.disableVertexAttribArray(n>>>0)},e.wbg.__wbg_disableVertexAttribArray_bcf2272b428ec9fc=function(t,n){t.disableVertexAttribArray(n>>>0)},e.wbg.__wbg_disable_3af3e194392b0a83=function(t,n){t.disable(n>>>0)},e.wbg.__wbg_disable_c05809e00765548d=function(t,n){t.disable(n>>>0)},e.wbg.__wbg_disconnect_0078fed2ab427a04=function(t){t.disconnect()},e.wbg.__wbg_disconnect_94d44092a36f9880=function(t){t.disconnect()},e.wbg.__wbg_document_5b745e82ba551ca5=function(t){const n=t.document;return H(n)?0:Q(n)},e.wbg.__wbg_done_62ea16af4ce34b24=function(t){return t.done},e.wbg.__wbg_drawArrays_a8ad03dae79ec56f=function(t,n,r,i){t.drawArrays(n>>>0,r,i)},e.wbg.__wbg_drawArrays_c106ebe0234971d4=function(t,n,r,i){t.drawArrays(n>>>0,r,i)},e.wbg.__wbg_enableVertexAttribArray_2898de871f949393=function(t,n){t.enableVertexAttribArray(n>>>0)},e.wbg.__wbg_enableVertexAttribArray_def9952d8426be95=function(t,n){t.enableVertexAttribArray(n>>>0)},e.wbg.__wbg_enable_2d8bb952637ad17a=function(t,n){t.enable(n>>>0)},e.wbg.__wbg_enable_52598759008d46ee=function(t,n){t.enable(n>>>0)},e.wbg.__wbg_entries_83c79938054e065f=function(t){return Object.entries(t)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,n){let r,i;try{r=t,i=n,console.error(B(t,n))}finally{D.__wbindgen_free(r,i,1)}},e.wbg.__wbg_error_d7f117185d9ffd19=function(t,n){console.error(t,n)},e.wbg.__wbg_exitFullscreen_14c765e2bd192c7b=function(t){t.exitFullscreen()},e.wbg.__wbg_fillText_56566d8049e84e17=function(){return E(function(t,n,r,i,o){t.fillText(B(n,r),i,o)},arguments)},e.wbg.__wbg_focus_220a53e22147dc0f=function(){return E(function(t){t.focus()},arguments)},e.wbg.__wbg_framebufferRenderbuffer_c4e0a3741080e47d=function(t,n,r,i,o){t.framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,o)},e.wbg.__wbg_framebufferRenderbuffer_d11b93c15d813b67=function(t,n,r,i,o){t.framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,o)},e.wbg.__wbg_framebufferTexture2D_1c59ad9667ea1ea1=function(t,n,r,i,o,s){t.framebufferTexture2D(n>>>0,r>>>0,i>>>0,o,s)},e.wbg.__wbg_framebufferTexture2D_489e539476d29f49=function(t,n,r,i,o,s){t.framebufferTexture2D(n>>>0,r>>>0,i>>>0,o,s)},e.wbg.__wbg_frontFace_9a8e14be7e21500f=function(t,n){t.frontFace(n>>>0)},e.wbg.__wbg_frontFace_b516366b32ef6f00=function(t,n){t.frontFace(n>>>0)},e.wbg.__wbg_fullscreenElement_e2e939644adf50e1=function(t){const n=t.fullscreenElement;return H(n)?0:Q(n)},e.wbg.__wbg_generateMipmap_85452cd8f350f404=function(t,n){t.generateMipmap(n>>>0)},e.wbg.__wbg_generateMipmap_bfd04ca851518e7c=function(t,n){t.generateMipmap(n>>>0)},e.wbg.__wbg_getBoundingClientRect_25e44a78507968b0=function(t){return t.getBoundingClientRect()},e.wbg.__wbg_getCoalescedEvents_21492912fd0145ec=function(t){return t.getCoalescedEvents},e.wbg.__wbg_getCoalescedEvents_43b8965761bb13ef=function(t){return t.getCoalescedEvents()},e.wbg.__wbg_getComputedStyle_bbcd5e3d08077b71=function(){return E(function(t,n){const r=t.getComputedStyle(n);return H(r)?0:Q(r)},arguments)},e.wbg.__wbg_getContext_01f42b234e833f0a=function(){return E(function(t,n,r){const i=t.getContext(B(n,r));return H(i)?0:Q(i)},arguments)},e.wbg.__wbg_getContext_40a6fc6da6cacc21=function(){return E(function(t,n,r,i){const o=t.getContext(B(n,r),i);return H(o)?0:Q(o)},arguments)},e.wbg.__wbg_getData_0c18014d58e42433=function(){return E(function(t,n,r,i){const o=n.getData(B(r,i)),s=Z(o,D.__wbindgen_malloc,D.__wbindgen_realloc),c=K;j().setInt32(t+4,c,!0),j().setInt32(t+0,s,!0)},arguments)},e.wbg.__wbg_getElementById_e05488d2143c2b21=function(t,n,r){const i=t.getElementById(B(n,r));return H(i)?0:Q(i)},e.wbg.__wbg_getError_1512d8f11d3dce17=function(t){return t.getError()},e.wbg.__wbg_getError_86b51f8a9c7debb3=function(t){return t.getError()},e.wbg.__wbg_getExtension_49a13df0dc150fab=function(){return E(function(t,n,r){const i=t.getExtension(B(n,r));return H(i)?0:Q(i)},arguments)},e.wbg.__wbg_getModifierState_44e56c7d69a223e8=function(t,n,r){return t.getModifierState(B(n,r))},e.wbg.__wbg_getOwnPropertyDescriptor_b6aa5a2fa50d52c7=function(t,n){return Object.getOwnPropertyDescriptor(t,n)},e.wbg.__wbg_getParameter_1dfd667c33169fab=function(){return E(function(t,n){return t.getParameter(n>>>0)},arguments)},e.wbg.__wbg_getProgramInfoLog_a0ff8b0971fcaf48=function(t,n,r){const i=n.getProgramInfoLog(r);var o=H(i)?0:Z(i,D.__wbindgen_malloc,D.__wbindgen_realloc),s=K;j().setInt32(t+4,s,!0),j().setInt32(t+0,o,!0)},e.wbg.__wbg_getProgramInfoLog_ea3064b153e4542a=function(t,n,r){const i=n.getProgramInfoLog(r);var o=H(i)?0:Z(i,D.__wbindgen_malloc,D.__wbindgen_realloc),s=K;j().setInt32(t+4,s,!0),j().setInt32(t+0,o,!0)},e.wbg.__wbg_getProgramParameter_c777611a448a6ccd=function(t,n,r){return t.getProgramParameter(n,r>>>0)},e.wbg.__wbg_getProgramParameter_ff1aee3815d6a8f9=function(t,n,r){return t.getProgramParameter(n,r>>>0)},e.wbg.__wbg_getPropertyValue_dcded91357966805=function(){return E(function(t,n,r,i){const o=n.getPropertyValue(B(r,i)),s=Z(o,D.__wbindgen_malloc,D.__wbindgen_realloc),c=K;j().setInt32(t+4,c,!0),j().setInt32(t+0,s,!0)},arguments)},e.wbg.__wbg_getShaderInfoLog_1affea8c74bd191c=function(t,n,r){const i=n.getShaderInfoLog(r);var o=H(i)?0:Z(i,D.__wbindgen_malloc,D.__wbindgen_realloc),s=K;j().setInt32(t+4,s,!0),j().setInt32(t+0,o,!0)},e.wbg.__wbg_getShaderInfoLog_862d8c35c68d02c8=function(t,n,r){const i=n.getShaderInfoLog(r);var o=H(i)?0:Z(i,D.__wbindgen_malloc,D.__wbindgen_realloc),s=K;j().setInt32(t+4,s,!0),j().setInt32(t+0,o,!0)},e.wbg.__wbg_getShaderParameter_1f86483b99db3dcc=function(t,n,r){return t.getShaderParameter(n,r>>>0)},e.wbg.__wbg_getShaderParameter_b8a41abb0d7d23c3=function(t,n,r){return t.getShaderParameter(n,r>>>0)},e.wbg.__wbg_getSupportedExtensions_bc23bc19c9dac45d=function(t){const n=t.getSupportedExtensions();return H(n)?0:Q(n)},e.wbg.__wbg_getTime_ad1e9878a735af08=function(t){return t.getTime()},e.wbg.__wbg_getTimezoneOffset_45389e26d6f46823=function(t){return t.getTimezoneOffset()},e.wbg.__wbg_getUniformLocation_21ac12bfc569cbbf=function(t,n,r,i){const o=t.getUniformLocation(n,B(r,i));return H(o)?0:Q(o)},e.wbg.__wbg_getUniformLocation_2a4ddf8dd8285373=function(t,n,r,i){const o=t.getUniformLocation(n,B(r,i));return H(o)?0:Q(o)},e.wbg.__wbg_get_6b7bd52aca3f9671=function(t,n){return t[n>>>0]},e.wbg.__wbg_get_abb7fb111a5bd55d=function(t,n,r,i){const o=n[B(r,i)];var s=H(o)?0:Z(o,D.__wbindgen_malloc,D.__wbindgen_realloc),c=K;j().setInt32(t+4,c,!0),j().setInt32(t+0,s,!0)},e.wbg.__wbg_get_af9dab7e9603ea93=function(){return E(function(t,n){return Reflect.get(t,n)},arguments)},e.wbg.__wbg_get_with_ref_key_1dc361bd10053bfe=function(t,n){return t[n]},e.wbg.__wbg_height_3a0b31e52a5b7f17=function(t){return t.height},e.wbg.__wbg_height_5d22b94a936fae9f=function(t){return t.height},e.wbg.__wbg_id_0cd70c3a5517c880=function(t,n){const r=n.id,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_inlineSize_65c8cd0ecc54c605=function(t){return t.inlineSize},e.wbg.__wbg_inputType_21e0556dcbc5e871=function(t,n){const r=n.inputType,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_instanceof_ArrayBuffer_f3320d2419cd0355=function(t){let n;try{n=t instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_instanceof_CanvasRenderingContext2d_d070139aaac1459f=function(t){let n;try{n=t instanceof CanvasRenderingContext2D}catch{n=!1}return n},e.wbg.__wbg_instanceof_HtmlCanvasElement_c4251b1b6a15edcc=function(t){let n;try{n=t instanceof HTMLCanvasElement}catch{n=!1}return n},e.wbg.__wbg_instanceof_HtmlInputElement_46b31917ce88698f=function(t){let n;try{n=t instanceof HTMLInputElement}catch{n=!1}return n},e.wbg.__wbg_instanceof_Map_084be8da74364158=function(t){let n;try{n=t instanceof Map}catch{n=!1}return n},e.wbg.__wbg_instanceof_Uint8Array_da54ccc9d3e09434=function(t){let n;try{n=t instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_WebGl2RenderingContext_121e4c8c95b128ef=function(t){let n;try{n=t instanceof WebGL2RenderingContext}catch{n=!1}return n},e.wbg.__wbg_instanceof_Window_b5cf7783caa68180=function(t){let n;try{n=t instanceof Window}catch{n=!1}return n},e.wbg.__wbg_isArray_51fd9e6422c0a395=function(t){return Array.isArray(t)},e.wbg.__wbg_isComposing_f44397d3c48338be=function(t){return t.isComposing},e.wbg.__wbg_isComposing_fcde9aa6cddb1f42=function(t){return t.isComposing},e.wbg.__wbg_isIntersecting_2d00a342ea420fb9=function(t){return t.isIntersecting},e.wbg.__wbg_isSafeInteger_ae7d3f054d55fa16=function(t){return Number.isSafeInteger(t)},e.wbg.__wbg_is_928aa29d71e75457=function(t,n){return Object.is(t,n)},e.wbg.__wbg_iterator_27b7c8b35ab3e86b=function(){return Symbol.iterator},e.wbg.__wbg_key_505d33c50799526a=function(t,n){const r=n.key,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_length_22ac23eaec9d8053=function(t){return t.length},e.wbg.__wbg_length_d45040a40c570362=function(t){return t.length},e.wbg.__wbg_linkProgram_2f770464e69099dc=function(t,n){t.linkProgram(n)},e.wbg.__wbg_linkProgram_93f76a2f5030041e=function(t,n){t.linkProgram(n)},e.wbg.__wbg_location_0ef648bbeb3e599c=function(t){return t.location},e.wbg.__wbg_log_ff074caa4cb6fa32=function(t,n){console.log(B(t,n))},e.wbg.__wbg_matchMedia_29904c79dbaba90b=function(){return E(function(t,n,r){const i=t.matchMedia(B(n,r));return H(i)?0:Q(i)},arguments)},e.wbg.__wbg_matches_9cef9b7c722bd7c8=function(t){return t.matches},e.wbg.__wbg_matches_a2997f291724f864=function(){return E(function(t,n,r){return t.matches(B(n,r))},arguments)},e.wbg.__wbg_metaKey_0572b1cbcb5b272b=function(t){return t.metaKey},e.wbg.__wbg_metaKey_448c751accad2eba=function(t){return t.metaKey},e.wbg.__wbg_movementX_00c85de14e45c5f4=function(t){return t.movementX},e.wbg.__wbg_movementY_9f8470917a12f3f5=function(t){return t.movementY},e.wbg.__wbg_naturalHeight_e5febdb1901d3680=function(t){return t.naturalHeight},e.wbg.__wbg_naturalWidth_69d8692132b04c44=function(t){return t.naturalWidth},e.wbg.__wbg_navigator_b49edef831236138=function(t){return t.navigator},e.wbg.__wbg_new_0_23cedd11d9b40c9d=function(){return new Date},e.wbg.__wbg_new_137453588c393c59=function(){return E(function(){return new MessageChannel},arguments)},e.wbg.__wbg_new_1ba21ce319a06297=function(){return new Object},e.wbg.__wbg_new_25f239778d6112b9=function(){return new Array},e.wbg.__wbg_new_2884ddbcda091bc1=function(){return E(function(){return new Image},arguments)},e.wbg.__wbg_new_53cb1e86c1ef5d2a=function(){return E(function(t,n){return new Worker(B(t,n))},arguments)},e.wbg.__wbg_new_6421f6084cc5bc5a=function(t){return new Uint8Array(t)},e.wbg.__wbg_new_881a222c65f168fc=function(){return E(function(){return new AbortController},arguments)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},e.wbg.__wbg_new_a25bd305a87faf63=function(){return E(function(t){return new ResizeObserver(t)},arguments)},e.wbg.__wbg_new_b2db8aa2650f793a=function(t){return new Date(t)},e.wbg.__wbg_new_b546ae120718850e=function(){return new Map},e.wbg.__wbg_new_bba60878a7b7f42c=function(){return E(function(t){return new IntersectionObserver(t)},arguments)},e.wbg.__wbg_new_ff12d2b041fb48f1=function(t,n){try{var r={a:t,b:n},i=(s,c)=>{const a=r.a;r.a=0;try{return Ti(a,r.b,s,c)}finally{r.a=a}};return new Promise(i)}finally{r.a=r.b=0}},e.wbg.__wbg_new_no_args_cb138f77cf6151ee=function(t,n){return new Function(B(t,n))},e.wbg.__wbg_new_with_str_sequence_and_options_fe06fc75a8482fd3=function(){return E(function(t,n){return new Blob(t,n)},arguments)},e.wbg.__wbg_next_138a17bbf04e926c=function(t){return t.next},e.wbg.__wbg_next_3cfe5c0fe2a4cc53=function(){return E(function(t){return t.next()},arguments)},e.wbg.__wbg_now_2c95c9de01293173=function(t){return t.now()},e.wbg.__wbg_observe_5186b67ce86740f9=function(t,n){t.observe(n)},e.wbg.__wbg_observe_ce343c3f1701b1f1=function(t,n,r){t.observe(n,r)},e.wbg.__wbg_observe_eefa2465578e5d51=function(t,n){t.observe(n)},e.wbg.__wbg_of_6505a0eb509da02e=function(t){return Array.of(t)},e.wbg.__wbg_of_b8cd42ebb79fb759=function(t,n){return Array.of(t,n)},e.wbg.__wbg_offsetHeight_3a0cb1c43babb670=function(t){return t.offsetHeight},e.wbg.__wbg_offsetLeft_66880c2dc92d2fd4=function(t){return t.offsetLeft},e.wbg.__wbg_offsetTop_cea3f2bb4eff1df7=function(t){return t.offsetTop},e.wbg.__wbg_offsetWidth_058fe16c7dd9e9bb=function(t){return t.offsetWidth},e.wbg.__wbg_offsetX_cb6a38e6f23cb4a6=function(t){return t.offsetX},e.wbg.__wbg_offsetY_43e21941c5c1f8bf=function(t){return t.offsetY},e.wbg.__wbg_open_c565053c17d497bd=function(){return E(function(t,n,r,i,o){const s=t.open(B(n,r),B(i,o));return H(s)?0:Q(s)},arguments)},e.wbg.__wbg_performance_7a3ffd0b17f663ad=function(t){return t.performance},e.wbg.__wbg_persisted_90586ee41f1f0188=function(t){return t.persisted},e.wbg.__wbg_pixelStorei_1956db9ae4b22c29=function(t,n,r){t.pixelStorei(n>>>0,r)},e.wbg.__wbg_pixelStorei_5449c87f83f25694=function(t,n,r){t.pixelStorei(n>>>0,r)},e.wbg.__wbg_platform_c9dd29375c0e6694=function(){return E(function(t,n){const r=n.platform,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},arguments)},e.wbg.__wbg_play_63bc12f42e16af91=function(t){t.play()},e.wbg.__wbg_pointerId_bf4326e151df1474=function(t){return t.pointerId},e.wbg.__wbg_pointerType_f1939c6407f96be9=function(t,n){const r=n.pointerType,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_port1_75dce9d0d8087125=function(t){return t.port1},e.wbg.__wbg_port2_3cffa4119380f41d=function(t){return t.port2},e.wbg.__wbg_postMessage_79f844174f56304f=function(){return E(function(t,n){t.postMessage(n)},arguments)},e.wbg.__wbg_postMessage_e0309b53c7ad30e6=function(){return E(function(t,n,r){t.postMessage(n,r)},arguments)},e.wbg.__wbg_postTask_41d93e93941e4a3d=function(t,n,r){return t.postTask(n,r)},e.wbg.__wbg_pressure_35422752c1a40439=function(t){return t.pressure},e.wbg.__wbg_preventDefault_e97663aeeb9709d3=function(t){t.preventDefault()},e.wbg.__wbg_previewconnector_new=function(t){return en.__wrap(t)},e.wbg.__wbg_prototype_c28bca39c45aba9b=function(){return ResizeObserverEntry.prototype},e.wbg.__wbg_prototypesetcall_dfe9b766cdc1f1fd=function(t,n,r){Uint8Array.prototype.set.call(Pi(t,n),r)},e.wbg.__wbg_queueMicrotask_892c6bd5d40fe78e=function(t,n){t.queueMicrotask(n)},e.wbg.__wbg_queueMicrotask_9b549dfce8865860=function(t){return t.queueMicrotask},e.wbg.__wbg_queueMicrotask_fca69f5bfad613a5=function(t){queueMicrotask(t)},e.wbg.__wbg_readPixels_031b1d4c916fc4f9=function(){return E(function(t,n,r,i,o,s,c,a){t.readPixels(n,r,i,o,s>>>0,c>>>0,a)},arguments)},e.wbg.__wbg_readPixels_3288aabda6ab89ff=function(){return E(function(t,n,r,i,o,s,c,a){t.readPixels(n,r,i,o,s>>>0,c>>>0,a)},arguments)},e.wbg.__wbg_removeEventListener_565e273024b68b75=function(){return E(function(t,n,r,i){t.removeEventListener(B(n,r),i)},arguments)},e.wbg.__wbg_removeListener_204002d1eb3f20f6=function(){return E(function(t,n){t.removeListener(n)},arguments)},e.wbg.__wbg_removeProperty_c2e16faee2834bef=function(){return E(function(t,n,r,i){const o=n.removeProperty(B(r,i)),s=Z(o,D.__wbindgen_malloc,D.__wbindgen_realloc),c=K;j().setInt32(t+4,c,!0),j().setInt32(t+0,s,!0)},arguments)},e.wbg.__wbg_renderbufferStorage_4ea9706d7f996e6d=function(t,n,r,i,o){t.renderbufferStorage(n>>>0,r>>>0,i,o)},e.wbg.__wbg_renderbufferStorage_95fae6488cee51e3=function(t,n,r,i,o){t.renderbufferStorage(n>>>0,r>>>0,i,o)},e.wbg.__wbg_repeat_3733d1d584bf0e38=function(t){return t.repeat},e.wbg.__wbg_requestAnimationFrame_994dc4ebde22b8d9=function(){return E(function(t,n){return t.requestAnimationFrame(n)},arguments)},e.wbg.__wbg_requestFullscreen_86fc6cdb76000482=function(t){return t.requestFullscreen},e.wbg.__wbg_requestFullscreen_9f0611438eb929cf=function(t){return t.requestFullscreen()},e.wbg.__wbg_requestIdleCallback_1b8d644ff564208f=function(t){return t.requestIdleCallback},e.wbg.__wbg_requestIdleCallback_dedd367f2e61f932=function(){return E(function(t,n){return t.requestIdleCallback(n)},arguments)},e.wbg.__wbg_resolve_fd5bfbaa4ce36e1e=function(t){return Promise.resolve(t)},e.wbg.__wbg_revokeObjectURL_88db3468842ff09e=function(){return E(function(t,n){URL.revokeObjectURL(B(t,n))},arguments)},e.wbg.__wbg_scheduler_48482a9974eeacbd=function(t){return t.scheduler},e.wbg.__wbg_scheduler_5156bb61cc1cf589=function(t){return t.scheduler},e.wbg.__wbg_scissor_04e903bd18e45083=function(t,n,r,i,o){t.scissor(n,r,i,o)},e.wbg.__wbg_scissor_988df87f9cf85e7e=function(t,n,r,i,o){t.scissor(n,r,i,o)},e.wbg.__wbg_setAttribute_34747dd193f45828=function(){return E(function(t,n,r,i,o){t.setAttribute(B(n,r),B(i,o))},arguments)},e.wbg.__wbg_setData_b56422b286b18ff6=function(){return E(function(t,n,r,i,o){t.setData(B(n,r),B(i,o))},arguments)},e.wbg.__wbg_setPointerCapture_c611f4bcb7e9081e=function(){return E(function(t,n){t.setPointerCapture(n)},arguments)},e.wbg.__wbg_setProperty_f27b2c05323daf8a=function(){return E(function(t,n,r,i,o){t.setProperty(B(n,r),B(i,o))},arguments)},e.wbg.__wbg_setTimeout_06477c23d31efef1=function(){return E(function(t,n,r){return t.setTimeout(n,r)},arguments)},e.wbg.__wbg_setTimeout_780045617e4bd6d6=function(){return E(function(t,n){return t.setTimeout(n)},arguments)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(t,n,r){t[n]=r},e.wbg.__wbg_set_781438a03c0c3c81=function(){return E(function(t,n,r){return Reflect.set(t,n,r)},arguments)},e.wbg.__wbg_set_7df433eea03a5c14=function(t,n,r){t[n>>>0]=r},e.wbg.__wbg_set_antialias_d603f7eff2e0c99f=function(t,n){t.antialias=n!==0},e.wbg.__wbg_set_box_d724bbbe6354cf86=function(t,n){t.box=os[n]},e.wbg.__wbg_set_crossOrigin_13ccad056ecb49d3=function(t,n,r){t.crossOrigin=n===0?void 0:B(n,r)},e.wbg.__wbg_set_efaaf145b9377369=function(t,n,r){return t.set(n,r)},e.wbg.__wbg_set_fillStyle_c9a0550307cd4671=function(t,n,r){t.fillStyle=B(n,r)},e.wbg.__wbg_set_font_37c5ab71d0189314=function(t,n,r){t.font=B(n,r)},e.wbg.__wbg_set_height_621faa0b76903e46=function(t,n){t.height=n>>>0},e.wbg.__wbg_set_height_6f8f8ef4cb40e496=function(t,n){t.height=n>>>0},e.wbg.__wbg_set_onload_5e2862e3453854de=function(t,n){t.onload=n},e.wbg.__wbg_set_onmessage_f0d5bf805190d1d8=function(t,n){t.onmessage=n},e.wbg.__wbg_set_src_84f27c5105946dce=function(t,n,r){t.src=B(n,r)},e.wbg.__wbg_set_stencil_6e9f8870de2ec487=function(t,n){t.stencil=n!==0},e.wbg.__wbg_set_type_7ce650670a34c68f=function(t,n,r){t.type=B(n,r)},e.wbg.__wbg_set_value_8f487a4f7d71c024=function(t,n,r){t.value=B(n,r)},e.wbg.__wbg_set_width_77e16cb49c1565c6=function(t,n){t.width=n>>>0},e.wbg.__wbg_set_width_7ff7a22c6e9f423e=function(t,n){t.width=n>>>0},e.wbg.__wbg_shaderSource_8a7a30baeaf655d5=function(t,n,r,i){t.shaderSource(n,B(r,i))},e.wbg.__wbg_shaderSource_aea71cfa376fc985=function(t,n,r,i){t.shaderSource(n,B(r,i))},e.wbg.__wbg_shiftKey_a6df227a917d203b=function(t){return t.shiftKey},e.wbg.__wbg_shiftKey_d2640abcfa98acec=function(t){return t.shiftKey},e.wbg.__wbg_signal_3c14fbdc89694b39=function(t){return t.signal},e.wbg.__wbg_src_4c48df3819e23be3=function(t,n){const r=n.src,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,n){const r=n.stack,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},e.wbg.__wbg_start_dd05b3be5674e9f3=function(t){t.start()},e.wbg.__wbg_static_accessor_GLOBAL_769e6b65d6557335=function(){const t=typeof global>"u"?null:global;return H(t)?0:Q(t)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_60cf02db4de8e1c1=function(){const t=typeof globalThis>"u"?null:globalThis;return H(t)?0:Q(t)},e.wbg.__wbg_static_accessor_SELF_08f5a74c69739274=function(){const t=typeof self>"u"?null:self;return H(t)?0:Q(t)},e.wbg.__wbg_static_accessor_WINDOW_a8924b26aa92d024=function(){const t=typeof window>"u"?null:window;return H(t)?0:Q(t)},e.wbg.__wbg_stencilFunc_66ed501bccae2893=function(t,n,r,i){t.stencilFunc(n>>>0,r,i>>>0)},e.wbg.__wbg_stencilFunc_f4ffcf82c24abd4e=function(t,n,r,i){t.stencilFunc(n>>>0,r,i>>>0)},e.wbg.__wbg_stencilMask_729d1b04c4560c92=function(t,n){t.stencilMask(n>>>0)},e.wbg.__wbg_stencilMask_8763a80561b98dde=function(t,n){t.stencilMask(n>>>0)},e.wbg.__wbg_stencilOpSeparate_126147c7d73a0e8e=function(t,n,r,i,o){t.stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_stencilOpSeparate_d1770154b137259f=function(t,n,r,i,o){t.stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_stencilOp_4f975954b1eda443=function(t,n,r,i){t.stencilOp(n>>>0,r>>>0,i>>>0)},e.wbg.__wbg_stencilOp_b4aaefe11e36739a=function(t,n,r,i){t.stencilOp(n>>>0,r>>>0,i>>>0)},e.wbg.__wbg_style_521a717da50e53c6=function(t){return t.style},e.wbg.__wbg_texImage2D_9626e500f8562784=function(){return E(function(t,n,r,i,o,s,c,a,d,l){t.texImage2D(n>>>0,r,i,o,s,c,a>>>0,d>>>0,l)},arguments)},e.wbg.__wbg_texImage2D_d2480404caf2a35b=function(){return E(function(t,n,r,i,o,s,c,a,d,l){t.texImage2D(n>>>0,r,i,o,s,c,a>>>0,d>>>0,l)},arguments)},e.wbg.__wbg_texImage2D_d37b35cd7e971b0d=function(){return E(function(t,n,r,i,o,s,c,a,d,l){t.texImage2D(n>>>0,r,i,o,s,c,a>>>0,d>>>0,l)},arguments)},e.wbg.__wbg_texParameteri_035e104616b395e0=function(t,n,r,i){t.texParameteri(n>>>0,r>>>0,i)},e.wbg.__wbg_texParameteri_3a52bfd2ef280632=function(t,n,r,i){t.texParameteri(n>>>0,r>>>0,i)},e.wbg.__wbg_texSubImage2D_1f2ed8e2272ea41a=function(){return E(function(t,n,r,i,o,s,c,a,d,l){t.texSubImage2D(n>>>0,r,i,o,s,c,a>>>0,d>>>0,l)},arguments)},e.wbg.__wbg_texSubImage2D_350bf460ab7288ed=function(){return E(function(t,n,r,i,o,s,c,a){t.texSubImage2D(n>>>0,r,i,o,s>>>0,c>>>0,a)},arguments)},e.wbg.__wbg_texSubImage2D_b3a850c16797a6b2=function(){return E(function(t,n,r,i,o,s,c,a,d,l){t.texSubImage2D(n>>>0,r,i,o,s,c,a>>>0,d>>>0,l)},arguments)},e.wbg.__wbg_texSubImage2D_be20511e8daed6d0=function(){return E(function(t,n,r,i,o,s,c,a){t.texSubImage2D(n>>>0,r,i,o,s>>>0,c>>>0,a)},arguments)},e.wbg.__wbg_texSubImage2D_dc6a2bd41673ac84=function(){return E(function(t,n,r,i,o,s,c,a,d,l){t.texSubImage2D(n>>>0,r,i,o,s,c,a>>>0,d>>>0,l)},arguments)},e.wbg.__wbg_then_429f7caf1026411d=function(t,n,r){return t.then(n,r)},e.wbg.__wbg_then_4f95312d68691235=function(t,n){return t.then(n)},e.wbg.__wbg_uniform1i_85131b7388bc8e3f=function(t,n,r){t.uniform1i(n,r)},e.wbg.__wbg_uniform1i_e48736e68cd30ed1=function(t,n,r){t.uniform1i(n,r)},e.wbg.__wbg_uniform2fv_708680e0e9752754=function(t,n,r,i){t.uniform2fv(n,xn(r,i))},e.wbg.__wbg_uniform2fv_908e28848891e2bf=function(t,n,r,i){t.uniform2fv(n,xn(r,i))},e.wbg.__wbg_uniform4fv_2521ae2ffe6e215c=function(t,n,r,i){t.uniform4fv(n,xn(r,i))},e.wbg.__wbg_uniform4fv_9913dec8e48633d9=function(t,n,r,i){t.uniform4fv(n,xn(r,i))},e.wbg.__wbg_unobserve_0d3c5074b9205239=function(t,n){t.unobserve(n)},e.wbg.__wbg_useProgram_142dd02d095f80f1=function(t,n){t.useProgram(n)},e.wbg.__wbg_useProgram_4632a62f19deea67=function(t,n){t.useProgram(n)},e.wbg.__wbg_userAgentData_f7b0e61c05c54315=function(t){const n=t.userAgentData;return H(n)?0:Q(n)},e.wbg.__wbg_userAgent_e18bc0cc9ad38ec1=function(){return E(function(t,n){const r=n.userAgent,i=Z(r,D.__wbindgen_malloc,D.__wbindgen_realloc),o=K;j().setInt32(t+4,o,!0),j().setInt32(t+0,i,!0)},arguments)},e.wbg.__wbg_value_57b7b035e117f7ee=function(t){return t.value},e.wbg.__wbg_vertexAttribPointer_5c516f4c675103bf=function(t,n,r,i,o,s,c){t.vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,c)},e.wbg.__wbg_vertexAttribPointer_880223685613a791=function(t,n,r,i,o,s,c){t.vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,c)},e.wbg.__wbg_viewport_1b0f7b63c424b52f=function(t,n,r,i,o){t.viewport(n,r,i,o)},e.wbg.__wbg_viewport_ceaa5c1a061b76df=function(t,n,r,i,o){t.viewport(n,r,i,o)},e.wbg.__wbg_visibilityState_2f27cbaac764b521=function(t){const n=t.visibilityState;return(ss.indexOf(n)+1||3)-1},e.wbg.__wbg_webkitExitFullscreen_85426cef5e755dfa=function(t){t.webkitExitFullscreen()},e.wbg.__wbg_webkitFullscreenElement_a9ca38b7214d1567=function(t){const n=t.webkitFullscreenElement;return H(n)?0:Q(n)},e.wbg.__wbg_webkitRequestFullscreen_23664c63833ff0e5=function(t){t.webkitRequestFullscreen()},e.wbg.__wbg_width_30d712cfe70e4fae=function(t){return t.width},e.wbg.__wbg_width_f13d2e86324fc226=function(t){return t.width},e.wbg.__wbg_x_069c9a138e362471=function(t){return t.x},e.wbg.__wbg_y_033d56f0aba0b2d0=function(t){return t.y},e.wbg.__wbindgen_cast_2241b6af4c4b2941=function(t,n){return B(t,n)},e.wbg.__wbindgen_cast_2746ed4c5ce9395f=function(t,n){return xt(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,$t)},e.wbg.__wbindgen_cast_2c27b30042285fde=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_43371a9ac14b6765=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(t){return BigInt.asUintN(64,t)},e.wbg.__wbindgen_cast_4b6ba1514dd30cb9=function(t,n){return xt(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,$t)},e.wbg.__wbindgen_cast_55af31b8c1772845=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_55b7530f91097a9a=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_5d0cefd1c5ea51ba=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h781e7621b7cbd2e6,ki)},e.wbg.__wbindgen_cast_60dea6e50c6d560a=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_81455a663dfec913=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_8e453418cef3432d=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,Ti)},e.wbg.__wbindgen_cast_9ae0607507abb057=function(t){return t},e.wbg.__wbindgen_cast_9f7523ea576527f5=function(t,n){return xt(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,$t)},e.wbg.__wbindgen_cast_a1e6376106eac760=function(t,n){return xt(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,$t)},e.wbg.__wbindgen_cast_b73e79e96ca0d72a=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_cb9088102bce6b30=function(t,n){return Pi(t,n)},e.wbg.__wbindgen_cast_cbabbf196345f982=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,_t)},e.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(t){return t},e.wbg.__wbindgen_cast_ddbe00703ab33305=function(t,n){return xt(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,$t)},e.wbg.__wbindgen_cast_ef561581badb1436=function(t,n){return Le(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,ki)},e.wbg.__wbindgen_cast_fa36f8ddcaf025c2=function(t,n){return xt(t,n,D.wasm_bindgen__closure__destroy__h057391a5a78ab25e,$t)},e.wbg.__wbindgen_init_externref_table=function(){const t=D.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e}function fs(e,t){return D=e.exports,qi.__wbindgen_wasm_module=t,pt=null,Yt=null,Gt=null,D.__wbindgen_start(),D}async function qi(e){if(D!==void 0)return D;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL(""+new URL("slint_lsp_wasm_bg-DOJcHjAb.wasm",self.location.href).href,self.location.href));const t=ds();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await us(await e,t);return fs(n,r)}function ls(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var yt={},vt={},Ye={},Rt={},Dt={},Bn={},_r={},O={},ve={},Mi;function nn(){if(Mi)return ve;Mi=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.stringArray=ve.array=ve.func=ve.error=ve.number=ve.string=ve.boolean=void 0;function e(c){return c===!0||c===!1}ve.boolean=e;function t(c){return typeof c=="string"||c instanceof String}ve.string=t;function n(c){return typeof c=="number"||c instanceof Number}ve.number=n;function r(c){return c instanceof Error}ve.error=r;function i(c){return typeof c=="function"}ve.func=i;function o(c){return Array.isArray(c)}ve.array=o;function s(c){return o(c)&&c.every(a=>t(a))}return ve.stringArray=s,ve}var Ei;function Oi(){if(Ei)return O;Ei=1,Object.defineProperty(O,"__esModule",{value:!0}),O.Message=O.NotificationType9=O.NotificationType8=O.NotificationType7=O.NotificationType6=O.NotificationType5=O.NotificationType4=O.NotificationType3=O.NotificationType2=O.NotificationType1=O.NotificationType0=O.NotificationType=O.RequestType9=O.RequestType8=O.RequestType7=O.RequestType6=O.RequestType5=O.RequestType4=O.RequestType3=O.RequestType2=O.RequestType1=O.RequestType=O.RequestType0=O.AbstractMessageSignature=O.ParameterStructures=O.ResponseError=O.ErrorCodes=void 0;const e=nn();var t;(function(W){W.ParseError=-32700,W.InvalidRequest=-32600,W.MethodNotFound=-32601,W.InvalidParams=-32602,W.InternalError=-32603,W.jsonrpcReservedErrorRangeStart=-32099,W.serverErrorStart=-32099,W.MessageWriteError=-32099,W.MessageReadError=-32098,W.PendingResponseRejected=-32097,W.ConnectionInactive=-32096,W.ServerNotInitialized=-32002,W.UnknownErrorCode=-32001,W.jsonrpcReservedErrorRangeEnd=-32e3,W.serverErrorEnd=-32e3})(t||(O.ErrorCodes=t={}));class n extends Error{constructor(h,N,x){super(N),this.code=e.number(h)?h:t.UnknownErrorCode,this.data=x,Object.setPrototypeOf(this,n.prototype)}toJson(){const h={code:this.code,message:this.message};return this.data!==void 0&&(h.data=this.data),h}}O.ResponseError=n;class r{constructor(h){this.kind=h}static is(h){return h===r.auto||h===r.byName||h===r.byPosition}toString(){return this.kind}}O.ParameterStructures=r,r.auto=new r("auto"),r.byPosition=new r("byPosition"),r.byName=new r("byName");class i{constructor(h,N){this.method=h,this.numberOfParams=N}get parameterStructures(){return r.auto}}O.AbstractMessageSignature=i;class o extends i{constructor(h){super(h,0)}}O.RequestType0=o;class s extends i{constructor(h,N=r.auto){super(h,1),this._parameterStructures=N}get parameterStructures(){return this._parameterStructures}}O.RequestType=s;class c extends i{constructor(h,N=r.auto){super(h,1),this._parameterStructures=N}get parameterStructures(){return this._parameterStructures}}O.RequestType1=c;class a extends i{constructor(h){super(h,2)}}O.RequestType2=a;class d extends i{constructor(h){super(h,3)}}O.RequestType3=d;class l extends i{constructor(h){super(h,4)}}O.RequestType4=l;class w extends i{constructor(h){super(h,5)}}O.RequestType5=w;class m extends i{constructor(h){super(h,6)}}O.RequestType6=m;class b extends i{constructor(h){super(h,7)}}O.RequestType7=b;class T extends i{constructor(h){super(h,8)}}O.RequestType8=T;class J extends i{constructor(h){super(h,9)}}O.RequestType9=J;class U extends i{constructor(h,N=r.auto){super(h,1),this._parameterStructures=N}get parameterStructures(){return this._parameterStructures}}O.NotificationType=U;class I extends i{constructor(h){super(h,0)}}O.NotificationType0=I;class C extends i{constructor(h,N=r.auto){super(h,1),this._parameterStructures=N}get parameterStructures(){return this._parameterStructures}}O.NotificationType1=C;class L extends i{constructor(h){super(h,2)}}O.NotificationType2=L;class re extends i{constructor(h){super(h,3)}}O.NotificationType3=re;class ye extends i{constructor(h){super(h,4)}}O.NotificationType4=ye;class z extends i{constructor(h){super(h,5)}}O.NotificationType5=z;class X extends i{constructor(h){super(h,6)}}O.NotificationType6=X;class ee extends i{constructor(h){super(h,7)}}O.NotificationType7=ee;class _e extends i{constructor(h){super(h,8)}}O.NotificationType8=_e;class qe extends i{constructor(h){super(h,9)}}O.NotificationType9=qe;var ge;return(function(W){function h(M){const V=M;return V&&e.string(V.method)&&(e.string(V.id)||e.number(V.id))}W.isRequest=h;function N(M){const V=M;return V&&e.string(V.method)&&M.id===void 0}W.isNotification=N;function x(M){const V=M;return V&&(V.result!==void 0||!!V.error)&&(e.string(V.id)||e.number(V.id)||V.id===null)}W.isResponse=x})(ge||(O.Message=ge={})),O}var Ge={},Ni;function ji(){if(Ni)return Ge;Ni=1;var e;Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.LRUCache=Ge.LinkedMap=Ge.Touch=void 0;var t;(function(i){i.None=0,i.First=1,i.AsOld=i.First,i.Last=2,i.AsNew=i.Last})(t||(Ge.Touch=t={}));class n{constructor(){this[e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(o){return this._map.has(o)}get(o,s=t.None){const c=this._map.get(o);if(c)return s!==t.None&&this.touch(c,s),c.value}set(o,s,c=t.None){let a=this._map.get(o);if(a)a.value=s,c!==t.None&&this.touch(a,c);else{switch(a={key:o,value:s,next:void 0,previous:void 0},c){case t.None:this.addItemLast(a);break;case t.First:this.addItemFirst(a);break;case t.Last:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(o,a),this._size++}return this}delete(o){return!!this.remove(o)}remove(o){const s=this._map.get(o);if(s)return this._map.delete(o),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const o=this._head;return this._map.delete(o.key),this.removeItem(o),this._size--,o.value}forEach(o,s){const c=this._state;let a=this._head;for(;a;){if(s?o.bind(s)(a.value,a.key,this):o(a.value,a.key,this),this._state!==c)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){const o=this._state;let s=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const a={value:s.key,done:!1};return s=s.next,a}else return{value:void 0,done:!0}}};return c}values(){const o=this._state;let s=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const a={value:s.value,done:!1};return s=s.next,a}else return{value:void 0,done:!0}}};return c}entries(){const o=this._state;let s=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const a={value:[s.key,s.value],done:!1};return s=s.next,a}else return{value:void 0,done:!0}}};return c}[(e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(o){if(o>=this.size)return;if(o===0){this.clear();return}let s=this._head,c=this.size;for(;s&&c>o;)this._map.delete(s.key),s=s.next,c--;this._head=s,this._size=c,s&&(s.previous=void 0),this._state++}addItemFirst(o){if(!this._head&&!this._tail)this._tail=o;else if(this._head)o.next=this._head,this._head.previous=o;else throw new Error("Invalid list");this._head=o,this._state++}addItemLast(o){if(!this._head&&!this._tail)this._head=o;else if(this._tail)o.previous=this._tail,this._tail.next=o;else throw new Error("Invalid list");this._tail=o,this._state++}removeItem(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head){if(!o.next)throw new Error("Invalid list");o.next.previous=void 0,this._head=o.next}else if(o===this._tail){if(!o.previous)throw new Error("Invalid list");o.previous.next=void 0,this._tail=o.previous}else{const s=o.next,c=o.previous;if(!s||!c)throw new Error("Invalid list");s.previous=c,c.next=s}o.next=void 0,o.previous=void 0,this._state++}touch(o,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==t.First&&s!==t.Last)){if(s===t.First){if(o===this._head)return;const c=o.next,a=o.previous;o===this._tail?(a.next=void 0,this._tail=a):(c.previous=a,a.next=c),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o,this._state++}else if(s===t.Last){if(o===this._tail)return;const c=o.next,a=o.previous;o===this._head?(c.previous=void 0,this._head=c):(c.previous=a,a.next=c),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o,this._state++}}}toJSON(){const o=[];return this.forEach((s,c)=>{o.push([c,s])}),o}fromJSON(o){this.clear();for(const[s,c]of o)this.set(s,c)}}Ge.LinkedMap=n;class r extends n{constructor(o,s=1){super(),this._limit=o,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(o){this._limit=o,this.checkTrim()}get ratio(){return this._ratio}set ratio(o){this._ratio=Math.min(Math.max(0,o),1),this.checkTrim()}get(o,s=t.AsNew){return super.get(o,s)}peek(o){return super.get(o,t.None)}set(o,s){return super.set(o,s,t.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}return Ge.LRUCache=r,Ge}var rn={},Fi;function _s(){if(Fi)return rn;Fi=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.Disposable=void 0;var e;return(function(t){function n(r){return{dispose:r}}t.create=n})(e||(rn.Disposable=e={})),rn}var Pt={},zn={},Ii;function Tt(){if(Ii)return zn;Ii=1,Object.defineProperty(zn,"__esModule",{value:!0});let e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return(function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}n.install=r})(t||(t={})),zn.default=t,zn}var Ai;function on(){if(Ai)return Pt;Ai=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.Emitter=Pt.Event=void 0;const e=Tt();var t;(function(i){const o={dispose(){}};i.None=function(){return o}})(t||(Pt.Event=t={}));class n{add(o,s=null,c){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(o),this._contexts.push(s),Array.isArray(c)&&c.push({dispose:()=>this.remove(o,s)})}remove(o,s=null){if(!this._callbacks)return;let c=!1;for(let a=0,d=this._callbacks.length;a<d;a++)if(this._callbacks[a]===o)if(this._contexts[a]===s){this._callbacks.splice(a,1),this._contexts.splice(a,1);return}else c=!0;if(c)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...o){if(!this._callbacks)return[];const s=[],c=this._callbacks.slice(0),a=this._contexts.slice(0);for(let d=0,l=c.length;d<l;d++)try{s.push(c[d].apply(a[d],o))}catch(w){(0,e.default)().console.error(w)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(o){this._options=o}get event(){return this._event||(this._event=(o,s,c)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(o,s);const a={dispose:()=>{this._callbacks&&(this._callbacks.remove(o,s),a.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(c)&&c.push(a),a}),this._event}fire(o){this._callbacks&&this._callbacks.invoke.call(this._callbacks,o)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Pt.Emitter=r,r._noop=function(){},Pt}var kt={},Li;function gr(){if(Li)return kt;Li=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.CancellationTokenSource=kt.CancellationToken=void 0;const e=Tt(),t=nn(),n=on();var r;(function(c){c.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),c.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function a(d){const l=d;return l&&(l===c.None||l===c.Cancelled||t.boolean(l.isCancellationRequested)&&!!l.onCancellationRequested)}c.is=a})(r||(kt.CancellationToken=r={}));const i=Object.freeze(function(c,a){const d=(0,e.default)().timer.setTimeout(c.bind(a),0);return{dispose(){d.dispose()}}});class o{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class s{get token(){return this._token||(this._token=new o),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof o&&this._token.dispose():this._token=r.None}}return kt.CancellationTokenSource=s,kt}var St={},Wi;function gs(){if(Wi)return St;Wi=1,Object.defineProperty(St,"__esModule",{value:!0}),St.SharedArrayReceiverStrategy=St.SharedArraySenderStrategy=void 0;const e=gr();var t;(function(s){s.Continue=0,s.Cancelled=1})(t||(t={}));class n{constructor(){this.buffers=new Map}enableCancellation(c){if(c.id===null)return;const a=new SharedArrayBuffer(4),d=new Int32Array(a,0,1);d[0]=t.Continue,this.buffers.set(c.id,a),c.$cancellationData=a}async sendCancellation(c,a){const d=this.buffers.get(a);if(d===void 0)return;const l=new Int32Array(d,0,1);Atomics.store(l,0,t.Cancelled)}cleanup(c){this.buffers.delete(c)}dispose(){this.buffers.clear()}}St.SharedArraySenderStrategy=n;class r{constructor(c){this.data=new Int32Array(c,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class i{constructor(c){this.token=new r(c)}cancel(){}dispose(){}}class o{constructor(){this.kind="request"}createCancellationTokenSource(c){const a=c.$cancellationData;return a===void 0?new e.CancellationTokenSource:new i(a)}}return St.SharedArrayReceiverStrategy=o,St}var Ke={},sn={},Hi;function xi(){if(Hi)return sn;Hi=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.Semaphore=void 0;const e=Tt();class t{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((i,o)=>{this._waiting.push({thunk:r,resolve:i,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=r.thunk();i instanceof Promise?i.then(o=>{this._active--,r.resolve(o),this.runNext()},o=>{this._active--,r.reject(o),this.runNext()}):(this._active--,r.resolve(i),this.runNext())}catch(i){this._active--,r.reject(i),this.runNext()}}}return sn.Semaphore=t,sn}var $i;function bs(){if($i)return Ke;$i=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.ReadableStreamMessageReader=Ke.AbstractMessageReader=Ke.MessageReader=void 0;const e=Tt(),t=nn(),n=on(),r=xi();var i;(function(a){function d(l){let w=l;return w&&t.func(w.listen)&&t.func(w.dispose)&&t.func(w.onError)&&t.func(w.onClose)&&t.func(w.onPartialMessage)}a.is=d})(i||(Ke.MessageReader=i={}));class o{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(d){this.errorEmitter.fire(this.asError(d))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(d){this.partialMessageEmitter.fire(d)}asError(d){return d instanceof Error?d:new Error(`Reader received error. Reason: ${t.string(d.message)?d.message:"unknown"}`)}}Ke.AbstractMessageReader=o;var s;(function(a){function d(l){let w,m;const b=new Map;let T;const J=new Map;if(l===void 0||typeof l=="string")w=l??"utf-8";else{if(w=l.charset??"utf-8",l.contentDecoder!==void 0&&(m=l.contentDecoder,b.set(m.name,m)),l.contentDecoders!==void 0)for(const U of l.contentDecoders)b.set(U.name,U);if(l.contentTypeDecoder!==void 0&&(T=l.contentTypeDecoder,J.set(T.name,T)),l.contentTypeDecoders!==void 0)for(const U of l.contentTypeDecoders)J.set(U.name,U)}return T===void 0&&(T=(0,e.default)().applicationJson.decoder,J.set(T.name,T)),{charset:w,contentDecoder:m,contentDecoders:b,contentTypeDecoder:T,contentTypeDecoders:J}}a.fromOptions=d})(s||(s={}));class c extends o{constructor(d,l){super(),this.readable=d,this.options=s.fromOptions(l),this.buffer=(0,e.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new r.Semaphore(1)}set partialMessageTimeout(d){this._partialMessageTimeout=d}get partialMessageTimeout(){return this._partialMessageTimeout}listen(d){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=d;const l=this.readable.onData(w=>{this.onData(w)});return this.readable.onError(w=>this.fireError(w)),this.readable.onClose(()=>this.fireClose()),l}onData(d){try{for(this.buffer.append(d);;){if(this.nextMessageLength===-1){const w=this.buffer.tryReadHeaders(!0);if(!w)return;const m=w.get("content-length");if(!m){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(w))}`));return}const b=parseInt(m);if(isNaN(b)){this.fireError(new Error(`Content-Length value must be a number. Got ${m}`));return}this.nextMessageLength=b}const l=this.buffer.tryReadBody(this.nextMessageLength);if(l===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const w=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(l):l,m=await this.options.contentTypeDecoder.decode(w,this.options);this.callback(m)}).catch(w=>{this.fireError(w)})}}catch(l){this.fireError(l)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,e.default)().timer.setTimeout((d,l)=>{this.partialMessageTimer=void 0,d===this.messageToken&&(this.firePartialMessage({messageToken:d,waitingTime:l}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}return Ke.ReadableStreamMessageReader=c,Ke}var Ze={},Bi;function hs(){if(Bi)return Ze;Bi=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.WriteableStreamMessageWriter=Ze.AbstractMessageWriter=Ze.MessageWriter=void 0;const e=Tt(),t=nn(),n=xi(),r=on(),i="Content-Length: ",o=`\r
`;var s;(function(l){function w(m){let b=m;return b&&t.func(b.dispose)&&t.func(b.onClose)&&t.func(b.onError)&&t.func(b.write)}l.is=w})(s||(Ze.MessageWriter=s={}));class c{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(w,m,b){this.errorEmitter.fire([this.asError(w),m,b])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(w){return w instanceof Error?w:new Error(`Writer received error. Reason: ${t.string(w.message)?w.message:"unknown"}`)}}Ze.AbstractMessageWriter=c;var a;(function(l){function w(m){return m===void 0||typeof m=="string"?{charset:m??"utf-8",contentTypeEncoder:(0,e.default)().applicationJson.encoder}:{charset:m.charset??"utf-8",contentEncoder:m.contentEncoder,contentTypeEncoder:m.contentTypeEncoder??(0,e.default)().applicationJson.encoder}}l.fromOptions=w})(a||(a={}));class d extends c{constructor(w,m){super(),this.writable=w,this.options=a.fromOptions(m),this.errorCount=0,this.writeSemaphore=new n.Semaphore(1),this.writable.onError(b=>this.fireError(b)),this.writable.onClose(()=>this.fireClose())}async write(w){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(w,this.options).then(b=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(b):b).then(b=>{const T=[];return T.push(i,b.byteLength.toString(),o),T.push(o),this.doWrite(w,T,b)},b=>{throw this.fireError(b),b}))}async doWrite(w,m,b){try{return await this.writable.write(m.join(""),"ascii"),this.writable.write(b)}catch(T){return this.handleError(T,w),Promise.reject(T)}}handleError(w,m){this.errorCount++,this.fireError(w,m,this.errorCount)}end(){this.writable.end()}}return Ze.WriteableStreamMessageWriter=d,Ze}var cn={},zi;function ms(){if(zi)return cn;zi=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.AbstractMessageBuffer=void 0;const e=13,t=10,n=`\r
`;class r{constructor(o="utf-8"){this._encoding=o,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(o){const s=typeof o=="string"?this.fromString(o,this._encoding):o;this._chunks.push(s),this._totalLength+=s.byteLength}tryReadHeaders(o=!1){if(this._chunks.length===0)return;let s=0,c=0,a=0,d=0;e:for(;c<this._chunks.length;){const b=this._chunks[c];for(a=0;a<b.length;){switch(b[a]){case e:switch(s){case 0:s=1;break;case 2:s=3;break;default:s=0}break;case t:switch(s){case 1:s=2;break;case 3:s=4,a++;break e;default:s=0}break;default:s=0}a++}d+=b.byteLength,c++}if(s!==4)return;const l=this._read(d+a),w=new Map,m=this.toString(l,"ascii").split(n);if(m.length<2)return w;for(let b=0;b<m.length-2;b++){const T=m[b],J=T.indexOf(":");if(J===-1)throw new Error(`Message header must separate key and value using ':'
${T}`);const U=T.substr(0,J),I=T.substr(J+1).trim();w.set(o?U.toLowerCase():U,I)}return w}tryReadBody(o){if(!(this._totalLength<o))return this._read(o)}get numberOfBytes(){return this._totalLength}_read(o){if(o===0)return this.emptyBuffer();if(o>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===o){const d=this._chunks[0];return this._chunks.shift(),this._totalLength-=o,this.asNative(d)}if(this._chunks[0].byteLength>o){const d=this._chunks[0],l=this.asNative(d,o);return this._chunks[0]=d.slice(o),this._totalLength-=o,l}const s=this.allocNative(o);let c=0,a=0;for(;o>0;){const d=this._chunks[a];if(d.byteLength>o){const l=d.slice(0,o);s.set(l,c),c+=o,this._chunks[a]=d.slice(o),this._totalLength-=o,o-=o}else s.set(d,c),c+=d.byteLength,this._chunks.shift(),this._totalLength-=d.byteLength,o-=d.byteLength}return s}}return cn.AbstractMessageBuffer=r,cn}var br={},Vi;function ws(){return Vi||(Vi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=Tt(),n=nn(),r=Oi(),i=ji(),o=on(),s=gr();var c;(function(h){h.type=new r.NotificationType("$/cancelRequest")})(c||(c={}));var a;(function(h){function N(x){return typeof x=="string"||typeof x=="number"}h.is=N})(a||(e.ProgressToken=a={}));var d;(function(h){h.type=new r.NotificationType("$/progress")})(d||(d={}));class l{constructor(){}}e.ProgressType=l;var w;(function(h){function N(x){return n.func(x)}h.is=N})(w||(w={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var m;(function(h){h[h.Off=0]="Off",h[h.Messages=1]="Messages",h[h.Compact=2]="Compact",h[h.Verbose=3]="Verbose"})(m||(e.Trace=m={}));var b;(function(h){h.Off="off",h.Messages="messages",h.Compact="compact",h.Verbose="verbose"})(b||(e.TraceValues=b={})),(function(h){function N(M){if(!n.string(M))return h.Off;switch(M=M.toLowerCase(),M){case"off":return h.Off;case"messages":return h.Messages;case"compact":return h.Compact;case"verbose":return h.Verbose;default:return h.Off}}h.fromString=N;function x(M){switch(M){case h.Off:return"off";case h.Messages:return"messages";case h.Compact:return"compact";case h.Verbose:return"verbose";default:return"off"}}h.toString=x})(m||(e.Trace=m={}));var T;(function(h){h.Text="text",h.JSON="json"})(T||(e.TraceFormat=T={})),(function(h){function N(x){return n.string(x)?(x=x.toLowerCase(),x==="json"?h.JSON:h.Text):h.Text}h.fromString=N})(T||(e.TraceFormat=T={}));var J;(function(h){h.type=new r.NotificationType("$/setTrace")})(J||(e.SetTraceNotification=J={}));var U;(function(h){h.type=new r.NotificationType("$/logTrace")})(U||(e.LogTraceNotification=U={}));var I;(function(h){h[h.Closed=1]="Closed",h[h.Disposed=2]="Disposed",h[h.AlreadyListening=3]="AlreadyListening"})(I||(e.ConnectionErrors=I={}));class C extends Error{constructor(N,x){super(x),this.code=N,Object.setPrototypeOf(this,C.prototype)}}e.ConnectionError=C;var L;(function(h){function N(x){const M=x;return M&&n.func(M.cancelUndispatched)}h.is=N})(L||(e.ConnectionStrategy=L={}));var re;(function(h){function N(x){const M=x;return M&&(M.kind===void 0||M.kind==="id")&&n.func(M.createCancellationTokenSource)&&(M.dispose===void 0||n.func(M.dispose))}h.is=N})(re||(e.IdCancellationReceiverStrategy=re={}));var ye;(function(h){function N(x){const M=x;return M&&M.kind==="request"&&n.func(M.createCancellationTokenSource)&&(M.dispose===void 0||n.func(M.dispose))}h.is=N})(ye||(e.RequestCancellationReceiverStrategy=ye={}));var z;(function(h){h.Message=Object.freeze({createCancellationTokenSource(x){return new s.CancellationTokenSource}});function N(x){return re.is(x)||ye.is(x)}h.is=N})(z||(e.CancellationReceiverStrategy=z={}));var X;(function(h){h.Message=Object.freeze({sendCancellation(x,M){return x.sendNotification(c.type,{id:M})},cleanup(x){}});function N(x){const M=x;return M&&n.func(M.sendCancellation)&&n.func(M.cleanup)}h.is=N})(X||(e.CancellationSenderStrategy=X={}));var ee;(function(h){h.Message=Object.freeze({receiver:z.Message,sender:X.Message});function N(x){const M=x;return M&&z.is(M.receiver)&&X.is(M.sender)}h.is=N})(ee||(e.CancellationStrategy=ee={}));var _e;(function(h){function N(x){const M=x;return M&&n.func(M.handleMessage)}h.is=N})(_e||(e.MessageStrategy=_e={}));var qe;(function(h){function N(x){const M=x;return M&&(ee.is(M.cancellationStrategy)||L.is(M.connectionStrategy)||_e.is(M.messageStrategy))}h.is=N})(qe||(e.ConnectionOptions=qe={}));var ge;(function(h){h[h.New=1]="New",h[h.Listening=2]="Listening",h[h.Closed=3]="Closed",h[h.Disposed=4]="Disposed"})(ge||(ge={}));function W(h,N,x,M){const V=x!==void 0?x:e.NullLogger;let It=0,At=0,Lt=0;const We="2.0";let He;const Ve=new Map;let xe;const Ue=new Map,Je=new Map;let ct,Fe=new i.LinkedMap,Ie=new Map,A=new Set,g=new Map,y=m.Off,F=T.Text,p,ie=ge.New;const Pe=new o.Emitter,$e=new o.Emitter,gt=new o.Emitter,bt=new o.Emitter,ht=new o.Emitter,Me=M&&M.cancellationStrategy?M.cancellationStrategy:ee.Message;function Xe(f){if(f===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+f.toString()}function Xt(f){return f===null?"res-unknown-"+(++Lt).toString():"res-"+f.toString()}function at(){return"not-"+(++At).toString()}function ut(f,P){r.Message.isRequest(P)?f.set(Xe(P.id),P):r.Message.isResponse(P)?f.set(Xt(P.id),P):f.set(at(),P)}function dt(f){}function Ae(){return ie===ge.Listening}function v(){return ie===ge.Closed}function R(){return ie===ge.Disposed}function S(){(ie===ge.New||ie===ge.Listening)&&(ie=ge.Closed,$e.fire(void 0))}function Ee(f){Pe.fire([f,void 0,void 0])}function Se(f){Pe.fire(f)}h.onClose(S),h.onError(Ee),N.onClose(S),N.onError(Se);function Wt(){ct||Fe.size===0||(ct=(0,t.default)().timer.setImmediate(()=>{ct=void 0,Zn()}))}function Ln(f){r.Message.isRequest(f)?tr(f):r.Message.isNotification(f)?rr(f):r.Message.isResponse(f)?nr(f):ir(f)}function Zn(){if(Fe.size===0)return;const f=Fe.shift();try{const P=M?.messageStrategy;_e.is(P)?P.handleMessage(f,Ln):Ln(f)}finally{Wt()}}const er=f=>{try{if(r.Message.isNotification(f)&&f.method===c.type.method){const P=f.params.id,k=Xe(P),q=Fe.get(k);if(r.Message.isRequest(q)){const ne=M?.connectionStrategy,de=ne&&ne.cancelUndispatched?ne.cancelUndispatched(q,dt):void 0;if(de&&(de.error!==void 0||de.result!==void 0)){Fe.delete(k),g.delete(P),de.id=q.id,Ht(de,f.method,Date.now()),N.write(de).catch(()=>V.error("Sending response for canceled message failed."));return}}const oe=g.get(P);if(oe!==void 0){oe.cancel(),Qt(f);return}else A.add(P)}ut(Fe,f)}finally{Wt()}};function tr(f){if(R())return;function P(G,ae,te){const pe={jsonrpc:We,id:f.id};G instanceof r.ResponseError?pe.error=G.toJson():pe.result=G===void 0?null:G,Ht(pe,ae,te),N.write(pe).catch(()=>V.error("Sending response failed."))}function k(G,ae,te){const pe={jsonrpc:We,id:f.id,error:G.toJson()};Ht(pe,ae,te),N.write(pe).catch(()=>V.error("Sending response failed."))}function q(G,ae,te){G===void 0&&(G=null);const pe={jsonrpc:We,id:f.id,result:G};Ht(pe,ae,te),N.write(pe).catch(()=>V.error("Sending response failed."))}cr(f);const oe=Ve.get(f.method);let ne,de;oe&&(ne=oe.type,de=oe.handler);const me=Date.now();if(de||He){const G=f.id??String(Date.now()),ae=re.is(Me.receiver)?Me.receiver.createCancellationTokenSource(G):Me.receiver.createCancellationTokenSource(f);f.id!==null&&A.has(f.id)&&ae.cancel(),f.id!==null&&g.set(G,ae);try{let te;if(de)if(f.params===void 0){if(ne!==void 0&&ne.numberOfParams!==0){k(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${f.method} defines ${ne.numberOfParams} params but received none.`),f.method,me);return}te=de(ae.token)}else if(Array.isArray(f.params)){if(ne!==void 0&&ne.parameterStructures===r.ParameterStructures.byName){k(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${f.method} defines parameters by name but received parameters by position`),f.method,me);return}te=de(...f.params,ae.token)}else{if(ne!==void 0&&ne.parameterStructures===r.ParameterStructures.byPosition){k(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${f.method} defines parameters by position but received parameters by name`),f.method,me);return}te=de(f.params,ae.token)}else He&&(te=He(f.method,f.params,ae.token));const pe=te;te?pe.then?pe.then(Ce=>{g.delete(G),P(Ce,f.method,me)},Ce=>{g.delete(G),Ce instanceof r.ResponseError?k(Ce,f.method,me):Ce&&n.string(Ce.message)?k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${Ce.message}`),f.method,me):k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,me)}):(g.delete(G),P(te,f.method,me)):(g.delete(G),q(te,f.method,me))}catch(te){g.delete(G),te instanceof r.ResponseError?P(te,f.method,me):te&&n.string(te.message)?k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${te.message}`),f.method,me):k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,me)}}else k(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${f.method}`),f.method,me)}function nr(f){if(!R())if(f.id===null)f.error?V.error(`Received response message without id: Error is: 
${JSON.stringify(f.error,void 0,4)}`):V.error("Received response message without id. No further error information provided.");else{const P=f.id,k=Ie.get(P);if(ar(f,k),k!==void 0){Ie.delete(P);try{if(f.error){const q=f.error;k.reject(new r.ResponseError(q.code,q.message,q.data))}else if(f.result!==void 0)k.resolve(f.result);else throw new Error("Should never happen.")}catch(q){q.message?V.error(`Response handler '${k.method}' failed with message: ${q.message}`):V.error(`Response handler '${k.method}' failed unexpectedly.`)}}}}function rr(f){if(R())return;let P,k;if(f.method===c.type.method){const q=f.params.id;A.delete(q),Qt(f);return}else{const q=Ue.get(f.method);q&&(k=q.handler,P=q.type)}if(k||xe)try{if(Qt(f),k)if(f.params===void 0)P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==r.ParameterStructures.byName&&V.error(`Notification ${f.method} defines ${P.numberOfParams} params but received none.`),k();else if(Array.isArray(f.params)){const q=f.params;f.method===d.type.method&&q.length===2&&a.is(q[0])?k({token:q[0],value:q[1]}):(P!==void 0&&(P.parameterStructures===r.ParameterStructures.byName&&V.error(`Notification ${f.method} defines parameters by name but received parameters by position`),P.numberOfParams!==f.params.length&&V.error(`Notification ${f.method} defines ${P.numberOfParams} params but received ${q.length} arguments`)),k(...q))}else P!==void 0&&P.parameterStructures===r.ParameterStructures.byPosition&&V.error(`Notification ${f.method} defines parameters by position but received parameters by name`),k(f.params);else xe&&xe(f.method,f.params)}catch(q){q.message?V.error(`Notification handler '${f.method}' failed with message: ${q.message}`):V.error(`Notification handler '${f.method}' failed unexpectedly.`)}else gt.fire(f)}function ir(f){if(!f){V.error("Received empty message.");return}V.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(f,null,4)}`);const P=f;if(n.string(P.id)||n.number(P.id)){const k=P.id,q=Ie.get(k);q&&q.reject(new Error("The received response has neither a result nor an error property."))}}function Be(f){if(f!=null)switch(y){case m.Verbose:return JSON.stringify(f,null,4);case m.Compact:return JSON.stringify(f);default:return}}function or(f){if(!(y===m.Off||!p))if(F===T.Text){let P;(y===m.Verbose||y===m.Compact)&&f.params&&(P=`Params: ${Be(f.params)}

`),p.log(`Sending request '${f.method} - (${f.id})'.`,P)}else ft("send-request",f)}function sr(f){if(!(y===m.Off||!p))if(F===T.Text){let P;(y===m.Verbose||y===m.Compact)&&(f.params?P=`Params: ${Be(f.params)}

`:P=`No parameters provided.

`),p.log(`Sending notification '${f.method}'.`,P)}else ft("send-notification",f)}function Ht(f,P,k){if(!(y===m.Off||!p))if(F===T.Text){let q;(y===m.Verbose||y===m.Compact)&&(f.error&&f.error.data?q=`Error data: ${Be(f.error.data)}

`:f.result?q=`Result: ${Be(f.result)}

`:f.error===void 0&&(q=`No result returned.

`)),p.log(`Sending response '${P} - (${f.id})'. Processing request took ${Date.now()-k}ms`,q)}else ft("send-response",f)}function cr(f){if(!(y===m.Off||!p))if(F===T.Text){let P;(y===m.Verbose||y===m.Compact)&&f.params&&(P=`Params: ${Be(f.params)}

`),p.log(`Received request '${f.method} - (${f.id})'.`,P)}else ft("receive-request",f)}function Qt(f){if(!(y===m.Off||!p||f.method===U.type.method))if(F===T.Text){let P;(y===m.Verbose||y===m.Compact)&&(f.params?P=`Params: ${Be(f.params)}

`:P=`No parameters provided.

`),p.log(`Received notification '${f.method}'.`,P)}else ft("receive-notification",f)}function ar(f,P){if(!(y===m.Off||!p))if(F===T.Text){let k;if((y===m.Verbose||y===m.Compact)&&(f.error&&f.error.data?k=`Error data: ${Be(f.error.data)}

`:f.result?k=`Result: ${Be(f.result)}

`:f.error===void 0&&(k=`No result returned.

`)),P){const q=f.error?` Request failed: ${f.error.message} (${f.error.code}).`:"";p.log(`Received response '${P.method} - (${f.id})' in ${Date.now()-P.timerStart}ms.${q}`,k)}else p.log(`Received response ${f.id} without active response promise.`,k)}else ft("receive-response",f)}function ft(f,P){if(!p||y===m.Off)return;const k={isLSPMessage:!0,type:f,message:P,timestamp:Date.now()};p.log(k)}function mt(){if(v())throw new C(I.Closed,"Connection is closed.");if(R())throw new C(I.Disposed,"Connection is disposed.")}function ur(){if(Ae())throw new C(I.AlreadyListening,"Connection is already listening")}function dr(){if(!Ae())throw new Error("Call listen() first.")}function wt(f){return f===void 0?null:f}function Wn(f){if(f!==null)return f}function u(f){return f!=null&&!Array.isArray(f)&&typeof f=="object"}function be(f,P){switch(f){case r.ParameterStructures.auto:return u(P)?Wn(P):[wt(P)];case r.ParameterStructures.byName:if(!u(P))throw new Error("Received parameters by name but param is not an object literal.");return Wn(P);case r.ParameterStructures.byPosition:return[wt(P)];default:throw new Error(`Unknown parameter structure ${f.toString()}`)}}function he(f,P){let k;const q=f.numberOfParams;switch(q){case 0:k=void 0;break;case 1:k=be(f.parameterStructures,P[0]);break;default:k=[];for(let oe=0;oe<P.length&&oe<q;oe++)k.push(wt(P[oe]));if(P.length<q)for(let oe=P.length;oe<q;oe++)k.push(null);break}return k}const $={sendNotification:(f,...P)=>{mt();let k,q;if(n.string(f)){k=f;const ne=P[0];let de=0,me=r.ParameterStructures.auto;r.ParameterStructures.is(ne)&&(de=1,me=ne);let G=P.length;const ae=G-de;switch(ae){case 0:q=void 0;break;case 1:q=be(me,P[de]);break;default:if(me===r.ParameterStructures.byName)throw new Error(`Received ${ae} parameters for 'by Name' notification parameter structure.`);q=P.slice(de,G).map(te=>wt(te));break}}else{const ne=P;k=f.method,q=he(f,ne)}const oe={jsonrpc:We,method:k,params:q};return sr(oe),N.write(oe).catch(ne=>{throw V.error("Sending notification failed."),ne})},onNotification:(f,P)=>{mt();let k;return n.func(f)?xe=f:P&&(n.string(f)?(k=f,Ue.set(f,{type:void 0,handler:P})):(k=f.method,Ue.set(f.method,{type:f,handler:P}))),{dispose:()=>{k!==void 0?Ue.delete(k):xe=void 0}}},onProgress:(f,P,k)=>{if(Je.has(P))throw new Error(`Progress handler for token ${P} already registered`);return Je.set(P,k),{dispose:()=>{Je.delete(P)}}},sendProgress:(f,P,k)=>$.sendNotification(d.type,{token:P,value:k}),onUnhandledProgress:bt.event,sendRequest:(f,...P)=>{mt(),dr();let k,q,oe;if(n.string(f)){k=f;const G=P[0],ae=P[P.length-1];let te=0,pe=r.ParameterStructures.auto;r.ParameterStructures.is(G)&&(te=1,pe=G);let Ce=P.length;s.CancellationToken.is(ae)&&(Ce=Ce-1,oe=ae);const Qe=Ce-te;switch(Qe){case 0:q=void 0;break;case 1:q=be(pe,P[te]);break;default:if(pe===r.ParameterStructures.byName)throw new Error(`Received ${Qe} parameters for 'by Name' request parameter structure.`);q=P.slice(te,Ce).map(lc=>wt(lc));break}}else{const G=P;k=f.method,q=he(f,G);const ae=f.numberOfParams;oe=s.CancellationToken.is(G[ae])?G[ae]:void 0}const ne=It++;let de;oe&&(de=oe.onCancellationRequested(()=>{const G=Me.sender.sendCancellation($,ne);return G===void 0?(V.log(`Received no promise from cancellation strategy when cancelling id ${ne}`),Promise.resolve()):G.catch(()=>{V.log(`Sending cancellation messages for id ${ne} failed`)})}));const me={jsonrpc:We,id:ne,method:k,params:q};return or(me),typeof Me.sender.enableCancellation=="function"&&Me.sender.enableCancellation(me),new Promise(async(G,ae)=>{const te=Qe=>{G(Qe),Me.sender.cleanup(ne),de?.dispose()},pe=Qe=>{ae(Qe),Me.sender.cleanup(ne),de?.dispose()},Ce={method:k,timerStart:Date.now(),resolve:te,reject:pe};try{await N.write(me),Ie.set(ne,Ce)}catch(Qe){throw V.error("Sending request failed."),Ce.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Qe.message?Qe.message:"Unknown reason")),Qe}})},onRequest:(f,P)=>{mt();let k=null;return w.is(f)?(k=void 0,He=f):n.string(f)?(k=null,P!==void 0&&(k=f,Ve.set(f,{handler:P,type:void 0}))):P!==void 0&&(k=f.method,Ve.set(f.method,{type:f,handler:P})),{dispose:()=>{k!==null&&(k!==void 0?Ve.delete(k):He=void 0)}}},hasPendingResponse:()=>Ie.size>0,trace:async(f,P,k)=>{let q=!1,oe=T.Text;k!==void 0&&(n.boolean(k)?q=k:(q=k.sendNotification||!1,oe=k.traceFormat||T.Text)),y=f,F=oe,y===m.Off?p=void 0:p=P,q&&!v()&&!R()&&await $.sendNotification(J.type,{value:m.toString(f)})},onError:Pe.event,onClose:$e.event,onUnhandledNotification:gt.event,onDispose:ht.event,end:()=>{N.end()},dispose:()=>{if(R())return;ie=ge.Disposed,ht.fire(void 0);const f=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const P of Ie.values())P.reject(f);Ie=new Map,g=new Map,A=new Set,Fe=new i.LinkedMap,n.func(N.dispose)&&N.dispose(),n.func(h.dispose)&&h.dispose()},listen:()=>{mt(),ur(),ie=ge.Listening,h.listen(er)},inspect:()=>{(0,t.default)().console.log("inspect")}};return $.onNotification(U.type,f=>{if(y===m.Off||!p)return;const P=y===m.Verbose||y===m.Compact;p.log(f.message,P?f.verbose:void 0)}),$.onNotification(d.type,f=>{const P=Je.get(f.token);P?P(f.value):bt.fire(f)}),$}e.createMessageConnection=W})(br)),br}var Ui;function hr(){return Ui||(Ui=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=Oi();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=ji();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=_s();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=on();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=gr();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=gs();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return s.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return s.SharedArrayReceiverStrategy}});const c=bs();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const a=hs();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return a.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return a.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return a.WriteableStreamMessageWriter}});const d=ms();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return d.AbstractMessageBuffer}});const l=ws();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return l.MessageStrategy}});const w=Tt();e.RAL=w.default})(_r)),_r}var Ji;function ps(){if(Ji)return Bn;Ji=1,Object.defineProperty(Bn,"__esModule",{value:!0});const e=hr();class t extends e.AbstractMessageBuffer{constructor(a="utf-8"){super(a),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return t.emptyBuffer}fromString(a,d){return new TextEncoder().encode(a)}toString(a,d){return d==="ascii"?this.asciiDecoder.decode(a):new TextDecoder(d).decode(a)}asNative(a,d){return d===void 0?a:a.slice(0,d)}allocNative(a){return new Uint8Array(a)}}t.emptyBuffer=new Uint8Array(0);class n{constructor(a){this.socket=a,this._onData=new e.Emitter,this._messageListener=d=>{d.data.arrayBuffer().then(w=>{this._onData.fire(new Uint8Array(w))},()=>{(0,e.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(a){return this.socket.addEventListener("close",a),e.Disposable.create(()=>this.socket.removeEventListener("close",a))}onError(a){return this.socket.addEventListener("error",a),e.Disposable.create(()=>this.socket.removeEventListener("error",a))}onEnd(a){return this.socket.addEventListener("end",a),e.Disposable.create(()=>this.socket.removeEventListener("end",a))}onData(a){return this._onData.event(a)}}class r{constructor(a){this.socket=a}onClose(a){return this.socket.addEventListener("close",a),e.Disposable.create(()=>this.socket.removeEventListener("close",a))}onError(a){return this.socket.addEventListener("error",a),e.Disposable.create(()=>this.socket.removeEventListener("error",a))}onEnd(a){return this.socket.addEventListener("end",a),e.Disposable.create(()=>this.socket.removeEventListener("end",a))}write(a,d){if(typeof a=="string"){if(d!==void 0&&d!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${d}`);this.socket.send(a)}else this.socket.send(a);return Promise.resolve()}end(){this.socket.close()}}const i=new TextEncoder,o=Object.freeze({messageBuffer:Object.freeze({create:c=>new t(c)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(c,a)=>{if(a.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${a.charset}`);return Promise.resolve(i.encode(JSON.stringify(c,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(c,a)=>{if(!(c instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(a.charset).decode(c)))}})}),stream:Object.freeze({asReadableStream:c=>new n(c),asWritableStream:c=>new r(c)}),console,timer:Object.freeze({setTimeout(c,a,...d){const l=setTimeout(c,a,...d);return{dispose:()=>clearTimeout(l)}},setImmediate(c,...a){const d=setTimeout(c,0,...a);return{dispose:()=>clearTimeout(d)}},setInterval(c,a,...d){const l=setInterval(c,a,...d);return{dispose:()=>clearInterval(l)}}})});function s(){return o}return(function(c){function a(){e.RAL.install(o)}c.install=a})(s||(s={})),Bn.default=s,Bn}var Xi;function Bt(){return Xi||(Xi=1,(function(e){var t=Dt&&Dt.__createBinding||(Object.create?(function(a,d,l,w){w===void 0&&(w=l);var m=Object.getOwnPropertyDescriptor(d,l);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[l]}}),Object.defineProperty(a,w,m)}):(function(a,d,l,w){w===void 0&&(w=l),a[w]=d[l]})),n=Dt&&Dt.__exportStar||function(a,d){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(d,l)&&t(d,a,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,ps().default.install();const i=hr();n(hr(),e);class o extends i.AbstractMessageReader{constructor(d){super(),this._onData=new i.Emitter,this._messageListener=l=>{this._onData.fire(l.data)},d.addEventListener("error",l=>this.fireError(l)),d.onmessage=this._messageListener}listen(d){return this._onData.event(d)}}e.BrowserMessageReader=o;class s extends i.AbstractMessageWriter{constructor(d){super(),this.port=d,this.errorCount=0,d.addEventListener("error",l=>this.fireError(l))}write(d){try{return this.port.postMessage(d),Promise.resolve()}catch(l){return this.handleError(l,d),Promise.reject(l)}}handleError(d,l){this.errorCount++,this.fireError(d,l,this.errorCount)}end(){}}e.BrowserMessageWriter=s;function c(a,d,l,w){return l===void 0&&(l=i.NullLogger),i.ConnectionStrategy.is(w)&&(w={connectionStrategy:w}),(0,i.createMessageConnection)(a,d,l,w)}e.createMessageConnection=c})(Dt)),Dt}var mr,Qi;function Yi(){return Qi||(Qi=1,mr=Bt()),mr}var Ct={},wr;(function(e){function t(n){return typeof n=="string"}e.is=t})(wr||(wr={}));var Vn;(function(e){function t(n){return typeof n=="string"}e.is=t})(Vn||(Vn={}));var pr;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(pr||(pr={}));var an;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(an||(an={}));var je;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=an.MAX_VALUE),i===Number.MAX_VALUE&&(i=an.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return _.objectLiteral(i)&&_.uinteger(i.line)&&_.uinteger(i.character)}e.is=n})(je||(je={}));var ue;(function(e){function t(r,i,o,s){if(_.uinteger(r)&&_.uinteger(i)&&_.uinteger(o)&&_.uinteger(s))return{start:je.create(r,i),end:je.create(o,s)};if(je.is(r)&&je.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${s}]`)}e.create=t;function n(r){let i=r;return _.objectLiteral(i)&&je.is(i.start)&&je.is(i.end)}e.is=n})(ue||(ue={}));var un;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return _.objectLiteral(i)&&ue.is(i.range)&&(_.string(i.uri)||_.undefined(i.uri))}e.is=n})(un||(un={}));var yr;(function(e){function t(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function n(r){let i=r;return _.objectLiteral(i)&&ue.is(i.targetRange)&&_.string(i.targetUri)&&ue.is(i.targetSelectionRange)&&(ue.is(i.originSelectionRange)||_.undefined(i.originSelectionRange))}e.is=n})(yr||(yr={}));var Un;(function(e){function t(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}e.create=t;function n(r){const i=r;return _.objectLiteral(i)&&_.numberRange(i.red,0,1)&&_.numberRange(i.green,0,1)&&_.numberRange(i.blue,0,1)&&_.numberRange(i.alpha,0,1)}e.is=n})(Un||(Un={}));var vr;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return _.objectLiteral(i)&&ue.is(i.range)&&Un.is(i.color)}e.is=n})(vr||(vr={}));var Rr;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){const i=r;return _.objectLiteral(i)&&_.string(i.label)&&(_.undefined(i.textEdit)||ze.is(i))&&(_.undefined(i.additionalTextEdits)||_.typedArray(i.additionalTextEdits,ze.is))}e.is=n})(Rr||(Rr={}));var Dr;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Dr||(Dr={}));var Pr;(function(e){function t(r,i,o,s,c,a){const d={startLine:r,endLine:i};return _.defined(o)&&(d.startCharacter=o),_.defined(s)&&(d.endCharacter=s),_.defined(c)&&(d.kind=c),_.defined(a)&&(d.collapsedText=a),d}e.create=t;function n(r){const i=r;return _.objectLiteral(i)&&_.uinteger(i.startLine)&&_.uinteger(i.startLine)&&(_.undefined(i.startCharacter)||_.uinteger(i.startCharacter))&&(_.undefined(i.endCharacter)||_.uinteger(i.endCharacter))&&(_.undefined(i.kind)||_.string(i.kind))}e.is=n})(Pr||(Pr={}));var Jn;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return _.defined(i)&&un.is(i.location)&&_.string(i.message)}e.is=n})(Jn||(Jn={}));var Tr;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Tr||(Tr={}));var kr;(function(e){e.Unnecessary=1,e.Deprecated=2})(kr||(kr={}));var Sr;(function(e){function t(n){const r=n;return _.objectLiteral(r)&&_.string(r.href)}e.is=t})(Sr||(Sr={}));var dn;(function(e){function t(r,i,o,s,c,a){let d={range:r,message:i};return _.defined(o)&&(d.severity=o),_.defined(s)&&(d.code=s),_.defined(c)&&(d.source=c),_.defined(a)&&(d.relatedInformation=a),d}e.create=t;function n(r){var i;let o=r;return _.defined(o)&&ue.is(o.range)&&_.string(o.message)&&(_.number(o.severity)||_.undefined(o.severity))&&(_.integer(o.code)||_.string(o.code)||_.undefined(o.code))&&(_.undefined(o.codeDescription)||_.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(_.string(o.source)||_.undefined(o.source))&&(_.undefined(o.relatedInformation)||_.typedArray(o.relatedInformation,Jn.is))}e.is=n})(dn||(dn={}));var qt;(function(e){function t(r,i,...o){let s={title:r,command:i};return _.defined(o)&&o.length>0&&(s.arguments=o),s}e.create=t;function n(r){let i=r;return _.defined(i)&&_.string(i.title)&&_.string(i.command)}e.is=n})(qt||(qt={}));var ze;(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function n(o,s){return{range:{start:o,end:o},newText:s}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){const s=o;return _.objectLiteral(s)&&_.string(s.newText)&&ue.is(s.range)}e.is=i})(ze||(ze={}));var Mt;(function(e){function t(r,i,o){const s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function n(r){const i=r;return _.objectLiteral(i)&&_.string(i.label)&&(_.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(_.string(i.description)||i.description===void 0)}e.is=n})(Mt||(Mt={}));var Re;(function(e){function t(n){const r=n;return _.string(r)}e.is=t})(Re||(Re={}));var et;(function(e){function t(o,s,c){return{range:o,newText:s,annotationId:c}}e.replace=t;function n(o,s,c){return{range:{start:o,end:o},newText:s,annotationId:c}}e.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}e.del=r;function i(o){const s=o;return ze.is(s)&&(Mt.is(s.annotationId)||Re.is(s.annotationId))}e.is=i})(et||(et={}));var fn;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return _.defined(i)&&ln.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(fn||(fn={}));var zt;(function(e){function t(r,i,o){let s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&_.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||_.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||_.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Re.is(i.annotationId))}e.is=n})(zt||(zt={}));var Vt;(function(e){function t(r,i,o,s){let c={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),s!==void 0&&(c.annotationId=s),c}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&_.string(i.oldUri)&&_.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||_.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||_.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Re.is(i.annotationId))}e.is=n})(Vt||(Vt={}));var Ut;(function(e){function t(r,i,o){let s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&_.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||_.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||_.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Re.is(i.annotationId))}e.is=n})(Ut||(Ut={}));var Xn;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>_.string(i.kind)?zt.is(i)||Vt.is(i)||Ut.is(i):fn.is(i)))}e.is=t})(Xn||(Xn={}));class Qn{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,o;if(r===void 0?i=ze.insert(t,n):Re.is(r)?(o=r,i=et.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=et.insert(t,n,o)),this.edits.push(i),o!==void 0)return o}replace(t,n,r){let i,o;if(r===void 0?i=ze.replace(t,n):Re.is(r)?(o=r,i=et.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=et.replace(t,n,o)),this.edits.push(i),o!==void 0)return o}delete(t,n){let r,i;if(n===void 0?r=ze.del(t):Re.is(n)?(i=n,r=et.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=et.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Gi{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(Re.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class ys{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new Gi(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(fn.is(n)){const r=new Qn(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{const r=new Qn(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(ln.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Qn(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new Qn(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Gi,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Mt.is(n)||Re.is(n)?i=n:r=n;let o,s;if(i===void 0?o=zt.create(t,r):(s=Re.is(i)?i:this._changeAnnotations.manage(i),o=zt.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;Mt.is(r)||Re.is(r)?o=r:i=r;let s,c;if(o===void 0?s=Vt.create(t,n,i):(c=Re.is(o)?o:this._changeAnnotations.manage(o),s=Vt.create(t,n,i,c)),this._workspaceEdit.documentChanges.push(s),c!==void 0)return c}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Mt.is(n)||Re.is(n)?i=n:r=n;let o,s;if(i===void 0?o=Ut.create(t,r):(s=Re.is(i)?i:this._changeAnnotations.manage(i),o=Ut.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}}var Cr;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return _.defined(i)&&_.string(i.uri)}e.is=n})(Cr||(Cr={}));var qr;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return _.defined(i)&&_.string(i.uri)&&_.integer(i.version)}e.is=n})(qr||(qr={}));var ln;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return _.defined(i)&&_.string(i.uri)&&(i.version===null||_.integer(i.version))}e.is=n})(ln||(ln={}));var Mr;(function(e){function t(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}e.create=t;function n(r){let i=r;return _.defined(i)&&_.string(i.uri)&&_.string(i.languageId)&&_.integer(i.version)&&_.string(i.text)}e.is=n})(Mr||(Mr={}));var Yn;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Yn||(Yn={}));var Jt;(function(e){function t(n){const r=n;return _.objectLiteral(n)&&Yn.is(r.kind)&&_.string(r.value)}e.is=t})(Jt||(Jt={}));var Er;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Er||(Er={}));var Or;(function(e){e.PlainText=1,e.Snippet=2})(Or||(Or={}));var Nr;(function(e){e.Deprecated=1})(Nr||(Nr={}));var jr;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){const i=r;return i&&_.string(i.newText)&&ue.is(i.insert)&&ue.is(i.replace)}e.is=n})(jr||(jr={}));var Fr;(function(e){e.asIs=1,e.adjustIndentation=2})(Fr||(Fr={}));var Ir;(function(e){function t(n){const r=n;return r&&(_.string(r.detail)||r.detail===void 0)&&(_.string(r.description)||r.description===void 0)}e.is=t})(Ir||(Ir={}));var Ar;(function(e){function t(n){return{label:n}}e.create=t})(Ar||(Ar={}));var Lr;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(Lr||(Lr={}));var _n;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return _.string(i)||_.objectLiteral(i)&&_.string(i.language)&&_.string(i.value)}e.is=n})(_n||(_n={}));var Wr;(function(e){function t(n){let r=n;return!!r&&_.objectLiteral(r)&&(Jt.is(r.contents)||_n.is(r.contents)||_.typedArray(r.contents,_n.is))&&(n.range===void 0||ue.is(n.range))}e.is=t})(Wr||(Wr={}));var Hr;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Hr||(Hr={}));var xr;(function(e){function t(n,r,...i){let o={label:n};return _.defined(r)&&(o.documentation=r),_.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(xr||(xr={}));var $r;(function(e){e.Text=1,e.Read=2,e.Write=3})($r||($r={}));var Br;(function(e){function t(n,r){let i={range:n};return _.number(r)&&(i.kind=r),i}e.create=t})(Br||(Br={}));var zr;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(zr||(zr={}));var Vr;(function(e){e.Deprecated=1})(Vr||(Vr={}));var Ur;(function(e){function t(n,r,i,o,s){let c={name:n,kind:r,location:{uri:o,range:i}};return s&&(c.containerName=s),c}e.create=t})(Ur||(Ur={}));var Jr;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(Jr||(Jr={}));var Xr;(function(e){function t(r,i,o,s,c,a){let d={name:r,detail:i,kind:o,range:s,selectionRange:c};return a!==void 0&&(d.children=a),d}e.create=t;function n(r){let i=r;return i&&_.string(i.name)&&_.number(i.kind)&&ue.is(i.range)&&ue.is(i.selectionRange)&&(i.detail===void 0||_.string(i.detail))&&(i.deprecated===void 0||_.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(Xr||(Xr={}));var Qr;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Qr||(Qr={}));var gn;(function(e){e.Invoked=1,e.Automatic=2})(gn||(gn={}));var Yr;(function(e){function t(r,i,o){let s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function n(r){let i=r;return _.defined(i)&&_.typedArray(i.diagnostics,dn.is)&&(i.only===void 0||_.typedArray(i.only,_.string))&&(i.triggerKind===void 0||i.triggerKind===gn.Invoked||i.triggerKind===gn.Automatic)}e.is=n})(Yr||(Yr={}));var Gr;(function(e){function t(r,i,o){let s={title:r},c=!0;return typeof i=="string"?(c=!1,s.kind=i):qt.is(i)?s.command=i:s.edit=i,c&&o!==void 0&&(s.kind=o),s}e.create=t;function n(r){let i=r;return i&&_.string(i.title)&&(i.diagnostics===void 0||_.typedArray(i.diagnostics,dn.is))&&(i.kind===void 0||_.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||qt.is(i.command))&&(i.isPreferred===void 0||_.boolean(i.isPreferred))&&(i.edit===void 0||Xn.is(i.edit))}e.is=n})(Gr||(Gr={}));var Kr;(function(e){function t(r,i){let o={range:r};return _.defined(i)&&(o.data=i),o}e.create=t;function n(r){let i=r;return _.defined(i)&&ue.is(i.range)&&(_.undefined(i.command)||qt.is(i.command))}e.is=n})(Kr||(Kr={}));var Zr;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return _.defined(i)&&_.uinteger(i.tabSize)&&_.boolean(i.insertSpaces)}e.is=n})(Zr||(Zr={}));var ei;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){let i=r;return _.defined(i)&&ue.is(i.range)&&(_.undefined(i.target)||_.string(i.target))}e.is=n})(ei||(ei={}));var ti;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return _.objectLiteral(i)&&ue.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(ti||(ti={}));var ni;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ni||(ni={}));var ri;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(ri||(ri={}));var ii;(function(e){function t(n){const r=n;return _.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(ii||(ii={}));var oi;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!=null&&ue.is(i.range)&&_.string(i.text)}e.is=n})(oi||(oi={}));var si;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){const i=r;return i!=null&&ue.is(i.range)&&_.boolean(i.caseSensitiveLookup)&&(_.string(i.variableName)||i.variableName===void 0)}e.is=n})(si||(si={}));var ci;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!=null&&ue.is(i.range)&&(_.string(i.expression)||i.expression===void 0)}e.is=n})(ci||(ci={}));var ai;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return _.defined(i)&&ue.is(r.stoppedLocation)}e.is=n})(ai||(ai={}));var Gn;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(Gn||(Gn={}));var Kn;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return _.objectLiteral(i)&&(i.tooltip===void 0||_.string(i.tooltip)||Jt.is(i.tooltip))&&(i.location===void 0||un.is(i.location))&&(i.command===void 0||qt.is(i.command))}e.is=n})(Kn||(Kn={}));var ui;(function(e){function t(r,i,o){const s={position:r,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function n(r){const i=r;return _.objectLiteral(i)&&je.is(i.position)&&(_.string(i.label)||_.typedArray(i.label,Kn.is))&&(i.kind===void 0||Gn.is(i.kind))&&i.textEdits===void 0||_.typedArray(i.textEdits,ze.is)&&(i.tooltip===void 0||_.string(i.tooltip)||Jt.is(i.tooltip))&&(i.paddingLeft===void 0||_.boolean(i.paddingLeft))&&(i.paddingRight===void 0||_.boolean(i.paddingRight))}e.is=n})(ui||(ui={}));var di;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(di||(di={}));var fi;(function(e){function t(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}e.create=t})(fi||(fi={}));var li;(function(e){function t(n){return{items:n}}e.create=t})(li||(li={}));var _i;(function(e){e.Invoked=0,e.Automatic=1})(_i||(_i={}));var gi;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(gi||(gi={}));var bi;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(bi||(bi={}));var hi;(function(e){function t(n){const r=n;return _.objectLiteral(r)&&Vn.is(r.uri)&&_.string(r.name)}e.is=t})(hi||(hi={}));const vs=[`
`,`\r
`,"\r"];var mi;(function(e){function t(o,s,c,a){return new Rs(o,s,c,a)}e.create=t;function n(o){let s=o;return!!(_.defined(s)&&_.string(s.uri)&&(_.undefined(s.languageId)||_.string(s.languageId))&&_.uinteger(s.lineCount)&&_.func(s.getText)&&_.func(s.positionAt)&&_.func(s.offsetAt))}e.is=n;function r(o,s){let c=o.getText(),a=i(s,(l,w)=>{let m=l.range.start.line-w.range.start.line;return m===0?l.range.start.character-w.range.start.character:m}),d=c.length;for(let l=a.length-1;l>=0;l--){let w=a[l],m=o.offsetAt(w.range.start),b=o.offsetAt(w.range.end);if(b<=d)c=c.substring(0,m)+w.newText+c.substring(b,c.length);else throw new Error("Overlapping edit");d=m}return c}e.applyEdits=r;function i(o,s){if(o.length<=1)return o;const c=o.length/2|0,a=o.slice(0,c),d=o.slice(c);i(a,s),i(d,s);let l=0,w=0,m=0;for(;l<a.length&&w<d.length;)s(a[l],d[w])<=0?o[m++]=a[l++]:o[m++]=d[w++];for(;l<a.length;)o[m++]=a[l++];for(;w<d.length;)o[m++]=d[w++];return o}})(mi||(mi={}));class Rs{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return je.create(0,t);for(;r<i;){let s=Math.floor((r+i)/2);n[s]>t?i=s:r=s+1}let o=r-1;return je.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var _;(function(e){const t=Object.prototype.toString;function n(b){return typeof b<"u"}e.defined=n;function r(b){return typeof b>"u"}e.undefined=r;function i(b){return b===!0||b===!1}e.boolean=i;function o(b){return t.call(b)==="[object String]"}e.string=o;function s(b){return t.call(b)==="[object Number]"}e.number=s;function c(b,T,J){return t.call(b)==="[object Number]"&&T<=b&&b<=J}e.numberRange=c;function a(b){return t.call(b)==="[object Number]"&&-2147483648<=b&&b<=2147483647}e.integer=a;function d(b){return t.call(b)==="[object Number]"&&0<=b&&b<=2147483647}e.uinteger=d;function l(b){return t.call(b)==="[object Function]"}e.func=l;function w(b){return b!==null&&typeof b=="object"}e.objectLiteral=w;function m(b,T){return Array.isArray(b)&&b.every(T)}e.typedArray=m})(_||(_={}));var Ds=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return et},get ChangeAnnotation(){return Mt},get ChangeAnnotationIdentifier(){return Re},get CodeAction(){return Gr},get CodeActionContext(){return Yr},get CodeActionKind(){return Qr},get CodeActionTriggerKind(){return gn},get CodeDescription(){return Sr},get CodeLens(){return Kr},get Color(){return Un},get ColorInformation(){return vr},get ColorPresentation(){return Rr},get Command(){return qt},get CompletionItem(){return Ar},get CompletionItemKind(){return Er},get CompletionItemLabelDetails(){return Ir},get CompletionItemTag(){return Nr},get CompletionList(){return Lr},get CreateFile(){return zt},get DeleteFile(){return Ut},get Diagnostic(){return dn},get DiagnosticRelatedInformation(){return Jn},get DiagnosticSeverity(){return Tr},get DiagnosticTag(){return kr},get DocumentHighlight(){return Br},get DocumentHighlightKind(){return $r},get DocumentLink(){return ei},get DocumentSymbol(){return Xr},get DocumentUri(){return wr},EOL:vs,get FoldingRange(){return Pr},get FoldingRangeKind(){return Dr},get FormattingOptions(){return Zr},get Hover(){return Wr},get InlayHint(){return ui},get InlayHintKind(){return Gn},get InlayHintLabelPart(){return Kn},get InlineCompletionContext(){return bi},get InlineCompletionItem(){return fi},get InlineCompletionList(){return li},get InlineCompletionTriggerKind(){return _i},get InlineValueContext(){return ai},get InlineValueEvaluatableExpression(){return ci},get InlineValueText(){return oi},get InlineValueVariableLookup(){return si},get InsertReplaceEdit(){return jr},get InsertTextFormat(){return Or},get InsertTextMode(){return Fr},get Location(){return un},get LocationLink(){return yr},get MarkedString(){return _n},get MarkupContent(){return Jt},get MarkupKind(){return Yn},get OptionalVersionedTextDocumentIdentifier(){return ln},get ParameterInformation(){return Hr},get Position(){return je},get Range(){return ue},get RenameFile(){return Vt},get SelectedCompletionInfo(){return gi},get SelectionRange(){return ti},get SemanticTokenModifiers(){return ri},get SemanticTokenTypes(){return ni},get SemanticTokens(){return ii},get SignatureInformation(){return xr},get StringValue(){return di},get SymbolInformation(){return Ur},get SymbolKind(){return zr},get SymbolTag(){return Vr},get TextDocument(){return mi},get TextDocumentEdit(){return fn},get TextDocumentIdentifier(){return Cr},get TextDocumentItem(){return Mr},get TextEdit(){return ze},get URI(){return Vn},get VersionedTextDocumentIdentifier(){return qr},WorkspaceChange:ys,get WorkspaceEdit(){return Xn},get WorkspaceFolder(){return hi},get WorkspaceSymbol(){return Jr},get integer(){return pr},get uinteger(){return an}}),wi=ls(Ds),Te={},Ki;function se(){if(Ki)return Te;Ki=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.ProtocolNotificationType=Te.ProtocolNotificationType0=Te.ProtocolRequestType=Te.ProtocolRequestType0=Te.RegistrationType=Te.MessageDirection=void 0;const e=Bt();var t;(function(c){c.clientToServer="clientToServer",c.serverToClient="serverToClient",c.both="both"})(t||(Te.MessageDirection=t={}));class n{constructor(a){this.method=a}}Te.RegistrationType=n;class r extends e.RequestType0{constructor(a){super(a)}}Te.ProtocolRequestType0=r;class i extends e.RequestType{constructor(a){super(a,e.ParameterStructures.byName)}}Te.ProtocolRequestType=i;class o extends e.NotificationType0{constructor(a){super(a)}}Te.ProtocolNotificationType0=o;class s extends e.NotificationType{constructor(a){super(a,e.ParameterStructures.byName)}}return Te.ProtocolNotificationType=s,Te}var pi={},fe={},Zi;function yi(){if(Zi)return fe;Zi=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.objectLiteral=fe.typedArray=fe.stringArray=fe.array=fe.func=fe.error=fe.number=fe.string=fe.boolean=void 0;function e(d){return d===!0||d===!1}fe.boolean=e;function t(d){return typeof d=="string"||d instanceof String}fe.string=t;function n(d){return typeof d=="number"||d instanceof Number}fe.number=n;function r(d){return d instanceof Error}fe.error=r;function i(d){return typeof d=="function"}fe.func=i;function o(d){return Array.isArray(d)}fe.array=o;function s(d){return o(d)&&d.every(l=>t(l))}fe.stringArray=s;function c(d,l){return Array.isArray(d)&&d.every(l)}fe.typedArray=c;function a(d){return d!==null&&typeof d=="object"}return fe.objectLiteral=a,fe}var bn={},eo;function Ps(){if(eo)return bn;eo=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.ImplementationRequest=void 0;const e=se();var t;return(function(n){n.method="textDocument/implementation",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(bn.ImplementationRequest=t={})),bn}var hn={},to;function Ts(){if(to)return hn;to=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.TypeDefinitionRequest=void 0;const e=se();var t;return(function(n){n.method="textDocument/typeDefinition",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(hn.TypeDefinitionRequest=t={})),hn}var Et={},no;function ks(){if(no)return Et;no=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.DidChangeWorkspaceFoldersNotification=Et.WorkspaceFoldersRequest=void 0;const e=se();var t;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)})(t||(Et.WorkspaceFoldersRequest=t={}));var n;return(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolNotificationType(r.method)})(n||(Et.DidChangeWorkspaceFoldersNotification=n={})),Et}var mn={},ro;function Ss(){if(ro)return mn;ro=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.ConfigurationRequest=void 0;const e=se();var t;return(function(n){n.method="workspace/configuration",n.messageDirection=e.MessageDirection.serverToClient,n.type=new e.ProtocolRequestType(n.method)})(t||(mn.ConfigurationRequest=t={})),mn}var Ot={},io;function Cs(){if(io)return Ot;io=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.ColorPresentationRequest=Ot.DocumentColorRequest=void 0;const e=se();var t;(function(r){r.method="textDocument/documentColor",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(Ot.DocumentColorRequest=t={}));var n;return(function(r){r.method="textDocument/colorPresentation",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(n||(Ot.ColorPresentationRequest=n={})),Ot}var Nt={},oo;function qs(){if(oo)return Nt;oo=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.FoldingRangeRefreshRequest=Nt.FoldingRangeRequest=void 0;const e=se();var t;(function(r){r.method="textDocument/foldingRange",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(Nt.FoldingRangeRequest=t={}));var n;return(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)})(n||(Nt.FoldingRangeRefreshRequest=n={})),Nt}var wn={},so;function Ms(){if(so)return wn;so=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.DeclarationRequest=void 0;const e=se();var t;return(function(n){n.method="textDocument/declaration",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(wn.DeclarationRequest=t={})),wn}var pn={},co;function Es(){if(co)return pn;co=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.SelectionRangeRequest=void 0;const e=se();var t;return(function(n){n.method="textDocument/selectionRange",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(pn.SelectionRangeRequest=t={})),pn}var tt={},ao;function Os(){if(ao)return tt;ao=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.WorkDoneProgressCancelNotification=tt.WorkDoneProgressCreateRequest=tt.WorkDoneProgress=void 0;const e=Bt(),t=se();var n;(function(o){o.type=new e.ProgressType;function s(c){return c===o.type}o.is=s})(n||(tt.WorkDoneProgress=n={}));var r;(function(o){o.method="window/workDoneProgress/create",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolRequestType(o.method)})(r||(tt.WorkDoneProgressCreateRequest=r={}));var i;return(function(o){o.method="window/workDoneProgress/cancel",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)})(i||(tt.WorkDoneProgressCancelNotification=i={})),tt}var nt={},uo;function Ns(){if(uo)return nt;uo=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.CallHierarchyOutgoingCallsRequest=nt.CallHierarchyIncomingCallsRequest=nt.CallHierarchyPrepareRequest=void 0;const e=se();var t;(function(i){i.method="textDocument/prepareCallHierarchy",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(nt.CallHierarchyPrepareRequest=t={}));var n;(function(i){i.method="callHierarchy/incomingCalls",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(nt.CallHierarchyIncomingCallsRequest=n={}));var r;return(function(i){i.method="callHierarchy/outgoingCalls",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(r||(nt.CallHierarchyOutgoingCallsRequest=r={})),nt}var ke={},fo;function js(){if(fo)return ke;fo=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.SemanticTokensRefreshRequest=ke.SemanticTokensRangeRequest=ke.SemanticTokensDeltaRequest=ke.SemanticTokensRequest=ke.SemanticTokensRegistrationType=ke.TokenFormat=void 0;const e=se();var t;(function(c){c.Relative="relative"})(t||(ke.TokenFormat=t={}));var n;(function(c){c.method="textDocument/semanticTokens",c.type=new e.RegistrationType(c.method)})(n||(ke.SemanticTokensRegistrationType=n={}));var r;(function(c){c.method="textDocument/semanticTokens/full",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method),c.registrationMethod=n.method})(r||(ke.SemanticTokensRequest=r={}));var i;(function(c){c.method="textDocument/semanticTokens/full/delta",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method),c.registrationMethod=n.method})(i||(ke.SemanticTokensDeltaRequest=i={}));var o;(function(c){c.method="textDocument/semanticTokens/range",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method),c.registrationMethod=n.method})(o||(ke.SemanticTokensRangeRequest=o={}));var s;return(function(c){c.method="workspace/semanticTokens/refresh",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolRequestType0(c.method)})(s||(ke.SemanticTokensRefreshRequest=s={})),ke}var yn={},lo;function Fs(){if(lo)return yn;lo=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.ShowDocumentRequest=void 0;const e=se();var t;return(function(n){n.method="window/showDocument",n.messageDirection=e.MessageDirection.serverToClient,n.type=new e.ProtocolRequestType(n.method)})(t||(yn.ShowDocumentRequest=t={})),yn}var vn={},_o;function Is(){if(_o)return vn;_o=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.LinkedEditingRangeRequest=void 0;const e=se();var t;return(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(vn.LinkedEditingRangeRequest=t={})),vn}var De={},go;function As(){if(go)return De;go=1,Object.defineProperty(De,"__esModule",{value:!0}),De.WillDeleteFilesRequest=De.DidDeleteFilesNotification=De.DidRenameFilesNotification=De.WillRenameFilesRequest=De.DidCreateFilesNotification=De.WillCreateFilesRequest=De.FileOperationPatternKind=void 0;const e=se();var t;(function(a){a.file="file",a.folder="folder"})(t||(De.FileOperationPatternKind=t={}));var n;(function(a){a.method="workspace/willCreateFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(n||(De.WillCreateFilesRequest=n={}));var r;(function(a){a.method="workspace/didCreateFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(r||(De.DidCreateFilesNotification=r={}));var i;(function(a){a.method="workspace/willRenameFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(i||(De.WillRenameFilesRequest=i={}));var o;(function(a){a.method="workspace/didRenameFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(o||(De.DidRenameFilesNotification=o={}));var s;(function(a){a.method="workspace/didDeleteFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(s||(De.DidDeleteFilesNotification=s={}));var c;return(function(a){a.method="workspace/willDeleteFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(c||(De.WillDeleteFilesRequest=c={})),De}var rt={},bo;function Ls(){if(bo)return rt;bo=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.MonikerRequest=rt.MonikerKind=rt.UniquenessLevel=void 0;const e=se();var t;(function(i){i.document="document",i.project="project",i.group="group",i.scheme="scheme",i.global="global"})(t||(rt.UniquenessLevel=t={}));var n;(function(i){i.$import="import",i.$export="export",i.local="local"})(n||(rt.MonikerKind=n={}));var r;return(function(i){i.method="textDocument/moniker",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(r||(rt.MonikerRequest=r={})),rt}var it={},ho;function Ws(){if(ho)return it;ho=1,Object.defineProperty(it,"__esModule",{value:!0}),it.TypeHierarchySubtypesRequest=it.TypeHierarchySupertypesRequest=it.TypeHierarchyPrepareRequest=void 0;const e=se();var t;(function(i){i.method="textDocument/prepareTypeHierarchy",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(it.TypeHierarchyPrepareRequest=t={}));var n;(function(i){i.method="typeHierarchy/supertypes",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(it.TypeHierarchySupertypesRequest=n={}));var r;return(function(i){i.method="typeHierarchy/subtypes",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(r||(it.TypeHierarchySubtypesRequest=r={})),it}var jt={},mo;function Hs(){if(mo)return jt;mo=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.InlineValueRefreshRequest=jt.InlineValueRequest=void 0;const e=se();var t;(function(r){r.method="textDocument/inlineValue",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(jt.InlineValueRequest=t={}));var n;return(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)})(n||(jt.InlineValueRefreshRequest=n={})),jt}var ot={},wo;function xs(){if(wo)return ot;wo=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.InlayHintRefreshRequest=ot.InlayHintResolveRequest=ot.InlayHintRequest=void 0;const e=se();var t;(function(i){i.method="textDocument/inlayHint",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(ot.InlayHintRequest=t={}));var n;(function(i){i.method="inlayHint/resolve",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(ot.InlayHintResolveRequest=n={}));var r;return(function(i){i.method="workspace/inlayHint/refresh",i.messageDirection=e.MessageDirection.serverToClient,i.type=new e.ProtocolRequestType0(i.method)})(r||(ot.InlayHintRefreshRequest=r={})),ot}var Oe={},po;function $s(){if(po)return Oe;po=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.DiagnosticRefreshRequest=Oe.WorkspaceDiagnosticRequest=Oe.DocumentDiagnosticRequest=Oe.DocumentDiagnosticReportKind=Oe.DiagnosticServerCancellationData=void 0;const e=Bt(),t=yi(),n=se();var r;(function(a){function d(l){const w=l;return w&&t.boolean(w.retriggerRequest)}a.is=d})(r||(Oe.DiagnosticServerCancellationData=r={}));var i;(function(a){a.Full="full",a.Unchanged="unchanged"})(i||(Oe.DocumentDiagnosticReportKind=i={}));var o;(function(a){a.method="textDocument/diagnostic",a.messageDirection=n.MessageDirection.clientToServer,a.type=new n.ProtocolRequestType(a.method),a.partialResult=new e.ProgressType})(o||(Oe.DocumentDiagnosticRequest=o={}));var s;(function(a){a.method="workspace/diagnostic",a.messageDirection=n.MessageDirection.clientToServer,a.type=new n.ProtocolRequestType(a.method),a.partialResult=new e.ProgressType})(s||(Oe.WorkspaceDiagnosticRequest=s={}));var c;return(function(a){a.method="workspace/diagnostic/refresh",a.messageDirection=n.MessageDirection.serverToClient,a.type=new n.ProtocolRequestType0(a.method)})(c||(Oe.DiagnosticRefreshRequest=c={})),Oe}var ce={},yo;function Bs(){if(yo)return ce;yo=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.DidCloseNotebookDocumentNotification=ce.DidSaveNotebookDocumentNotification=ce.DidChangeNotebookDocumentNotification=ce.NotebookCellArrayChange=ce.DidOpenNotebookDocumentNotification=ce.NotebookDocumentSyncRegistrationType=ce.NotebookDocument=ce.NotebookCell=ce.ExecutionSummary=ce.NotebookCellKind=void 0;const e=wi,t=yi(),n=se();var r;(function(b){b.Markup=1,b.Code=2;function T(J){return J===1||J===2}b.is=T})(r||(ce.NotebookCellKind=r={}));var i;(function(b){function T(I,C){const L={executionOrder:I};return(C===!0||C===!1)&&(L.success=C),L}b.create=T;function J(I){const C=I;return t.objectLiteral(C)&&e.uinteger.is(C.executionOrder)&&(C.success===void 0||t.boolean(C.success))}b.is=J;function U(I,C){return I===C?!0:I==null||C===null||C===void 0?!1:I.executionOrder===C.executionOrder&&I.success===C.success}b.equals=U})(i||(ce.ExecutionSummary=i={}));var o;(function(b){function T(C,L){return{kind:C,document:L}}b.create=T;function J(C){const L=C;return t.objectLiteral(L)&&r.is(L.kind)&&e.DocumentUri.is(L.document)&&(L.metadata===void 0||t.objectLiteral(L.metadata))}b.is=J;function U(C,L){const re=new Set;return C.document!==L.document&&re.add("document"),C.kind!==L.kind&&re.add("kind"),C.executionSummary!==L.executionSummary&&re.add("executionSummary"),(C.metadata!==void 0||L.metadata!==void 0)&&!I(C.metadata,L.metadata)&&re.add("metadata"),(C.executionSummary!==void 0||L.executionSummary!==void 0)&&!i.equals(C.executionSummary,L.executionSummary)&&re.add("executionSummary"),re}b.diff=U;function I(C,L){if(C===L)return!0;if(C==null||L===null||L===void 0||typeof C!=typeof L||typeof C!="object")return!1;const re=Array.isArray(C),ye=Array.isArray(L);if(re!==ye)return!1;if(re&&ye){if(C.length!==L.length)return!1;for(let z=0;z<C.length;z++)if(!I(C[z],L[z]))return!1}if(t.objectLiteral(C)&&t.objectLiteral(L)){const z=Object.keys(C),X=Object.keys(L);if(z.length!==X.length||(z.sort(),X.sort(),!I(z,X)))return!1;for(let ee=0;ee<z.length;ee++){const _e=z[ee];if(!I(C[_e],L[_e]))return!1}}return!0}})(o||(ce.NotebookCell=o={}));var s;(function(b){function T(U,I,C,L){return{uri:U,notebookType:I,version:C,cells:L}}b.create=T;function J(U){const I=U;return t.objectLiteral(I)&&t.string(I.uri)&&e.integer.is(I.version)&&t.typedArray(I.cells,o.is)}b.is=J})(s||(ce.NotebookDocument=s={}));var c;(function(b){b.method="notebookDocument/sync",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.RegistrationType(b.method)})(c||(ce.NotebookDocumentSyncRegistrationType=c={}));var a;(function(b){b.method="notebookDocument/didOpen",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolNotificationType(b.method),b.registrationMethod=c.method})(a||(ce.DidOpenNotebookDocumentNotification=a={}));var d;(function(b){function T(U){const I=U;return t.objectLiteral(I)&&e.uinteger.is(I.start)&&e.uinteger.is(I.deleteCount)&&(I.cells===void 0||t.typedArray(I.cells,o.is))}b.is=T;function J(U,I,C){const L={start:U,deleteCount:I};return C!==void 0&&(L.cells=C),L}b.create=J})(d||(ce.NotebookCellArrayChange=d={}));var l;(function(b){b.method="notebookDocument/didChange",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolNotificationType(b.method),b.registrationMethod=c.method})(l||(ce.DidChangeNotebookDocumentNotification=l={}));var w;(function(b){b.method="notebookDocument/didSave",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolNotificationType(b.method),b.registrationMethod=c.method})(w||(ce.DidSaveNotebookDocumentNotification=w={}));var m;return(function(b){b.method="notebookDocument/didClose",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolNotificationType(b.method),b.registrationMethod=c.method})(m||(ce.DidCloseNotebookDocumentNotification=m={})),ce}var Rn={},vo;function zs(){if(vo)return Rn;vo=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.InlineCompletionRequest=void 0;const e=se();var t;return(function(n){n.method="textDocument/inlineCompletion",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(Rn.InlineCompletionRequest=t={})),Rn}var Ro;function Vs(){return Ro||(Ro=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=se(),n=wi,r=yi(),i=Ps();Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=Ts();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=ks();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=Ss();Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const a=Cs();Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return a.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return a.ColorPresentationRequest}});const d=qs();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return d.FoldingRangeRefreshRequest}});const l=Ms();Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return l.DeclarationRequest}});const w=Es();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return w.SelectionRangeRequest}});const m=Os();Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return m.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return m.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return m.WorkDoneProgressCancelNotification}});const b=Ns();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return b.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return b.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return b.CallHierarchyPrepareRequest}});const T=js();Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return T.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return T.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return T.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return T.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return T.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return T.SemanticTokensRegistrationType}});const J=Fs();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return J.ShowDocumentRequest}});const U=Is();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return U.LinkedEditingRangeRequest}});const I=As();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return I.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return I.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return I.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return I.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return I.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return I.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return I.WillDeleteFilesRequest}});const C=Ls();Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return C.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return C.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return C.MonikerRequest}});const L=Ws();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return L.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return L.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return L.TypeHierarchySupertypesRequest}});const re=Hs();Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return re.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return re.InlineValueRefreshRequest}});const ye=xs();Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return ye.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return ye.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return ye.InlayHintRefreshRequest}});const z=$s();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return z.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return z.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return z.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return z.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return z.DiagnosticRefreshRequest}});const X=Bs();Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return X.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return X.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return X.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return X.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return X.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return X.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return X.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return X.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return X.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return X.DidCloseNotebookDocumentNotification}});const ee=zs();Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return ee.InlineCompletionRequest}});var _e;(function(u){function be(he){const $=he;return r.string($)||r.string($.language)||r.string($.scheme)||r.string($.pattern)}u.is=be})(_e||(e.TextDocumentFilter=_e={}));var qe;(function(u){function be(he){const $=he;return r.objectLiteral($)&&(r.string($.notebookType)||r.string($.scheme)||r.string($.pattern))}u.is=be})(qe||(e.NotebookDocumentFilter=qe={}));var ge;(function(u){function be(he){const $=he;return r.objectLiteral($)&&(r.string($.notebook)||qe.is($.notebook))&&($.language===void 0||r.string($.language))}u.is=be})(ge||(e.NotebookCellTextDocumentFilter=ge={}));var W;(function(u){function be(he){if(!Array.isArray(he))return!1;for(let $ of he)if(!r.string($)&&!_e.is($)&&!ge.is($))return!1;return!0}u.is=be})(W||(e.DocumentSelector=W={}));var h;(function(u){u.method="client/registerCapability",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolRequestType(u.method)})(h||(e.RegistrationRequest=h={}));var N;(function(u){u.method="client/unregisterCapability",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolRequestType(u.method)})(N||(e.UnregistrationRequest=N={}));var x;(function(u){u.Create="create",u.Rename="rename",u.Delete="delete"})(x||(e.ResourceOperationKind=x={}));var M;(function(u){u.Abort="abort",u.Transactional="transactional",u.TextOnlyTransactional="textOnlyTransactional",u.Undo="undo"})(M||(e.FailureHandlingKind=M={}));var V;(function(u){u.UTF8="utf-8",u.UTF16="utf-16",u.UTF32="utf-32"})(V||(e.PositionEncodingKind=V={}));var It;(function(u){function be(he){const $=he;return $&&r.string($.id)&&$.id.length>0}u.hasId=be})(It||(e.StaticRegistrationOptions=It={}));var At;(function(u){function be(he){const $=he;return $&&($.documentSelector===null||W.is($.documentSelector))}u.is=be})(At||(e.TextDocumentRegistrationOptions=At={}));var Lt;(function(u){function be($){const f=$;return r.objectLiteral(f)&&(f.workDoneProgress===void 0||r.boolean(f.workDoneProgress))}u.is=be;function he($){const f=$;return f&&r.boolean(f.workDoneProgress)}u.hasWorkDoneProgress=he})(Lt||(e.WorkDoneProgressOptions=Lt={}));var We;(function(u){u.method="initialize",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(We||(e.InitializeRequest=We={}));var He;(function(u){u.unknownProtocolVersion=1})(He||(e.InitializeErrorCodes=He={}));var Ve;(function(u){u.method="initialized",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(Ve||(e.InitializedNotification=Ve={}));var xe;(function(u){u.method="shutdown",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType0(u.method)})(xe||(e.ShutdownRequest=xe={}));var Ue;(function(u){u.method="exit",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType0(u.method)})(Ue||(e.ExitNotification=Ue={}));var Je;(function(u){u.method="workspace/didChangeConfiguration",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(Je||(e.DidChangeConfigurationNotification=Je={}));var ct;(function(u){u.Error=1,u.Warning=2,u.Info=3,u.Log=4,u.Debug=5})(ct||(e.MessageType=ct={}));var Fe;(function(u){u.method="window/showMessage",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolNotificationType(u.method)})(Fe||(e.ShowMessageNotification=Fe={}));var Ie;(function(u){u.method="window/showMessageRequest",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolRequestType(u.method)})(Ie||(e.ShowMessageRequest=Ie={}));var A;(function(u){u.method="window/logMessage",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolNotificationType(u.method)})(A||(e.LogMessageNotification=A={}));var g;(function(u){u.method="telemetry/event",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolNotificationType(u.method)})(g||(e.TelemetryEventNotification=g={}));var y;(function(u){u.None=0,u.Full=1,u.Incremental=2})(y||(e.TextDocumentSyncKind=y={}));var F;(function(u){u.method="textDocument/didOpen",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(F||(e.DidOpenTextDocumentNotification=F={}));var p;(function(u){function be($){let f=$;return f!=null&&typeof f.text=="string"&&f.range!==void 0&&(f.rangeLength===void 0||typeof f.rangeLength=="number")}u.isIncremental=be;function he($){let f=$;return f!=null&&typeof f.text=="string"&&f.range===void 0&&f.rangeLength===void 0}u.isFull=he})(p||(e.TextDocumentContentChangeEvent=p={}));var ie;(function(u){u.method="textDocument/didChange",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(ie||(e.DidChangeTextDocumentNotification=ie={}));var Pe;(function(u){u.method="textDocument/didClose",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(Pe||(e.DidCloseTextDocumentNotification=Pe={}));var $e;(function(u){u.method="textDocument/didSave",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})($e||(e.DidSaveTextDocumentNotification=$e={}));var gt;(function(u){u.Manual=1,u.AfterDelay=2,u.FocusOut=3})(gt||(e.TextDocumentSaveReason=gt={}));var bt;(function(u){u.method="textDocument/willSave",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(bt||(e.WillSaveTextDocumentNotification=bt={}));var ht;(function(u){u.method="textDocument/willSaveWaitUntil",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(ht||(e.WillSaveTextDocumentWaitUntilRequest=ht={}));var Me;(function(u){u.method="workspace/didChangeWatchedFiles",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(Me||(e.DidChangeWatchedFilesNotification=Me={}));var Xe;(function(u){u.Created=1,u.Changed=2,u.Deleted=3})(Xe||(e.FileChangeType=Xe={}));var Xt;(function(u){function be(he){const $=he;return r.objectLiteral($)&&(n.URI.is($.baseUri)||n.WorkspaceFolder.is($.baseUri))&&r.string($.pattern)}u.is=be})(Xt||(e.RelativePattern=Xt={}));var at;(function(u){u.Create=1,u.Change=2,u.Delete=4})(at||(e.WatchKind=at={}));var ut;(function(u){u.method="textDocument/publishDiagnostics",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolNotificationType(u.method)})(ut||(e.PublishDiagnosticsNotification=ut={}));var dt;(function(u){u.Invoked=1,u.TriggerCharacter=2,u.TriggerForIncompleteCompletions=3})(dt||(e.CompletionTriggerKind=dt={}));var Ae;(function(u){u.method="textDocument/completion",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Ae||(e.CompletionRequest=Ae={}));var v;(function(u){u.method="completionItem/resolve",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(v||(e.CompletionResolveRequest=v={}));var R;(function(u){u.method="textDocument/hover",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(R||(e.HoverRequest=R={}));var S;(function(u){u.Invoked=1,u.TriggerCharacter=2,u.ContentChange=3})(S||(e.SignatureHelpTriggerKind=S={}));var Ee;(function(u){u.method="textDocument/signatureHelp",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Ee||(e.SignatureHelpRequest=Ee={}));var Se;(function(u){u.method="textDocument/definition",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Se||(e.DefinitionRequest=Se={}));var Wt;(function(u){u.method="textDocument/references",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Wt||(e.ReferencesRequest=Wt={}));var Ln;(function(u){u.method="textDocument/documentHighlight",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Ln||(e.DocumentHighlightRequest=Ln={}));var Zn;(function(u){u.method="textDocument/documentSymbol",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Zn||(e.DocumentSymbolRequest=Zn={}));var er;(function(u){u.method="textDocument/codeAction",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(er||(e.CodeActionRequest=er={}));var tr;(function(u){u.method="codeAction/resolve",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(tr||(e.CodeActionResolveRequest=tr={}));var nr;(function(u){u.method="workspace/symbol",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(nr||(e.WorkspaceSymbolRequest=nr={}));var rr;(function(u){u.method="workspaceSymbol/resolve",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(rr||(e.WorkspaceSymbolResolveRequest=rr={}));var ir;(function(u){u.method="textDocument/codeLens",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(ir||(e.CodeLensRequest=ir={}));var Be;(function(u){u.method="codeLens/resolve",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Be||(e.CodeLensResolveRequest=Be={}));var or;(function(u){u.method="workspace/codeLens/refresh",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolRequestType0(u.method)})(or||(e.CodeLensRefreshRequest=or={}));var sr;(function(u){u.method="textDocument/documentLink",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(sr||(e.DocumentLinkRequest=sr={}));var Ht;(function(u){u.method="documentLink/resolve",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Ht||(e.DocumentLinkResolveRequest=Ht={}));var cr;(function(u){u.method="textDocument/formatting",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(cr||(e.DocumentFormattingRequest=cr={}));var Qt;(function(u){u.method="textDocument/rangeFormatting",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(Qt||(e.DocumentRangeFormattingRequest=Qt={}));var ar;(function(u){u.method="textDocument/rangesFormatting",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(ar||(e.DocumentRangesFormattingRequest=ar={}));var ft;(function(u){u.method="textDocument/onTypeFormatting",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(ft||(e.DocumentOnTypeFormattingRequest=ft={}));var mt;(function(u){u.Identifier=1})(mt||(e.PrepareSupportDefaultBehavior=mt={}));var ur;(function(u){u.method="textDocument/rename",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(ur||(e.RenameRequest=ur={}));var dr;(function(u){u.method="textDocument/prepareRename",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(dr||(e.PrepareRenameRequest=dr={}));var wt;(function(u){u.method="workspace/executeCommand",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(wt||(e.ExecuteCommandRequest=wt={}));var Wn;(function(u){u.method="workspace/applyEdit",u.messageDirection=t.MessageDirection.serverToClient,u.type=new t.ProtocolRequestType("workspace/applyEdit")})(Wn||(e.ApplyWorkspaceEditRequest=Wn={}))})(pi)),pi}var Dn={},Do;function Us(){if(Do)return Dn;Do=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.createProtocolConnection=void 0;const e=Bt();function t(n,r,i,o){return e.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,e.createMessageConnection)(n,r,i,o)}return Dn.createProtocolConnection=t,Dn}var Po;function Js(){return Po||(Po=1,(function(e){var t=Ct&&Ct.__createBinding||(Object.create?(function(o,s,c,a){a===void 0&&(a=c);var d=Object.getOwnPropertyDescriptor(s,c);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(o,a,d)}):(function(o,s,c,a){a===void 0&&(a=c),o[a]=s[c]})),n=Ct&&Ct.__exportStar||function(o,s){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&t(s,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(Bt(),e),n(wi,e),n(se(),e),n(Vs(),e);var r=Us();Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))})(Ct)),Ct}var To;function we(){return To||(To=1,(function(e){var t=Rt&&Rt.__createBinding||(Object.create?(function(o,s,c,a){a===void 0&&(a=c);var d=Object.getOwnPropertyDescriptor(s,c);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(o,a,d)}):(function(o,s,c,a){a===void 0&&(a=c),o[a]=s[c]})),n=Rt&&Rt.__exportStar||function(o,s){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&t(s,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=Yi();n(Yi(),e),n(Js(),e);function i(o,s,c,a){return(0,r.createMessageConnection)(o,s,c,a)}e.createProtocolConnection=i})(Rt)),Rt}var ko;function So(){if(ko)return Ye;ko=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.SemanticTokensBuilder=Ye.SemanticTokensDiff=Ye.SemanticTokensFeature=void 0;const e=we(),t=i=>class extends i{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(e.SemanticTokensRefreshRequest.type),on:o=>{const s=e.SemanticTokensRequest.type;return this.connection.onRequest(s,(c,a)=>o(c,a,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onDelta:o=>{const s=e.SemanticTokensDeltaRequest.type;return this.connection.onRequest(s,(c,a)=>o(c,a,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))},onRange:o=>{const s=e.SemanticTokensRangeRequest.type;return this.connection.onRequest(s,(c,a)=>o(c,a,this.attachWorkDoneProgress(c),this.attachPartialResultProgress(s,c)))}}}};Ye.SemanticTokensFeature=t;class n{constructor(o,s){this.originalSequence=o,this.modifiedSequence=s}computeDiff(){const o=this.originalSequence.length,s=this.modifiedSequence.length;let c=0;for(;c<s&&c<o&&this.originalSequence[c]===this.modifiedSequence[c];)c++;if(c<s&&c<o){let a=o-1,d=s-1;for(;a>=c&&d>=c&&this.originalSequence[a]===this.modifiedSequence[d];)a--,d--;(a<c||d<c)&&(a++,d++);const l=a-c+1,w=this.modifiedSequence.slice(c,d+1);return w.length===1&&w[0]===this.originalSequence[a]?[{start:c,deleteCount:l-1}]:[{start:c,deleteCount:l,data:w}]}else return c<s?[{start:c,deleteCount:0,data:this.modifiedSequence.slice(c)}]:c<o?[{start:c,deleteCount:o-c}]:[]}}Ye.SemanticTokensDiff=n;class r{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(o,s,c,a,d){let l=o,w=s;this._dataLen>0&&(l-=this._prevLine,l===0&&(w-=this._prevChar)),this._data[this._dataLen++]=l,this._data[this._dataLen++]=w,this._data[this._dataLen++]=c,this._data[this._dataLen++]=a,this._data[this._dataLen++]=d,this._prevLine=o,this._prevChar=s}get id(){return this._id.toString()}previousResult(o){this.id===o&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new n(this._prevData,this._data).computeDiff()}:this.build()}}return Ye.SemanticTokensBuilder=r,Ye}var Pn={},Co;function Xs(){if(Co)return Pn;Co=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.InlineCompletionFeature=void 0;const e=we(),t=n=>class extends n{get inlineCompletion(){return{on:r=>this.connection.onRequest(e.InlineCompletionRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i)))}}};return Pn.InlineCompletionFeature=t,Pn}var Tn={},qo;function Mo(){if(qo)return Tn;qo=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.TextDocuments=void 0;const e=we();class t{constructor(r){this._configuration=r,this._syncedDocuments=new Map,this._onDidChangeContent=new e.Emitter,this._onDidOpen=new e.Emitter,this._onDidClose=new e.Emitter,this._onDidSave=new e.Emitter,this._onWillSave=new e.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(r){this._willSaveWaitUntil=r}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(r){return this._syncedDocuments.get(r)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(r){r.__textDocumentSync=e.TextDocumentSyncKind.Incremental;const i=[];return i.push(r.onDidOpenTextDocument(o=>{const s=o.textDocument,c=this._configuration.create(s.uri,s.languageId,s.version,s.text);this._syncedDocuments.set(s.uri,c);const a=Object.freeze({document:c});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),i.push(r.onDidChangeTextDocument(o=>{const s=o.textDocument,c=o.contentChanges;if(c.length===0)return;const{version:a}=s;if(a==null)throw new Error(`Received document change event for ${s.uri} without valid version identifier`);let d=this._syncedDocuments.get(s.uri);d!==void 0&&(d=this._configuration.update(d,c,a),this._syncedDocuments.set(s.uri,d),this._onDidChangeContent.fire(Object.freeze({document:d})))})),i.push(r.onDidCloseTextDocument(o=>{let s=this._syncedDocuments.get(o.textDocument.uri);s!==void 0&&(this._syncedDocuments.delete(o.textDocument.uri),this._onDidClose.fire(Object.freeze({document:s})))})),i.push(r.onWillSaveTextDocument(o=>{let s=this._syncedDocuments.get(o.textDocument.uri);s!==void 0&&this._onWillSave.fire(Object.freeze({document:s,reason:o.reason}))})),i.push(r.onWillSaveTextDocumentWaitUntil((o,s)=>{let c=this._syncedDocuments.get(o.textDocument.uri);return c!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:c,reason:o.reason}),s):[]})),i.push(r.onDidSaveTextDocument(o=>{let s=this._syncedDocuments.get(o.textDocument.uri);s!==void 0&&this._onDidSave.fire(Object.freeze({document:s}))})),e.Disposable.create(()=>{i.forEach(o=>o.dispose())})}}return Tn.TextDocuments=t,Tn}var Ft={},Eo;function Oo(){if(Eo)return Ft;Eo=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.NotebookDocuments=Ft.NotebookSyncFeature=void 0;const e=we(),t=Mo(),n=o=>class extends o{get synchronization(){return{onDidOpenNotebookDocument:s=>this.connection.onNotification(e.DidOpenNotebookDocumentNotification.type,c=>{s(c)}),onDidChangeNotebookDocument:s=>this.connection.onNotification(e.DidChangeNotebookDocumentNotification.type,c=>{s(c)}),onDidSaveNotebookDocument:s=>this.connection.onNotification(e.DidSaveNotebookDocumentNotification.type,c=>{s(c)}),onDidCloseNotebookDocument:s=>this.connection.onNotification(e.DidCloseNotebookDocumentNotification.type,c=>{s(c)})}}};Ft.NotebookSyncFeature=n;class r{onDidOpenTextDocument(s){return this.openHandler=s,e.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(s){this.openHandler&&this.openHandler(s)}onDidChangeTextDocument(s){return this.changeHandler=s,e.Disposable.create(()=>{this.changeHandler=s})}changeTextDocument(s){this.changeHandler&&this.changeHandler(s)}onDidCloseTextDocument(s){return this.closeHandler=s,e.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(s){this.closeHandler&&this.closeHandler(s)}onWillSaveTextDocument(){return r.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return r.NULL_DISPOSE}onDidSaveTextDocument(){return r.NULL_DISPOSE}}r.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class i{constructor(s){s instanceof t.TextDocuments?this._cellTextDocuments=s:this._cellTextDocuments=new t.TextDocuments(s),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new e.Emitter,this._onDidChange=new e.Emitter,this._onDidSave=new e.Emitter,this._onDidClose=new e.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(s){return this._cellTextDocuments.get(s.document)}getNotebookDocument(s){return this.notebookDocuments.get(s)}getNotebookCell(s){const c=this.notebookCellMap.get(s);return c&&c[0]}findNotebookDocumentForCell(s){const c=typeof s=="string"?s:s.document,a=this.notebookCellMap.get(c);return a&&a[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(s){const c=new r,a=[];return a.push(this.cellTextDocuments.listen(c)),a.push(s.notebooks.synchronization.onDidOpenNotebookDocument(d=>{this.notebookDocuments.set(d.notebookDocument.uri,d.notebookDocument);for(const l of d.cellTextDocuments)c.openTextDocument({textDocument:l});this.updateCellMap(d.notebookDocument),this._onDidOpen.fire(d.notebookDocument)})),a.push(s.notebooks.synchronization.onDidChangeNotebookDocument(d=>{const l=this.notebookDocuments.get(d.notebookDocument.uri);if(l===void 0)return;l.version=d.notebookDocument.version;const w=l.metadata;let m=!1;const b=d.change;b.metadata!==void 0&&(m=!0,l.metadata=b.metadata);const T=[],J=[],U=[],I=[];if(b.cells!==void 0){const z=b.cells;if(z.structure!==void 0){const X=z.structure.array;if(l.cells.splice(X.start,X.deleteCount,...X.cells!==void 0?X.cells:[]),z.structure.didOpen!==void 0)for(const ee of z.structure.didOpen)c.openTextDocument({textDocument:ee}),T.push(ee.uri);if(z.structure.didClose)for(const ee of z.structure.didClose)c.closeTextDocument({textDocument:ee}),J.push(ee.uri)}if(z.data!==void 0){const X=new Map(z.data.map(ee=>[ee.document,ee]));for(let ee=0;ee<=l.cells.length;ee++){const _e=X.get(l.cells[ee].document);if(_e!==void 0){const qe=l.cells.splice(ee,1,_e);if(U.push({old:qe[0],new:_e}),X.delete(_e.document),X.size===0)break}}}if(z.textContent!==void 0)for(const X of z.textContent)c.changeTextDocument({textDocument:X.document,contentChanges:X.changes}),I.push(X.document.uri)}this.updateCellMap(l);const C={notebookDocument:l};m&&(C.metadata={old:w,new:l.metadata});const L=[];for(const z of T)L.push(this.getNotebookCell(z));const re=[];for(const z of J)re.push(this.getNotebookCell(z));const ye=[];for(const z of I)ye.push(this.getNotebookCell(z));(L.length>0||re.length>0||U.length>0||ye.length>0)&&(C.cells={added:L,removed:re,changed:{data:U,textContent:ye}}),(C.metadata!==void 0||C.cells!==void 0)&&this._onDidChange.fire(C)})),a.push(s.notebooks.synchronization.onDidSaveNotebookDocument(d=>{const l=this.notebookDocuments.get(d.notebookDocument.uri);l!==void 0&&this._onDidSave.fire(l)})),a.push(s.notebooks.synchronization.onDidCloseNotebookDocument(d=>{const l=this.notebookDocuments.get(d.notebookDocument.uri);if(l!==void 0){this._onDidClose.fire(l);for(const w of d.cellTextDocuments)c.closeTextDocument({textDocument:w});this.notebookDocuments.delete(d.notebookDocument.uri);for(const w of l.cells)this.notebookCellMap.delete(w.document)}})),e.Disposable.create(()=>{a.forEach(d=>d.dispose())})}updateCellMap(s){for(const c of s.cells)this.notebookCellMap.set(c.document,[c,s])}}return Ft.NotebookDocuments=i,Ft}var Y={},le={},No;function jo(){if(No)return le;No=1,Object.defineProperty(le,"__esModule",{value:!0}),le.thenable=le.typedArray=le.stringArray=le.array=le.func=le.error=le.number=le.string=le.boolean=void 0;function e(d){return d===!0||d===!1}le.boolean=e;function t(d){return typeof d=="string"||d instanceof String}le.string=t;function n(d){return typeof d=="number"||d instanceof Number}le.number=n;function r(d){return d instanceof Error}le.error=r;function i(d){return typeof d=="function"}le.func=i;function o(d){return Array.isArray(d)}le.array=o;function s(d){return o(d)&&d.every(l=>t(l))}le.stringArray=s;function c(d,l){return Array.isArray(d)&&d.every(l)}le.typedArray=c;function a(d){return d&&i(d.then)}return le.thenable=a,le}var Ne={},Fo;function Io(){if(Fo)return Ne;Fo=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.generateUuid=Ne.parse=Ne.isUUID=Ne.v4=Ne.empty=void 0;class e{constructor(a){this._value=a}asHex(){return this._value}equals(a){return this.asHex()===a.asHex()}}class t extends e{static _oneOf(a){return a[Math.floor(a.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}}t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],Ne.empty=new e("00000000-0000-0000-0000-000000000000");function n(){return new t}Ne.v4=n;const r=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function i(c){return r.test(c)}Ne.isUUID=i;function o(c){if(!i(c))throw new Error("invalid uuid");return new e(c)}Ne.parse=o;function s(){return n().asHex()}return Ne.generateUuid=s,Ne}var st={},Ao;function Qs(){if(Ao)return st;Ao=1,Object.defineProperty(st,"__esModule",{value:!0}),st.attachPartialResult=st.ProgressFeature=st.attachWorkDone=void 0;const e=we(),t=Io();class n{constructor(m,b){this._connection=m,this._token=b,n.Instances.set(this._token,this)}begin(m,b,T,J){let U={kind:"begin",title:m,percentage:b,message:T,cancellable:J};this._connection.sendProgress(e.WorkDoneProgress.type,this._token,U)}report(m,b){let T={kind:"report"};typeof m=="number"?(T.percentage=m,b!==void 0&&(T.message=b)):T.message=m,this._connection.sendProgress(e.WorkDoneProgress.type,this._token,T)}done(){n.Instances.delete(this._token),this._connection.sendProgress(e.WorkDoneProgress.type,this._token,{kind:"end"})}}n.Instances=new Map;class r extends n{constructor(m,b){super(m,b),this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class i{constructor(){}begin(){}report(){}done(){}}class o extends i{constructor(){super(),this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function s(w,m){if(m===void 0||m.workDoneToken===void 0)return new i;const b=m.workDoneToken;return delete m.workDoneToken,new n(w,b)}st.attachWorkDone=s;const c=w=>class extends w{constructor(){super(),this._progressSupported=!1}initialize(m){super.initialize(m),m?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(e.WorkDoneProgressCancelNotification.type,b=>{let T=n.Instances.get(b.token);(T instanceof r||T instanceof o)&&T.cancel()}))}attachWorkDoneProgress(m){return m===void 0?new i:new n(this.connection,m)}createWorkDoneProgress(){if(this._progressSupported){const m=(0,t.generateUuid)();return this.connection.sendRequest(e.WorkDoneProgressCreateRequest.type,{token:m}).then(()=>new r(this.connection,m))}else return Promise.resolve(new o)}};st.ProgressFeature=c;var a;(function(w){w.type=new e.ProgressType})(a||(a={}));class d{constructor(m,b){this._connection=m,this._token=b}report(m){this._connection.sendProgress(a.type,this._token,m)}}function l(w,m){if(m===void 0||m.partialResultToken===void 0)return;const b=m.partialResultToken;return delete m.partialResultToken,new d(w,b)}return st.attachPartialResult=l,st}var kn={},Lo;function Ys(){if(Lo)return kn;Lo=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.ConfigurationFeature=void 0;const e=we(),t=jo(),n=r=>class extends r{getConfiguration(i){return i?t.string(i)?this._getConfiguration({section:i}):this._getConfiguration(i):this._getConfiguration({})}_getConfiguration(i){let o={items:Array.isArray(i)?i:[i]};return this.connection.sendRequest(e.ConfigurationRequest.type,o).then(s=>Array.isArray(s)?Array.isArray(i)?s:s[0]:Array.isArray(i)?[]:null)}};return kn.ConfigurationFeature=n,kn}var Sn={},Wo;function Gs(){if(Wo)return Sn;Wo=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.WorkspaceFoldersFeature=void 0;const e=we(),t=n=>class extends n{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(r){super.initialize(r);let i=r.workspace;i&&i.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new e.Emitter,this.connection.onNotification(e.DidChangeWorkspaceFoldersNotification.type,o=>{this._onDidChangeWorkspaceFolders.fire(o.event)}))}fillServerCapabilities(r){super.fillServerCapabilities(r);const i=r.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=i===!0||typeof i=="string"}getWorkspaceFolders(){return this.connection.sendRequest(e.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(e.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};return Sn.WorkspaceFoldersFeature=t,Sn}var Cn={},Ho;function Ks(){if(Ho)return Cn;Ho=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.CallHierarchyFeature=void 0;const e=we(),t=n=>class extends n{get callHierarchy(){return{onPrepare:r=>this.connection.onRequest(e.CallHierarchyPrepareRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i),void 0)),onIncomingCalls:r=>{const i=e.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(i,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))},onOutgoingCalls:r=>{const i=e.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(i,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};return Cn.CallHierarchyFeature=t,Cn}var qn={},xo;function Zs(){if(xo)return qn;xo=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.ShowDocumentFeature=void 0;const e=we(),t=n=>class extends n{showDocument(r){return this.connection.sendRequest(e.ShowDocumentRequest.type,r)}};return qn.ShowDocumentFeature=t,qn}var Mn={},$o;function ec(){if($o)return Mn;$o=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.FileOperationsFeature=void 0;const e=we(),t=n=>class extends n{onDidCreateFiles(r){return this.connection.onNotification(e.DidCreateFilesNotification.type,i=>{r(i)})}onDidRenameFiles(r){return this.connection.onNotification(e.DidRenameFilesNotification.type,i=>{r(i)})}onDidDeleteFiles(r){return this.connection.onNotification(e.DidDeleteFilesNotification.type,i=>{r(i)})}onWillCreateFiles(r){return this.connection.onRequest(e.WillCreateFilesRequest.type,(i,o)=>r(i,o))}onWillRenameFiles(r){return this.connection.onRequest(e.WillRenameFilesRequest.type,(i,o)=>r(i,o))}onWillDeleteFiles(r){return this.connection.onRequest(e.WillDeleteFilesRequest.type,(i,o)=>r(i,o))}};return Mn.FileOperationsFeature=t,Mn}var En={},Bo;function tc(){if(Bo)return En;Bo=1,Object.defineProperty(En,"__esModule",{value:!0}),En.LinkedEditingRangeFeature=void 0;const e=we(),t=n=>class extends n{onLinkedEditingRange(r){return this.connection.onRequest(e.LinkedEditingRangeRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i),void 0))}};return En.LinkedEditingRangeFeature=t,En}var On={},zo;function nc(){if(zo)return On;zo=1,Object.defineProperty(On,"__esModule",{value:!0}),On.TypeHierarchyFeature=void 0;const e=we(),t=n=>class extends n{get typeHierarchy(){return{onPrepare:r=>this.connection.onRequest(e.TypeHierarchyPrepareRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i),void 0)),onSupertypes:r=>{const i=e.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(i,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))},onSubtypes:r=>{const i=e.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(i,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};return On.TypeHierarchyFeature=t,On}var Nn={},Vo;function rc(){if(Vo)return Nn;Vo=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.InlineValueFeature=void 0;const e=we(),t=n=>class extends n{get inlineValue(){return{refresh:()=>this.connection.sendRequest(e.InlineValueRefreshRequest.type),on:r=>this.connection.onRequest(e.InlineValueRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i)))}}};return Nn.InlineValueFeature=t,Nn}var jn={},Uo;function ic(){if(Uo)return jn;Uo=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.FoldingRangeFeature=void 0;const e=we(),t=n=>class extends n{get foldingRange(){return{refresh:()=>this.connection.sendRequest(e.FoldingRangeRefreshRequest.type),on:r=>{const i=e.FoldingRangeRequest.type;return this.connection.onRequest(i,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};return jn.FoldingRangeFeature=t,jn}var Fn={},Jo;function oc(){if(Jo)return Fn;Jo=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.InlayHintFeature=void 0;const e=we(),t=n=>class extends n{get inlayHint(){return{refresh:()=>this.connection.sendRequest(e.InlayHintRefreshRequest.type),on:r=>this.connection.onRequest(e.InlayHintRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i))),resolve:r=>this.connection.onRequest(e.InlayHintResolveRequest.type,(i,o)=>r(i,o))}}};return Fn.InlayHintFeature=t,Fn}var In={},Xo;function sc(){if(Xo)return In;Xo=1,Object.defineProperty(In,"__esModule",{value:!0}),In.DiagnosticFeature=void 0;const e=we(),t=n=>class extends n{get diagnostics(){return{refresh:()=>this.connection.sendRequest(e.DiagnosticRefreshRequest.type),on:r=>this.connection.onRequest(e.DocumentDiagnosticRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.DocumentDiagnosticRequest.partialResult,i))),onWorkspace:r=>this.connection.onRequest(e.WorkspaceDiagnosticRequest.type,(i,o)=>r(i,o,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.WorkspaceDiagnosticRequest.partialResult,i)))}}};return In.DiagnosticFeature=t,In}var An={},Qo;function cc(){if(Qo)return An;Qo=1,Object.defineProperty(An,"__esModule",{value:!0}),An.MonikerFeature=void 0;const e=we(),t=n=>class extends n{get moniker(){return{on:r=>{const i=e.MonikerRequest.type;return this.connection.onRequest(i,(o,s)=>r(o,s,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(i,o)))}}}};return An.MonikerFeature=t,An}var Yo;function ac(){if(Yo)return Y;Yo=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.createConnection=Y.combineFeatures=Y.combineNotebooksFeatures=Y.combineLanguagesFeatures=Y.combineWorkspaceFeatures=Y.combineWindowFeatures=Y.combineClientFeatures=Y.combineTracerFeatures=Y.combineTelemetryFeatures=Y.combineConsoleFeatures=Y._NotebooksImpl=Y._LanguagesImpl=Y.BulkUnregistration=Y.BulkRegistration=Y.ErrorMessageTracker=void 0;const e=we(),t=jo(),n=Io(),r=Qs(),i=Ys(),o=Gs(),s=Ks(),c=So(),a=Zs(),d=ec(),l=tc(),w=nc(),m=rc(),b=ic(),T=oc(),J=sc(),U=Oo(),I=cc();function C(A){if(A!==null)return A}class L{constructor(){this._messages=Object.create(null)}add(g){let y=this._messages[g];y||(y=0),y++,this._messages[g]=y}sendErrors(g){Object.keys(this._messages).forEach(y=>{g.window.showErrorMessage(y)})}}Y.ErrorMessageTracker=L;class re{constructor(){}rawAttach(g){this._rawConnection=g}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(g){}initialize(g){}error(g){this.send(e.MessageType.Error,g)}warn(g){this.send(e.MessageType.Warning,g)}info(g){this.send(e.MessageType.Info,g)}log(g){this.send(e.MessageType.Log,g)}debug(g){this.send(e.MessageType.Debug,g)}send(g,y){this._rawConnection&&this._rawConnection.sendNotification(e.LogMessageNotification.type,{type:g,message:y}).catch(()=>{(0,e.RAL)().console.error("Sending log message failed")})}}class ye{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}showErrorMessage(g,...y){let F={type:e.MessageType.Error,message:g,actions:y};return this.connection.sendRequest(e.ShowMessageRequest.type,F).then(C)}showWarningMessage(g,...y){let F={type:e.MessageType.Warning,message:g,actions:y};return this.connection.sendRequest(e.ShowMessageRequest.type,F).then(C)}showInformationMessage(g,...y){let F={type:e.MessageType.Info,message:g,actions:y};return this.connection.sendRequest(e.ShowMessageRequest.type,F).then(C)}}const z=(0,a.ShowDocumentFeature)((0,r.ProgressFeature)(ye));var X;(function(A){function g(){return new ee}A.create=g})(X||(Y.BulkRegistration=X={}));class ee{constructor(){this._registrations=[],this._registered=new Set}add(g,y){const F=t.string(g)?g:g.method;if(this._registered.has(F))throw new Error(`${F} is already added to this registration`);const p=n.generateUuid();this._registrations.push({id:p,method:F,registerOptions:y||{}}),this._registered.add(F)}asRegistrationParams(){return{registrations:this._registrations}}}var _e;(function(A){function g(){return new qe(void 0,[])}A.create=g})(_e||(Y.BulkUnregistration=_e={}));class qe{constructor(g,y){this._connection=g,this._unregistrations=new Map,y.forEach(F=>{this._unregistrations.set(F.method,F)})}get isAttached(){return!!this._connection}attach(g){this._connection=g}add(g){this._unregistrations.set(g.method,g)}dispose(){let g=[];for(let F of this._unregistrations.values())g.push(F);let y={unregisterations:g};this._connection.sendRequest(e.UnregistrationRequest.type,y).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(g){const y=t.string(g)?g:g.method,F=this._unregistrations.get(y);if(!F)return!1;let p={unregisterations:[F]};return this._connection.sendRequest(e.UnregistrationRequest.type,p).then(()=>{this._unregistrations.delete(y)},ie=>{this._connection.console.info(`Un-registering request handler for ${F.id} failed.`)}),!0}}class ge{attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}register(g,y,F){return g instanceof ee?this.registerMany(g):g instanceof qe?this.registerSingle1(g,y,F):this.registerSingle2(g,y)}registerSingle1(g,y,F){const p=t.string(y)?y:y.method,ie=n.generateUuid();let Pe={registrations:[{id:ie,method:p,registerOptions:F||{}}]};return g.isAttached||g.attach(this.connection),this.connection.sendRequest(e.RegistrationRequest.type,Pe).then($e=>(g.add({id:ie,method:p}),g),$e=>(this.connection.console.info(`Registering request handler for ${p} failed.`),Promise.reject($e)))}registerSingle2(g,y){const F=t.string(g)?g:g.method,p=n.generateUuid();let ie={registrations:[{id:p,method:F,registerOptions:y||{}}]};return this.connection.sendRequest(e.RegistrationRequest.type,ie).then(Pe=>e.Disposable.create(()=>{this.unregisterSingle(p,F).catch(()=>{this.connection.console.info(`Un-registering capability with id ${p} failed.`)})}),Pe=>(this.connection.console.info(`Registering request handler for ${F} failed.`),Promise.reject(Pe)))}unregisterSingle(g,y){let F={unregisterations:[{id:g,method:y}]};return this.connection.sendRequest(e.UnregistrationRequest.type,F).catch(()=>{this.connection.console.info(`Un-registering request handler for ${g} failed.`)})}registerMany(g){let y=g.asRegistrationParams();return this.connection.sendRequest(e.RegistrationRequest.type,y).then(()=>new qe(this._connection,y.registrations.map(F=>({id:F.id,method:F.method}))),F=>(this.connection.console.info("Bulk registration failed."),Promise.reject(F)))}}class W{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}applyEdit(g){function y(p){return p&&!!p.edit}let F=y(g)?g:{edit:g};return this.connection.sendRequest(e.ApplyWorkspaceEditRequest.type,F)}}const h=(0,d.FileOperationsFeature)((0,o.WorkspaceFoldersFeature)((0,i.ConfigurationFeature)(W)));class N{constructor(){this._trace=e.Trace.Off}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}set trace(g){this._trace=g}log(g,y){this._trace!==e.Trace.Off&&this.connection.sendNotification(e.LogTraceNotification.type,{message:g,verbose:this._trace===e.Trace.Verbose?y:void 0}).catch(()=>{})}}class x{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}logEvent(g){this.connection.sendNotification(e.TelemetryEventNotification.type,g).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class M{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}attachWorkDoneProgress(g){return(0,r.attachWorkDone)(this.connection,g)}attachPartialResultProgress(g,y){return(0,r.attachPartialResult)(this.connection,y)}}Y._LanguagesImpl=M;const V=(0,b.FoldingRangeFeature)((0,I.MonikerFeature)((0,J.DiagnosticFeature)((0,T.InlayHintFeature)((0,m.InlineValueFeature)((0,w.TypeHierarchyFeature)((0,l.LinkedEditingRangeFeature)((0,c.SemanticTokensFeature)((0,s.CallHierarchyFeature)(M)))))))));class It{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}attachWorkDoneProgress(g){return(0,r.attachWorkDone)(this.connection,g)}attachPartialResultProgress(g,y){return(0,r.attachPartialResult)(this.connection,y)}}Y._NotebooksImpl=It;const At=(0,U.NotebookSyncFeature)(It);function Lt(A,g){return function(y){return g(A(y))}}Y.combineConsoleFeatures=Lt;function We(A,g){return function(y){return g(A(y))}}Y.combineTelemetryFeatures=We;function He(A,g){return function(y){return g(A(y))}}Y.combineTracerFeatures=He;function Ve(A,g){return function(y){return g(A(y))}}Y.combineClientFeatures=Ve;function xe(A,g){return function(y){return g(A(y))}}Y.combineWindowFeatures=xe;function Ue(A,g){return function(y){return g(A(y))}}Y.combineWorkspaceFeatures=Ue;function Je(A,g){return function(y){return g(A(y))}}Y.combineLanguagesFeatures=Je;function ct(A,g){return function(y){return g(A(y))}}Y.combineNotebooksFeatures=ct;function Fe(A,g){function y(p,ie,Pe){return p&&ie?Pe(p,ie):p||ie}return{__brand:"features",console:y(A.console,g.console,Lt),tracer:y(A.tracer,g.tracer,He),telemetry:y(A.telemetry,g.telemetry,We),client:y(A.client,g.client,Ve),window:y(A.window,g.window,xe),workspace:y(A.workspace,g.workspace,Ue),languages:y(A.languages,g.languages,Je),notebooks:y(A.notebooks,g.notebooks,ct)}}Y.combineFeatures=Fe;function Ie(A,g,y){const F=y&&y.console?new(y.console(re)):new re,p=A(F);F.rawAttach(p);const ie=y&&y.tracer?new(y.tracer(N)):new N,Pe=y&&y.telemetry?new(y.telemetry(x)):new x,$e=y&&y.client?new(y.client(ge)):new ge,gt=y&&y.window?new(y.window(z)):new z,bt=y&&y.workspace?new(y.workspace(h)):new h,ht=y&&y.languages?new(y.languages(V)):new V,Me=y&&y.notebooks?new(y.notebooks(At)):new At,Xe=[F,ie,Pe,$e,gt,bt,ht,Me];function Xt(v){return v instanceof Promise?v:t.thenable(v)?new Promise((R,S)=>{v.then(Ee=>R(Ee),Ee=>S(Ee))}):Promise.resolve(v)}let at,ut,dt,Ae={listen:()=>p.listen(),sendRequest:(v,...R)=>p.sendRequest(t.string(v)?v:v.method,...R),onRequest:(v,R)=>p.onRequest(v,R),sendNotification:(v,R)=>{const S=t.string(v)?v:v.method;return p.sendNotification(S,R)},onNotification:(v,R)=>p.onNotification(v,R),onProgress:p.onProgress,sendProgress:p.sendProgress,onInitialize:v=>(ut=v,{dispose:()=>{ut=void 0}}),onInitialized:v=>p.onNotification(e.InitializedNotification.type,v),onShutdown:v=>(at=v,{dispose:()=>{at=void 0}}),onExit:v=>(dt=v,{dispose:()=>{dt=void 0}}),get console(){return F},get telemetry(){return Pe},get tracer(){return ie},get client(){return $e},get window(){return gt},get workspace(){return bt},get languages(){return ht},get notebooks(){return Me},onDidChangeConfiguration:v=>p.onNotification(e.DidChangeConfigurationNotification.type,v),onDidChangeWatchedFiles:v=>p.onNotification(e.DidChangeWatchedFilesNotification.type,v),__textDocumentSync:void 0,onDidOpenTextDocument:v=>p.onNotification(e.DidOpenTextDocumentNotification.type,v),onDidChangeTextDocument:v=>p.onNotification(e.DidChangeTextDocumentNotification.type,v),onDidCloseTextDocument:v=>p.onNotification(e.DidCloseTextDocumentNotification.type,v),onWillSaveTextDocument:v=>p.onNotification(e.WillSaveTextDocumentNotification.type,v),onWillSaveTextDocumentWaitUntil:v=>p.onRequest(e.WillSaveTextDocumentWaitUntilRequest.type,v),onDidSaveTextDocument:v=>p.onNotification(e.DidSaveTextDocumentNotification.type,v),sendDiagnostics:v=>p.sendNotification(e.PublishDiagnosticsNotification.type,v),onHover:v=>p.onRequest(e.HoverRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),void 0)),onCompletion:v=>p.onRequest(e.CompletionRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onCompletionResolve:v=>p.onRequest(e.CompletionResolveRequest.type,v),onSignatureHelp:v=>p.onRequest(e.SignatureHelpRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),void 0)),onDeclaration:v=>p.onRequest(e.DeclarationRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onDefinition:v=>p.onRequest(e.DefinitionRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onTypeDefinition:v=>p.onRequest(e.TypeDefinitionRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onImplementation:v=>p.onRequest(e.ImplementationRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onReferences:v=>p.onRequest(e.ReferencesRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onDocumentHighlight:v=>p.onRequest(e.DocumentHighlightRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onDocumentSymbol:v=>p.onRequest(e.DocumentSymbolRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onWorkspaceSymbol:v=>p.onRequest(e.WorkspaceSymbolRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onWorkspaceSymbolResolve:v=>p.onRequest(e.WorkspaceSymbolResolveRequest.type,v),onCodeAction:v=>p.onRequest(e.CodeActionRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onCodeActionResolve:v=>p.onRequest(e.CodeActionResolveRequest.type,(R,S)=>v(R,S)),onCodeLens:v=>p.onRequest(e.CodeLensRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onCodeLensResolve:v=>p.onRequest(e.CodeLensResolveRequest.type,(R,S)=>v(R,S)),onDocumentFormatting:v=>p.onRequest(e.DocumentFormattingRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),void 0)),onDocumentRangeFormatting:v=>p.onRequest(e.DocumentRangeFormattingRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),void 0)),onDocumentOnTypeFormatting:v=>p.onRequest(e.DocumentOnTypeFormattingRequest.type,(R,S)=>v(R,S)),onRenameRequest:v=>p.onRequest(e.RenameRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),void 0)),onPrepareRename:v=>p.onRequest(e.PrepareRenameRequest.type,(R,S)=>v(R,S)),onDocumentLinks:v=>p.onRequest(e.DocumentLinkRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onDocumentLinkResolve:v=>p.onRequest(e.DocumentLinkResolveRequest.type,(R,S)=>v(R,S)),onDocumentColor:v=>p.onRequest(e.DocumentColorRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onColorPresentation:v=>p.onRequest(e.ColorPresentationRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onFoldingRanges:v=>p.onRequest(e.FoldingRangeRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onSelectionRanges:v=>p.onRequest(e.SelectionRangeRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),(0,r.attachPartialResult)(p,R))),onExecuteCommand:v=>p.onRequest(e.ExecuteCommandRequest.type,(R,S)=>v(R,S,(0,r.attachWorkDone)(p,R),void 0)),dispose:()=>p.dispose()};for(let v of Xe)v.attach(Ae);return p.onRequest(e.InitializeRequest.type,v=>{g.initialize(v),t.string(v.trace)&&(ie.trace=e.Trace.fromString(v.trace));for(let R of Xe)R.initialize(v.capabilities);if(ut){let R=ut(v,new e.CancellationTokenSource().token,(0,r.attachWorkDone)(p,v),void 0);return Xt(R).then(S=>{if(S instanceof e.ResponseError)return S;let Ee=S;Ee||(Ee={capabilities:{}});let Se=Ee.capabilities;Se||(Se={},Ee.capabilities=Se),Se.textDocumentSync===void 0||Se.textDocumentSync===null?Se.textDocumentSync=t.number(Ae.__textDocumentSync)?Ae.__textDocumentSync:e.TextDocumentSyncKind.None:!t.number(Se.textDocumentSync)&&!t.number(Se.textDocumentSync.change)&&(Se.textDocumentSync.change=t.number(Ae.__textDocumentSync)?Ae.__textDocumentSync:e.TextDocumentSyncKind.None);for(let Wt of Xe)Wt.fillServerCapabilities(Se);return Ee})}else{let R={capabilities:{textDocumentSync:e.TextDocumentSyncKind.None}};for(let S of Xe)S.fillServerCapabilities(R.capabilities);return R}}),p.onRequest(e.ShutdownRequest.type,()=>{if(g.shutdownReceived=!0,at)return at(new e.CancellationTokenSource().token)}),p.onNotification(e.ExitNotification.type,()=>{try{dt&&dt()}finally{g.shutdownReceived?g.exit(0):g.exit(1)}}),p.onNotification(e.SetTraceNotification.type,v=>{ie.trace=e.Trace.fromString(v.value)}),Ae}return Y.createConnection=Ie,Y}var Go;function Ko(){return Go||(Go=1,(function(e){var t=vt&&vt.__createBinding||(Object.create?(function(a,d,l,w){w===void 0&&(w=l);var m=Object.getOwnPropertyDescriptor(d,l);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[l]}}),Object.defineProperty(a,w,m)}):(function(a,d,l,w){w===void 0&&(w=l),a[w]=d[l]})),n=vt&&vt.__exportStar||function(a,d){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(d,l)&&t(d,a,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=So();Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=Xs();n(we(),e);const o=Mo();Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return o.TextDocuments}});const s=Oo();Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return s.NotebookDocuments}}),n(ac(),e);var c;(function(a){a.all={__brand:"features",languages:i.InlineCompletionFeature}})(c||(e.ProposedFeatures=c={}))})(vt)),vt}var vi,Zo;function uc(){return Zo||(Zo=1,vi=we()),vi}var es;function dc(){return es||(es=1,(function(e){var t=yt&&yt.__createBinding||(Object.create?(function(c,a,d,l){l===void 0&&(l=d);var w=Object.getOwnPropertyDescriptor(a,d);(!w||("get"in w?!a.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return a[d]}}),Object.defineProperty(c,l,w)}):(function(c,a,d,l){l===void 0&&(l=d),c[l]=a[d]})),n=yt&&yt.__exportStar||function(c,a){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(a,d)&&t(a,c,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=Ko();n(uc(),e),n(Ko(),e);let i=!1;const o={initialize:c=>{},get shutdownReceived(){return i},set shutdownReceived(c){i=c},exit:c=>{}};function s(c,a,d,l){let w,m,b,T;c!==void 0&&c.__brand==="features"&&(w=c,c=a,a=d,d=l),r.ConnectionStrategy.is(c)||r.ConnectionOptions.is(c)?T=c:(m=c,b=a,T=d);const J=U=>(0,r.createProtocolConnection)(m,b,U,T);return(0,r.createConnection)(J,o,w)}e.createConnection=s})(yt)),yt}var Ri,ts;function fc(){return ts||(ts=1,Ri=dc()),Ri}var Di=fc();qi({}).then(()=>{const e=new Di.BrowserMessageReader(self),t=new Di.BrowserMessageWriter(self);let n;const r=Di.createConnection(e,t);function i(c,a){return r.sendNotification(c,a),!0}async function o(c,a){return await r.sendRequest(c,a)}async function s(c){return await r.sendRequest("slint/load_file",c)}r.onInitialize(c=>(n=cs(c,i,o,s),setTimeout(()=>{n.startup_lsp()},0),n.server_initialize_result(c.capabilities))),r.onRequest(async(c,a,d)=>await n.handle_request(d,c,a)),r.onNotification("slint/preview_to_lsp",async c=>{await n.process_preview_to_lsp_message(c)}),r.onDidChangeWatchedFiles(async c=>{for(const a of c.changes)await n.trigger_file_watcher(a.uri,a.type)}),r.onDidOpenTextDocument(async c=>{await n.open_document(c.textDocument.text,c.textDocument.uri,c.textDocument.version)}),r.onDidChangeTextDocument(async c=>{await n.reload_document(c.contentChanges[c.contentChanges.length-1].text,c.textDocument.uri,c.textDocument.version)}),r.onDidCloseTextDocument(async c=>{await n.close_document(c.textDocument.uri)}),r.onDidChangeConfiguration(async c=>{await n.reload_config()}),r.listen(),self.postMessage("OK")})})();
