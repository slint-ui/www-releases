(function(){"use strict";let m,x=0,Yt=null;function Sn(){return(Yt===null||Yt.byteLength===0)&&(Yt=new Uint8Array(m.memory.buffer)),Yt}const Cn=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Ac=typeof Cn.encodeInto=="function"?function(t,e){return Cn.encodeInto(t,e)}:function(t,e){const n=Cn.encode(t);return e.set(n),{read:t.length,written:n.length}};function B(t,e,n){if(n===void 0){const u=Cn.encode(t),l=e(u.length,1)>>>0;return Sn().subarray(l,l+u.length).set(u),x=u.length,l}let r=t.length,i=e(r,1)>>>0;const o=Sn();let s=0;for(;s<r;s++){const u=t.charCodeAt(s);if(u>127)break;o[i+s]=u}if(s!==r){s!==0&&(t=t.slice(s)),i=n(i,r,r=s+t.length*3,1)>>>0;const u=Sn().subarray(i+s,i+r),l=Ac(t,u);s+=l.written,i=n(i,r,s,1)>>>0}return x=s,i}function E(t){return t==null}let bt=null;function S(){return(bt===null||bt.buffer.detached===!0||bt.buffer.detached===void 0&&bt.buffer!==m.memory.buffer)&&(bt=new DataView(m.memory.buffer)),bt}const wo=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&wo.decode();function N(t,e){return t=t>>>0,wo.decode(Sn().subarray(t,t+e))}function xr(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let o="[";i>0&&(o+=xr(t[0]));for(let s=1;s<i;s++)o+=", "+xr(t[s]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}const qn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>{m.__wbindgen_export_3.get(t.dtor)(t.a,t.b)});function Kt(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},o=(...s)=>{i.cnt++;try{return r(i.a,i.b,...s)}finally{--i.cnt===0&&(m.__wbindgen_export_3.get(i.dtor)(i.a,i.b),i.a=0,qn.unregister(i))}};return o.original=i,qn.register(o,i,i),o}function Gt(t,e,n){m.closure1792_externref_shim(t,e,n)}function Me(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},o=(...s)=>{i.cnt++;const u=i.a;i.a=0;try{return r(u,i.b,...s)}finally{--i.cnt===0?(m.__wbindgen_export_3.get(i.dtor)(u,i.b),qn.unregister(i)):i.a=u}};return o.original=i,qn.register(o,i,i),o}function po(t,e){m._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1b735559e5a69b71(t,e)}function Ye(t,e,n){m.closure2441_externref_shim(t,e,n)}function yo(t,e,n,r){m.closure2452_externref_shim(t,e,n,r)}function z(t){const e=m.__externref_table_alloc();return m.__wbindgen_export_2.set(e,t),e}function T(t,e){try{return t.apply(this,e)}catch(n){const r=z(n);m.__wbindgen_exn_store(r)}}function Ke(t){const e=m.__wbindgen_export_2.get(t);return m.__externref_table_dealloc(t),e}function Wc(t,e,n,r){const i=m.create(t,e,n,r);if(i[2])throw Ke(i[1]);return Vr.__wrap(i[0])}function zr(t){return()=>{throw new Error(`${t} is not defined`)}}let Zt=null;function $c(){return(Zt===null||Zt.byteLength===0)&&(Zt=new Float32Array(m.memory.buffer)),Zt}function Mn(t,e){return t=t>>>0,$c().subarray(t/4,t/4+e)}const Hc=["border-box","content-box","device-pixel-content-box"],xc=["hidden","visible"],vo=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>m.__wbg_previewconnector_free(t>>>0,1));class Br{static __wrap(e){e=e>>>0;const n=Object.create(Br.prototype);return n.__wbg_ptr=e,vo.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,vo.unregister(this),e}free(){const e=this.__destroy_into_raw();m.__wbg_previewconnector_free(e,0)}static create(e,n,r,i){const o=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),s=x,u=m.previewconnector_create(e,n,o,s,i);if(u[2])throw Ke(u[1]);return Ke(u[0])}current_style(){return m.previewconnector_current_style(this.__wbg_ptr)}show_ui(){const e=m.previewconnector_show_ui(this.__wbg_ptr);if(e[2])throw Ke(e[1]);return Ke(e[0])}process_lsp_to_preview_message(e){const n=m.previewconnector_process_lsp_to_preview_message(this.__wbg_ptr,e);if(n[1])throw Ke(n[0])}}const Ro=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>m.__wbg_slintserver_free(t>>>0,1));class Vr{static __wrap(e){e=e>>>0;const n=Object.create(Vr.prototype);return n.__wbg_ptr=e,Ro.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Ro.unregister(this),e}free(){const e=this.__destroy_into_raw();m.__wbg_slintserver_free(e,0)}process_preview_to_lsp_message(e){return m.slintserver_process_preview_to_lsp_message(this.__wbg_ptr,e)}server_initialize_result(e){const n=m.slintserver_server_initialize_result(this.__wbg_ptr,e);if(n[2])throw Ke(n[1]);return Ke(n[0])}startup_lsp(){return m.slintserver_startup_lsp(this.__wbg_ptr)}trigger_file_watcher(e){return m.slintserver_trigger_file_watcher(this.__wbg_ptr,e)}open_document(e,n,r){const i=B(e,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;return m.slintserver_open_document(this.__wbg_ptr,i,o,n,r)}reload_document(e,n,r){const i=B(e,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;return m.slintserver_reload_document(this.__wbg_ptr,i,o,n,r)}close_document(e){return m.slintserver_close_document(this.__wbg_ptr,e)}handle_request(e,n,r){const i=B(n,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;return m.slintserver_handle_request(this.__wbg_ptr,e,i,o,r)}reload_config(){return m.slintserver_reload_config(this.__wbg_ptr)}}async function zc(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Bc(){const t={};return t.wbg={},t.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const r=n.stack,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let r,i;try{r=e,i=n,console.error(N(e,n))}finally{m.__wbindgen_free(r,i,1)}},t.wbg.__wbg_width_fa277b4243adaabb=function(e){return e.width},t.wbg.__wbg_height_250d8ced017769f8=function(e){return e.height},t.wbg.__wbg_createTexture_01a5bbc5d52164d2=function(e){const n=e.createTexture();return E(n)?0:z(n)},t.wbg.__wbg_createTexture_3ebc81a77f42cd4b=function(e){const n=e.createTexture();return E(n)?0:z(n)},t.wbg.__wbg_getError_919f5a6e84ab2e46=function(e){return e.getError()},t.wbg.__wbg_getError_8ad2027c9905d389=function(e){return e.getError()},t.wbg.__wbg_createFramebuffer_982db8b568b3eca9=function(e){const n=e.createFramebuffer();return E(n)?0:z(n)},t.wbg.__wbg_createFramebuffer_ad461f789f313e65=function(e){const n=e.createFramebuffer();return E(n)?0:z(n)},t.wbg.__wbg_framebufferTexture2D_8edd7a84454a0f67=function(e,n,r,i,o,s){e.framebufferTexture2D(n>>>0,r>>>0,i>>>0,o,s)},t.wbg.__wbg_framebufferTexture2D_d190f9f327cc46ec=function(e,n,r,i,o,s){e.framebufferTexture2D(n>>>0,r>>>0,i>>>0,o,s)},t.wbg.__wbg_createRenderbuffer_99bf5d848bb24276=function(e){const n=e.createRenderbuffer();return E(n)?0:z(n)},t.wbg.__wbg_createRenderbuffer_fd9d446bba29f340=function(e){const n=e.createRenderbuffer();return E(n)?0:z(n)},t.wbg.__wbg_renderbufferStorage_cf618d17929fccad=function(e,n,r,i,o){e.renderbufferStorage(n>>>0,r>>>0,i,o)},t.wbg.__wbg_renderbufferStorage_822379366751a4aa=function(e,n,r,i,o){e.renderbufferStorage(n>>>0,r>>>0,i,o)},t.wbg.__wbg_framebufferRenderbuffer_a2b559ae4519abb6=function(e,n,r,i,o){e.framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,o)},t.wbg.__wbg_framebufferRenderbuffer_b3aa0a942c6bdcc5=function(e,n,r,i,o){e.framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,o)},t.wbg.__wbg_checkFramebufferStatus_3979a8b436f64263=function(e,n){return e.checkFramebufferStatus(n>>>0)},t.wbg.__wbg_checkFramebufferStatus_189b82149860ff63=function(e,n){return e.checkFramebufferStatus(n>>>0)},t.wbg.__wbg_scissor_f1b8dd095e3fa77a=function(e,n,r,i,o){e.scissor(n,r,i,o)},t.wbg.__wbg_scissor_3cdd53b98aa49fb5=function(e,n,r,i,o){e.scissor(n,r,i,o)},t.wbg.__wbg_clearColor_f7a4d2d6a8d8cdf6=function(e,n,r,i,o){e.clearColor(n,r,i,o)},t.wbg.__wbg_clearColor_0af942e0c8c453eb=function(e,n,r,i,o){e.clearColor(n,r,i,o)},t.wbg.__wbg_clear_c5af939d0a44a025=function(e,n){e.clear(n>>>0)},t.wbg.__wbg_clear_678615798766f804=function(e,n){e.clear(n>>>0)},t.wbg.__wbg_uniform4fv_a4022bbb233e7635=function(e,n,r,i){e.uniform4fv(n,Mn(r,i))},t.wbg.__wbg_uniform4fv_b355da0bf0a80967=function(e,n,r,i){e.uniform4fv(n,Mn(r,i))},t.wbg.__wbg_deleteTexture_f72079e46289ccf8=function(e,n){e.deleteTexture(n)},t.wbg.__wbg_deleteTexture_05e26b0508f0589d=function(e,n){e.deleteTexture(n)},t.wbg.__wbg_createProgram_1510c4697aed8d2f=function(e){const n=e.createProgram();return E(n)?0:z(n)},t.wbg.__wbg_createProgram_48b8a105fd0cfb35=function(e){const n=e.createProgram();return E(n)?0:z(n)},t.wbg.__wbg_attachShader_4a6cb7b86d7531b8=function(e,n,r){e.attachShader(n,r)},t.wbg.__wbg_attachShader_299671ccaa78592c=function(e,n,r){e.attachShader(n,r)},t.wbg.__wbg_bindAttribLocation_5f1fbf398e621d36=function(e,n,r,i,o){e.bindAttribLocation(n,r>>>0,N(i,o))},t.wbg.__wbg_bindAttribLocation_76abc768e01a6a90=function(e,n,r,i,o){e.bindAttribLocation(n,r>>>0,N(i,o))},t.wbg.__wbg_linkProgram_b4246295077a3859=function(e,n){e.linkProgram(n)},t.wbg.__wbg_linkProgram_983c5972b815b0de=function(e,n){e.linkProgram(n)},t.wbg.__wbg_getProgramParameter_2fc04fee21ea5036=function(e,n,r){return e.getProgramParameter(n,r>>>0)},t.wbg.__wbg_getProgramParameter_4c981ddc3b62dda8=function(e,n,r){return e.getProgramParameter(n,r>>>0)},t.wbg.__wbindgen_boolean_get=function(e){const n=e;return typeof n=="boolean"?n?1:0:2},t.wbg.__wbg_detachShader_11435bbfadd38efd=function(e,n,r){e.detachShader(n,r)},t.wbg.__wbg_detachShader_edfa1d6365e56336=function(e,n,r){e.detachShader(n,r)},t.wbg.__wbg_getProgramInfoLog_2ebf87ded3a93ef1=function(e,n,r){const i=n.getProgramInfoLog(r);var o=E(i)?0:B(i,m.__wbindgen_malloc,m.__wbindgen_realloc),s=x;S().setInt32(e+4*1,s,!0),S().setInt32(e+4*0,o,!0)},t.wbg.__wbg_getProgramInfoLog_16c69289b6a9c98e=function(e,n,r){const i=n.getProgramInfoLog(r);var o=E(i)?0:B(i,m.__wbindgen_malloc,m.__wbindgen_realloc),s=x;S().setInt32(e+4*1,s,!0),S().setInt32(e+4*0,o,!0)},t.wbg.__wbg_createShader_3edd95eb001d29c9=function(e,n){const r=e.createShader(n>>>0);return E(r)?0:z(r)},t.wbg.__wbg_createShader_f956a5ec67a77964=function(e,n){const r=e.createShader(n>>>0);return E(r)?0:z(r)},t.wbg.__wbg_shaderSource_f8f569556926b597=function(e,n,r,i){e.shaderSource(n,N(r,i))},t.wbg.__wbg_shaderSource_c36f18b5114855e7=function(e,n,r,i){e.shaderSource(n,N(r,i))},t.wbg.__wbg_compileShader_48a677cac607634b=function(e,n){e.compileShader(n)},t.wbg.__wbg_compileShader_9680f4f1d833586c=function(e,n){e.compileShader(n)},t.wbg.__wbg_getShaderParameter_e5207a499ce4b3a1=function(e,n,r){return e.getShaderParameter(n,r>>>0)},t.wbg.__wbg_getShaderParameter_e21fb00f8255b86b=function(e,n,r){return e.getShaderParameter(n,r>>>0)},t.wbg.__wbg_getShaderInfoLog_eabc357ae8803006=function(e,n,r){const i=n.getShaderInfoLog(r);var o=E(i)?0:B(i,m.__wbindgen_malloc,m.__wbindgen_realloc),s=x;S().setInt32(e+4*1,s,!0),S().setInt32(e+4*0,o,!0)},t.wbg.__wbg_getShaderInfoLog_afb2baaac4baaff5=function(e,n,r){const i=n.getShaderInfoLog(r);var o=E(i)?0:B(i,m.__wbindgen_malloc,m.__wbindgen_realloc),s=x;S().setInt32(e+4*1,s,!0),S().setInt32(e+4*0,o,!0)},t.wbg.__wbg_uniform2fv_9a442fc12ac6908d=function(e,n,r,i){e.uniform2fv(n,Mn(r,i))},t.wbg.__wbg_uniform2fv_ee34c52d95d497de=function(e,n,r,i){e.uniform2fv(n,Mn(r,i))},t.wbg.__wbg_deleteFramebuffer_3b2693a1a495f793=function(e,n){e.deleteFramebuffer(n)},t.wbg.__wbg_deleteFramebuffer_a7d2812b702a9416=function(e,n){e.deleteFramebuffer(n)},t.wbg.__wbg_deleteRenderbuffer_b7ef144995140813=function(e,n){e.deleteRenderbuffer(n)},t.wbg.__wbg_deleteRenderbuffer_fe2288d56301005f=function(e,n){e.deleteRenderbuffer(n)},t.wbg.__wbg_deleteShader_a49077cc02f9d75c=function(e,n){e.deleteShader(n)},t.wbg.__wbg_deleteShader_c65ef8df50ff2e29=function(e,n){e.deleteShader(n)},t.wbg.__wbg_deleteProgram_16d8257cfae7ddbe=function(e,n){e.deleteProgram(n)},t.wbg.__wbg_deleteProgram_ef8d37545b8ab3ce=function(e,n){e.deleteProgram(n)},t.wbg.__wbg_useProgram_8232847dbf97643a=function(e,n){e.useProgram(n)},t.wbg.__wbg_useProgram_0f0a7b123a5eba79=function(e,n){e.useProgram(n)},t.wbg.__wbg_bindBuffer_70e5a7ef4920142a=function(e,n,r){e.bindBuffer(n>>>0,r)},t.wbg.__wbg_bindBuffer_87bece1307f4836f=function(e,n,r){e.bindBuffer(n>>>0,r)},t.wbg.__wbg_bindFramebuffer_21286675ec02dcb0=function(e,n,r){e.bindFramebuffer(n>>>0,r)},t.wbg.__wbg_bindFramebuffer_b9be4c8bf236f0e8=function(e,n,r){e.bindFramebuffer(n>>>0,r)},t.wbg.__wbg_bindRenderbuffer_b5a39364d07f8f0e=function(e,n,r){e.bindRenderbuffer(n>>>0,r)},t.wbg.__wbg_bindRenderbuffer_c0813f918b791132=function(e,n,r){e.bindRenderbuffer(n>>>0,r)},t.wbg.__wbg_bindVertexArray_9971ca458d8940ea=function(e,n){e.bindVertexArray(n)},t.wbg.__wbg_bindVertexArrayOES_f7ae803496f6f82f=function(e,n){e.bindVertexArrayOES(n)},t.wbg.__wbg_pixelStorei_86e41250cf27c77f=function(e,n,r){e.pixelStorei(n>>>0,r)},t.wbg.__wbg_pixelStorei_1077f1f904f1a03d=function(e,n,r){e.pixelStorei(n>>>0,r)},t.wbg.__wbg_disable_a342a9330a0cd452=function(e,n){e.disable(n>>>0)},t.wbg.__wbg_disable_d0317155c2bda795=function(e,n){e.disable(n>>>0)},t.wbg.__wbg_disableVertexAttribArray_636452904a337436=function(e,n){e.disableVertexAttribArray(n>>>0)},t.wbg.__wbg_disableVertexAttribArray_58aa0d2748ca82d4=function(e,n){e.disableVertexAttribArray(n>>>0)},t.wbg.__wbg_drawArrays_bb3d6e0af7dcb469=function(e,n,r,i){e.drawArrays(n>>>0,r,i)},t.wbg.__wbg_drawArrays_af53529e509d0c8b=function(e,n,r,i){e.drawArrays(n>>>0,r,i)},t.wbg.__wbg_enable_d120ad9b31220426=function(e,n){e.enable(n>>>0)},t.wbg.__wbg_enable_b73a997042de6e09=function(e,n){e.enable(n>>>0)},t.wbg.__wbg_enableVertexAttribArray_a12ed0a684959868=function(e,n){e.enableVertexAttribArray(n>>>0)},t.wbg.__wbg_enableVertexAttribArray_08b992ae13fe30a9=function(e,n){e.enableVertexAttribArray(n>>>0)},t.wbg.__wbg_getUniformLocation_f600c2277dd826b4=function(e,n,r,i){const o=e.getUniformLocation(n,N(r,i));return E(o)?0:z(o)},t.wbg.__wbg_getUniformLocation_74149153bba4c4cb=function(e,n,r,i){const o=e.getUniformLocation(n,N(r,i));return E(o)?0:z(o)},t.wbg.__wbg_generateMipmap_952d412cb9b50adb=function(e,n){e.generateMipmap(n>>>0)},t.wbg.__wbg_generateMipmap_eed46cfd38713244=function(e,n){e.generateMipmap(n>>>0)},t.wbg.__wbg_texImage2D_12005a1c57d665bb=function(){return T(function(e,n,r,i,o,s,u,l,f,h){e.texImage2D(n>>>0,r,i,o,s,u,l>>>0,f>>>0,h)},arguments)},t.wbg.__wbg_texImage2D_05363c5a13ee70f9=function(){return T(function(e,n,r,i,o,s,u,l,f,h){e.texImage2D(n>>>0,r,i,o,s,u,l>>>0,f>>>0,h)},arguments)},t.wbg.__wbg_uniform1i_55c667a20431c589=function(e,n,r){e.uniform1i(n,r)},t.wbg.__wbg_uniform1i_b7abcc7b3b4aee52=function(e,n,r){e.uniform1i(n,r)},t.wbg.__wbg_colorMask_f1fbf32fb9ff5f55=function(e,n,r,i,o){e.colorMask(n!==0,r!==0,i!==0,o!==0)},t.wbg.__wbg_colorMask_88c579e312b0fdcf=function(e,n,r,i,o){e.colorMask(n!==0,r!==0,i!==0,o!==0)},t.wbg.__wbg_bindTexture_78210066cfdda8ac=function(e,n,r){e.bindTexture(n>>>0,r)},t.wbg.__wbg_bindTexture_578ab0356afb56df=function(e,n,r){e.bindTexture(n>>>0,r)},t.wbg.__wbg_activeTexture_b0bb95e7b2c13666=function(e,n){e.activeTexture(n>>>0)},t.wbg.__wbg_activeTexture_a2e9931456fe92b4=function(e,n){e.activeTexture(n>>>0)},t.wbg.__wbg_texParameteri_72793934be86cdcf=function(e,n,r,i){e.texParameteri(n>>>0,r>>>0,i)},t.wbg.__wbg_texParameteri_a73df30f47a92fec=function(e,n,r,i){e.texParameteri(n>>>0,r>>>0,i)},t.wbg.__wbg_texSubImage2D_e784b7363b6c212d=function(){return T(function(e,n,r,i,o,s,u,l,f,h){e.texSubImage2D(n>>>0,r,i,o,s,u,l>>>0,f>>>0,h)},arguments)},t.wbg.__wbg_texSubImage2D_97bed542c038dfb5=function(){return T(function(e,n,r,i,o,s,u,l,f,h){e.texSubImage2D(n>>>0,r,i,o,s,u,l>>>0,f>>>0,h)},arguments)},t.wbg.__wbg_texSubImage2D_74255449b4229fd1=function(){return T(function(e,n,r,i,o,s,u,l,f,h){e.texSubImage2D(n>>>0,r,i,o,s,u,l>>>0,f>>>0,h)},arguments)},t.wbg.__wbg_vertexAttribPointer_6e1de5dfe082f820=function(e,n,r,i,o,s,u){e.vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,u)},t.wbg.__wbg_vertexAttribPointer_f602d22ecb0758f6=function(e,n,r,i,o,s,u){e.vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,u)},t.wbg.__wbg_viewport_567a7a444dd3650b=function(e,n,r,i,o){e.viewport(n,r,i,o)},t.wbg.__wbg_viewport_e333f63662d91f3a=function(e,n,r,i,o){e.viewport(n,r,i,o)},t.wbg.__wbg_stencilFunc_19e45bfa3b646cb4=function(e,n,r,i){e.stencilFunc(n>>>0,r,i>>>0)},t.wbg.__wbg_stencilFunc_9755bd9ceb43c567=function(e,n,r,i){e.stencilFunc(n>>>0,r,i>>>0)},t.wbg.__wbg_stencilMask_90c593098dd34f2c=function(e,n){e.stencilMask(n>>>0)},t.wbg.__wbg_stencilMask_87e5dfdb3daacf5d=function(e,n){e.stencilMask(n>>>0)},t.wbg.__wbg_stencilOp_ba5aafe2312aa37f=function(e,n,r,i){e.stencilOp(n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_stencilOp_07a3cea28f93a5ef=function(e,n,r,i){e.stencilOp(n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_stencilOpSeparate_86845a9132af3755=function(e,n,r,i,o){e.stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_stencilOpSeparate_14c4ac8259d6ae13=function(e,n,r,i,o){e.stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_devicePixelRatio_5d0556383aa83231=function(e){return e.devicePixelRatio},t.wbg.__wbg_document_d7fa2c739c2b191a=function(e){const n=e.document;return E(n)?0:z(n)},t.wbg.__wbg_getElementById_734c4eac4fec5911=function(e,n,r){const i=e.getElementById(N(n,r));return E(i)?0:z(i)},t.wbg.__wbg_instanceof_HtmlCanvasElement_022ad88c76df9031=function(e){let n;try{n=e instanceof HTMLCanvasElement}catch{n=!1}return n},t.wbg.__wbg_setwidth_23bf2deedd907275=function(e,n){e.width=n>>>0},t.wbg.__wbg_setheight_239dc283bbe50da4=function(e,n){e.height=n>>>0},t.wbg.__wbg_clientWidth_600f98ddd2b6cb36=function(e){return e.clientWidth},t.wbg.__wbg_clientHeight_0f17075303285b38=function(e){return e.clientHeight},t.wbg.__wbg_dataset_e8e36b265ce09deb=function(e){return e.dataset},t.wbg.__wbg_get_3377379aa30c85ec=function(e,n,r,i){const o=n[N(r,i)];var s=E(o)?0:B(o,m.__wbindgen_malloc,m.__wbindgen_realloc),u=x;S().setInt32(e+4*1,u,!0),S().setInt32(e+4*0,s,!0)},t.wbg.__wbg_instanceof_HtmlInputElement_ee25196edbacced9=function(e){let n;try{n=e instanceof HTMLInputElement}catch{n=!1}return n},t.wbg.__wbg_style_04eb1488bc2ceffc=function(e){return e.style},t.wbg.__wbg_offsetLeft_4d7217c1790c626d=function(e){return e.offsetLeft},t.wbg.__wbg_offsetTop_b9521f886d70cd98=function(e){return e.offsetTop},t.wbg.__wbg_offsetWidth_89def7e048702666=function(e){return e.offsetWidth},t.wbg.__wbg_offsetHeight_340d7c3867e97c4e=function(e){return e.offsetHeight},t.wbg.__wbg_before_3350442e02ed9f52=function(){return T(function(e,n){e.before(n)},arguments)},t.wbg.__wbg_setvalue_36bcf6f86c998f0a=function(e,n,r){e.value=N(n,r)},t.wbg.__wbg_data_12d786b81b474bc2=function(e,n){const r=n.data;var i=E(r)?0:B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_isComposing_67ecb026b0e0555e=function(e){return e.isComposing},t.wbg.__wbg_inputType_50d7c5ad0f77edcf=function(e,n){const r=n.inputType,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_preventDefault_eecc4a63e64c4526=function(e){e.preventDefault()},t.wbg.__wbg_isComposing_527cd20b8f4c31d2=function(e){return e.isComposing},t.wbg.__wbg_key_001eb20ba3b3d2fd=function(e,n){const r=n.key,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_shiftKey_cb120edc9c25950d=function(e){return e.shiftKey},t.wbg.__wbg_ctrlKey_f592192d87040d94=function(e){return e.ctrlKey},t.wbg.__wbg_altKey_ebf03e2308f51c08=function(e){return e.altKey},t.wbg.__wbg_getModifierState_045478d9121e762a=function(e,n,r){return e.getModifierState(N(n,r))},t.wbg.__wbg_repeat_1f81f308f5d8d519=function(e){return e.repeat},t.wbg.__wbg_clipboardData_6c07151d2898ce82=function(e){const n=e.clipboardData;return E(n)?0:z(n)},t.wbg.__wbg_getData_d687ebb5e1da9d6e=function(){return T(function(e,n,r,i){const o=n.getData(N(r,i)),s=B(o,m.__wbindgen_malloc,m.__wbindgen_realloc),u=x;S().setInt32(e+4*1,u,!0),S().setInt32(e+4*0,s,!0)},arguments)},t.wbg.__wbg_log_2f54632e0e18c089=function(e,n){console.log(N(e,n))},t.wbg.__wbg_naturalWidth_0d51c4a40cefbf30=function(e){return e.naturalWidth},t.wbg.__wbg_naturalHeight_c510873b8c64ff89=function(e){return e.naturalHeight},t.wbg.__wbg_currentSrc_39f8535810de7173=function(e,n){const r=n.currentSrc,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_src_faab1e2fccebe5eb=function(e,n){const r=n.src,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_new_b5bf9532bd5c97fd=function(){return T(function(){return new Image},arguments)},t.wbg.__wbg_setcrossOrigin_cc6ace96b7ed0bf4=function(e,n,r){e.crossOrigin=n===0?void 0:N(n,r)},t.wbg.__wbg_setonload_c44788491be30c5c=function(e,n){e.onload=n},t.wbg.__wbg_setsrc_feb07d9d5b693db7=function(e,n,r){e.src=N(n,r)},t.wbg.__wbg_new0_218ada33b570be35=function(){return new Date},t.wbg.__wbg_getTime_41225036a0393d63=function(e){return e.getTime()},t.wbg.__wbindgen_number_new=function(e){return e},t.wbg.__wbg_new_6fb55f037293191b=function(e){return new Date(e)},t.wbg.__wbg_getTimezoneOffset_93f7d384c8ade3be=function(e){return e.getTimezoneOffset()},t.wbg.__wbg_cullFace_e6b0b54ef3b7307c=function(e,n){e.cullFace(n>>>0)},t.wbg.__wbg_cullFace_32ec426f9cf738ba=function(e,n){e.cullFace(n>>>0)},t.wbg.__wbg_frontFace_380eb97b8e84036d=function(e,n){e.frontFace(n>>>0)},t.wbg.__wbg_frontFace_2f9be9f6e61eab57=function(e,n){e.frontFace(n>>>0)},t.wbg.__wbg_bufferData_11bf0e7b1bcebb55=function(e,n,r,i){e.bufferData(n>>>0,r,i>>>0)},t.wbg.__wbg_bufferData_97b16c4aedab785a=function(e,n,r,i){e.bufferData(n>>>0,r,i>>>0)},t.wbg.__wbg_blendFuncSeparate_54734c3d5f7ec376=function(e,n,r,i,o){e.blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_blendFuncSeparate_79ff089d1b7d8fdd=function(e,n,r,i,o){e.blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_new_e69b5f66fda8f13c=function(){return new Object},t.wbg.__wbg_setstencil_64fc9a64f3753f1f=function(e,n){e.stencil=n!==0},t.wbg.__wbg_setantialias_24801c5e4ee889be=function(e,n){e.antialias=n!==0},t.wbg.__wbg_getContext_cfe4caa91ffe938e=function(){return T(function(e,n,r,i){const o=e.getContext(N(n,r),i);return E(o)?0:z(o)},arguments)},t.wbg.__wbg_instanceof_WebGl2RenderingContext_8dbe5170d8fdea28=function(e){let n;try{n=e instanceof WebGL2RenderingContext}catch{n=!1}return n},t.wbg.__wbg_getSupportedExtensions_ae0473d2b21281af=function(e){const n=e.getSupportedExtensions();return E(n)?0:z(n)},t.wbg.__wbg_length_f217bbbf7e8e4df4=function(e){return e.length},t.wbg.__wbg_get_5419cf6b954aa11d=function(e,n){return e[n>>>0]},t.wbg.__wbindgen_string_get=function(e,n){const r=n,i=typeof r=="string"?r:void 0;var o=E(i)?0:B(i,m.__wbindgen_malloc,m.__wbindgen_realloc),s=x;S().setInt32(e+4*1,s,!0),S().setInt32(e+4*0,o,!0)},t.wbg.__wbg_getParameter_1b7c85c782ee0a5e=function(){return T(function(e,n){return e.getParameter(n>>>0)},arguments)},t.wbg.__wbg_createVertexArrayOES_6e8273e64e878af6=function(e){const n=e.createVertexArrayOES();return E(n)?0:z(n)},t.wbg.__wbg_createVertexArray_ec08b54b9f8c74ea=function(e){const n=e.createVertexArray();return E(n)?0:z(n)},t.wbg.__wbg_createBuffer_2f1b069b0fbe4db7=function(e){const n=e.createBuffer();return E(n)?0:z(n)},t.wbg.__wbg_createBuffer_478457cb9beff1a3=function(e){const n=e.createBuffer();return E(n)?0:z(n)},t.wbg.__wbg_instanceof_CanvasRenderingContext2d_775df7bd32f07559=function(e){let n;try{n=e instanceof CanvasRenderingContext2D}catch{n=!1}return n},t.wbg.__wbg_setfont_669f9943743a4efe=function(e,n,r){e.font=N(n,r)},t.wbg.__wbg_setfillStyle_2cc2c748b938a95e=function(e,n,r){e.fillStyle=N(n,r)},t.wbg.__wbg_id_7e3fad2f1278550e=function(e,n){const r=n.id,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_readPixels_4e84fb582bf012e3=function(){return T(function(e,n,r,i,o,s,u,l){e.readPixels(n,r,i,o,s>>>0,u>>>0,l)},arguments)},t.wbg.__wbg_readPixels_f1573092ee7b3fc7=function(){return T(function(e,n,r,i,o,s,u,l){e.readPixels(n,r,i,o,s>>>0,u>>>0,l)},arguments)},t.wbg.__wbg_texSubImage2D_ae3ebafdd1babf00=function(){return T(function(e,n,r,i,o,s,u,l){e.texSubImage2D(n>>>0,r,i,o,s>>>0,u>>>0,l)},arguments)},t.wbg.__wbg_texSubImage2D_3b86b3ab6cbf52ae=function(){return T(function(e,n,r,i,o,s,u,l){e.texSubImage2D(n>>>0,r,i,o,s>>>0,u>>>0,l)},arguments)},t.wbg.__wbg_setwidth_60dea6895f05b937=function(e,n){e.width=n>>>0},t.wbg.__wbg_setheight_cb55dfc18afe9e77=function(e,n){e.height=n>>>0},t.wbg.__wbg_deleteVertexArrayOES_f24bf9fab17be367=function(e,n){e.deleteVertexArrayOES(n)},t.wbg.__wbg_deleteVertexArray_112dd9bcd72ec608=function(e,n){e.deleteVertexArray(n)},t.wbg.__wbg_deleteBuffer_2b49293fc295ccea=function(e,n){e.deleteBuffer(n)},t.wbg.__wbg_deleteBuffer_4ab8b253a2ff7ec7=function(e,n){e.deleteBuffer(n)},t.wbg.__wbg_next_b06e115d1b01e10b=function(){return T(function(e){return e.next()},arguments)},t.wbg.__wbg_done_983b5ffcaec8c583=function(e){return e.done},t.wbg.__wbg_value_2ab8a198c834c26a=function(e){return e.value},t.wbg.__wbg_iterator_695d699a44d6234c=function(){return Symbol.iterator},t.wbg.__wbg_get_ef828680c64da212=function(){return T(function(e,n){return Reflect.get(e,n)},arguments)},t.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},t.wbg.__wbindgen_is_object=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbg_next_13b477da1eaa3897=function(e){return e.next},t.wbg.__wbg_call_a9ef466721e824f2=function(){return T(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_call_3bfa248576352471=function(){return T(function(e,n,r){return e.call(n,r)},arguments)},t.wbg.__wbg_call_5fb7c8066a4a4825=function(){return T(function(e,n,r,i){return e.call(n,r,i)},arguments)},t.wbg.__wbindgen_memory=function(){return m.memory},t.wbg.__wbg_buffer_ccaed51a635d8a2d=function(e){return e.buffer},t.wbg.__wbg_newwithbyteoffsetandlength_7e3eb787208af730=function(e,n,r){return new Uint8Array(e,n>>>0,r>>>0)},t.wbg.__wbg_length_9254c4bd3b9f23c4=function(e){return e.length},t.wbg.__wbg_new_fec2611eb9180f95=function(e){return new Uint8Array(e)},t.wbg.__wbg_set_ec2fcf81bc573fd9=function(e,n,r){e.set(n,r>>>0)},t.wbg.__wbg_self_bf91bf94d9e04084=function(){return T(function(){return self.self},arguments)},t.wbg.__wbg_window_52dd9f07d03fd5f8=function(){return T(function(){return window.window},arguments)},t.wbg.__wbg_globalThis_05c129bf37fcf1be=function(){return T(function(){return globalThis.globalThis},arguments)},t.wbg.__wbg_global_3eca19bb09e9c484=function(){return T(function(){return global.global},arguments)},t.wbg.__wbindgen_is_undefined=function(e){return e===void 0},t.wbg.__wbg_newnoargs_1ede4bf2ebbaaf43=function(e,n){return new Function(N(e,n))},t.wbg.__wbg_set_e864d25d9b399c9f=function(){return T(function(e,n,r){return Reflect.set(e,n,r)},arguments)},t.wbg.__wbindgen_string_new=function(e,n){return N(e,n)},t.wbg.__wbindgen_error_new=function(e,n){return new Error(N(e,n))},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return e==n},t.wbg.__wbindgen_number_get=function(e,n){const r=n,i=typeof r=="number"?r:void 0;S().setFloat64(e+8*1,E(i)?0:i,!0),S().setInt32(e+4*0,!E(i),!0)},t.wbg.__wbg_instanceof_Uint8Array_df0761410414ef36=function(e){let n;try{n=e instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_instanceof_ArrayBuffer_74945570b4a62ec7=function(e){let n;try{n=e instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_entries_c02034de337d3ee2=function(e){return Object.entries(e)},t.wbg.__wbg_isSafeInteger_b9dff570f01a9100=function(e){return Number.isSafeInteger(e)},t.wbg.__wbindgen_as_number=function(e){return+e},t.wbg.__wbg_String_b9412f8799faab3e=function(e,n){const r=String(n),i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_isArray_6f3b47f09adb61b5=function(e){return Array.isArray(e)},t.wbg.__wbg_navigator_3d3836196a5d8e62=function(e){return e.navigator},t.wbg.__wbindgen_bigint_from_u64=function(e){return BigInt.asUintN(64,e)},t.wbg.__wbindgen_bigint_from_i64=function(e){return e},t.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},t.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,n){return e[n]},t.wbg.__wbindgen_in=function(e,n){return e in n},t.wbg.__wbg_previewconnector_new=function(e){return Br.__wrap(e)},t.wbg.__wbg_set_f975102236d3c502=function(e,n,r){e[n]=r},t.wbg.__wbindgen_is_bigint=function(e){return typeof e=="bigint"},t.wbg.__wbindgen_bigint_get_as_i64=function(e,n){const r=n,i=typeof r=="bigint"?r:void 0;S().setBigInt64(e+8*1,E(i)?BigInt(0):i,!0),S().setInt32(e+4*0,!E(i),!0)},t.wbg.__wbindgen_jsval_eq=function(e,n){return e===n},t.wbg.__wbg_instanceof_Map_f96986929e7e89ed=function(e){let n;try{n=e instanceof Map}catch{n=!1}return n},t.wbg.__wbg_new_034f913e7636e987=function(){return new Array},t.wbg.__wbg_new_7a87a0376e40533b=function(){return new Map},t.wbg.__wbg_set_277a63e77c89279f=function(e,n,r){return e.set(n,r)},t.wbg.__wbg_set_425e70f7c64ac962=function(e,n,r){e[n>>>0]=r},t.wbg.__wbg_new_1073970097e5a420=function(e,n){try{var r={a:e,b:n},i=(s,u)=>{const l=r.a;r.a=0;try{return yo(l,r.b,s,u)}finally{r.a=l}};return new Promise(i)}finally{r.a=r.b=0}},t.wbg.__wbindgen_debug_string=function(e,n){const r=xr(n),i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(N(e,n))},t.wbg.__wbg_then_4866a7d9f55d8f3e=function(e,n,r){return e.then(n,r)},t.wbg.__wbg_queueMicrotask_848aa4969108a57e=function(e){return e.queueMicrotask},t.wbg.__wbg_resolve_0aad7c1484731c99=function(e){return Promise.resolve(e)},t.wbg.__wbg_then_748f75edfb032440=function(e,n){return e.then(n)},t.wbg.__wbg_queueMicrotask_c5419c06eab41e73=typeof queueMicrotask=="function"?queueMicrotask:zr("queueMicrotask"),t.wbg.__wbg_getExtension_811520f1db50ca11=function(){return T(function(e,n,r){const i=e.getExtension(N(n,r));return E(i)?0:z(i)},arguments)},t.wbg.__wbg_matchMedia_2c5a513148e49e4a=function(){return T(function(e,n,r){const i=e.matchMedia(N(n,r));return E(i)?0:z(i)},arguments)},t.wbg.__wbg_cancelAnimationFrame_f802bc3f3a9b2e5c=function(){return T(function(e,n){e.cancelAnimationFrame(n)},arguments)},t.wbg.__wbg_createElement_e4523490bd0ae51d=function(){return T(function(e,n,r){return e.createElement(N(n,r))},arguments)},t.wbg.__wbg_matches_ba81a625e23c859b=function(){return T(function(e,n,r){return e.matches(N(n,r))},arguments)},t.wbg.__wbg_setAttribute_2a8f647a8d92c712=function(){return T(function(e,n,r,i,o){e.setAttribute(N(n,r),N(i,o))},arguments)},t.wbg.__wbg_focus_6b6181f7644f6dbc=function(){return T(function(e){e.focus()},arguments)},t.wbg.__wbg_fillText_285687ced8ee535f=function(){return T(function(e,n,r,i,o){e.fillText(N(n,r),i,o)},arguments)},t.wbg.__wbg_getContext_bf8985355a4d22ca=function(){return T(function(e,n,r){const i=e.getContext(N(n,r));return E(i)?0:z(i)},arguments)},t.wbg.__wbg_new_e207405ddca58ee2=function(){return T(function(){return new MessageChannel},arguments)},t.wbg.__wbg_postMessage_5109299871335137=function(){return T(function(e,n){e.postMessage(n)},arguments)},t.wbg.__wbg_setProperty_b9a2384cbfb499fb=function(){return T(function(e,n,r,i,o){e.setProperty(N(n,r),N(i,o))},arguments)},t.wbg.__wbg_platform_fadbd50c3abb31c3=function(){return T(function(e,n){const r=n.platform,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},arguments)},t.wbg.__wbg_revokeObjectURL_8e72bad4541bdca0=function(){return T(function(e,n){URL.revokeObjectURL(N(e,n))},arguments)},t.wbg.__wbg_instanceof_Window_6575cd7f1322f82f=function(e){let n;try{n=e instanceof Window}catch{n=!1}return n},t.wbg.__wbg_data_86e77dc14916d155=function(e,n){const r=n.data;var i=E(r)?0:B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_setData_ae5f57d9724515ef=function(){return T(function(e,n,r,i,o){e.setData(N(n,r),N(i,o))},arguments)},t.wbg.__wbg_addEventListener_4357f9b7b3826784=function(){return T(function(e,n,r,i){e.addEventListener(N(n,r),i)},arguments)},t.wbg.__wbg_removeEventListener_4c13d11156153514=function(){return T(function(e,n,r,i){e.removeEventListener(N(n,r),i)},arguments)},t.wbg.__wbg_addListener_503d439bc3f84ff3=function(){return T(function(e,n){e.addListener(n)},arguments)},t.wbg.__wbg_new_75169ae5a9683c55=function(){return T(function(){return new AbortController},arguments)},t.wbg.__wbg_performance_a1b8bde2ee512264=function(e){return e.performance},t.wbg.__wbg_now_abd80e969af37148=function(e){return e.now()},t.wbg.__wbg_movementX_468fdc7a7281744b=function(e){return e.movementX},t.wbg.__wbg_movementY_8bbbf8c3bffd1fce=function(e){return e.movementY},t.wbg.__wbg_scheduler_7ccf2d3b362018c4=function(e){return e.scheduler},t.wbg.__wbg_signal_9acfcec9e7dffc22=function(e){return e.signal},t.wbg.__wbg_postTask_99464245f349be5a=function(e,n,r){return e.postTask(n,r)},t.wbg.__wbg_catch_8097da4375a5dd1b=function(e,n){return e.catch(n)},t.wbg.__wbg_port1_a6e649ef4f3886f3=function(e){return e.port1},t.wbg.__wbg_setonmessage_81b2f44fc2b4b0a4=function(e,n){e.onmessage=n},t.wbg.__wbg_start_818baa7ac87fe59f=function(e){e.start()},t.wbg.__wbg_port2_6fdacea6fa8e446e=function(e){return e.port2},t.wbg.__wbg_setTimeout_c9db6bce0a6bb71c=function(){return T(function(e,n){return e.setTimeout(n)},arguments)},t.wbg.__wbg_of_7e03bb557d6a64cc=function(e,n){return Array.of(e,n)},t.wbg.__wbg_of_064d1507296514c2=function(e){return Array.of(e)},t.wbg.__wbg_postMessage_857ce8a4ab57c841=function(){return T(function(e,n,r){e.postMessage(n,r)},arguments)},t.wbg.__wbg_setTimeout_e5d5b865335ce177=function(){return T(function(e,n,r){return e.setTimeout(n,r)},arguments)},t.wbg.__wbg_requestIdleCallback_effe682e9df1695f=function(){return T(function(e,n){return e.requestIdleCallback(n)},arguments)},t.wbg.__wbg_persisted_af13b0ad7952721a=function(e){return e.persisted},t.wbg.__wbg_pointerType_6d91ef0da43639d3=function(e,n){const r=n.pointerType,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_pointerId_93f7e5e10bb641ad=function(e){return e.pointerId},t.wbg.__wbg_pressure_ad8dacbd14c9076f=function(e){return e.pressure},t.wbg.__wbg_buttons_2cb9e49b40e20105=function(e){return e.buttons},t.wbg.__wbg_matches_7df350fbe7beb09f=function(e){return e.matches},t.wbg.__wbg_isIntersecting_57d03835f2fb0c18=function(e){return e.isIntersecting},t.wbg.__wbg_contentRect_0ff902e25b5b4c7a=function(e){return e.contentRect},t.wbg.__wbg_width_45de62653cf1c40c=function(e){return e.width},t.wbg.__wbg_height_333816c9b207333d=function(e){return e.height},t.wbg.__wbg_devicePixelContentBoxSize_67d2874a12290f0b=function(e){return e.devicePixelContentBoxSize},t.wbg.__wbg_inlineSize_bdd9c1683673d79e=function(e){return e.inlineSize},t.wbg.__wbg_blockSize_5d28da4852a3728e=function(e){return e.blockSize},t.wbg.__wbg_setPointerCapture_739b13a4c8b0c2b0=function(){return T(function(e,n){e.setPointerCapture(n)},arguments)},t.wbg.__wbindgen_cb_drop=function(e){const n=e.original;return n.cnt--==1?(n.a=0,!0):!1},t.wbg.__wbg_error_e297661c1014a1cc=typeof console.error=="function"?console.error:zr("console.error"),t.wbg.__wbg_userAgentData_85a8393570ab7dee=function(e){const n=e.userAgentData;return E(n)?0:z(n)},t.wbg.__wbg_brands_982de08b35281a98=function(e){return e.brands},t.wbg.__wbg_brand_cdcf0249d44027a8=function(e,n){const r=n.brand,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_userAgent_b433f0f22dfedec5=function(){return T(function(e,n){const r=n.userAgent,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},arguments)},t.wbg.__wbg_abort_c57daab47a6c1215=function(e){e.abort()},t.wbg.__wbg_cancelIdleCallback_7e85ac94feec1b33=function(e,n){e.cancelIdleCallback(n>>>0)},t.wbg.__wbg_clearTimeout_8567b0ecb6ec5d60=function(e,n){e.clearTimeout(n)},t.wbg.__wbg_close_8356c7a6c6893135=function(e){e.close()},t.wbg.__wbg_offsetX_294898d040917c6b=function(e){return e.offsetX},t.wbg.__wbg_offsetY_f484804b7b03dd86=function(e){return e.offsetY},t.wbg.__wbg_button_d8226b772c8cf494=function(e){return e.button},t.wbg.__wbg_deltaX_10154f810008c0a0=function(e){return e.deltaX},t.wbg.__wbg_deltaY_afd77a1b9e0d9ccd=function(e){return e.deltaY},t.wbg.__wbg_deltaMode_f31810d86a9defec=function(e){return e.deltaMode},t.wbg.__wbg_code_bec0d5222298000e=function(e,n){const r=n.code,i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},t.wbg.__wbg_location_a7e2614c5720fcd7=function(e){return e.location},t.wbg.__wbg_metaKey_0735ca81e2ec6c72=function(e){return e.metaKey},t.wbg.__wbg_shiftKey_6d843f3032fd0366=function(e){return e.shiftKey},t.wbg.__wbg_ctrlKey_4015247a39aa9410=function(e){return e.ctrlKey},t.wbg.__wbg_altKey_c9401b041949ea90=function(e){return e.altKey},t.wbg.__wbg_metaKey_5d680933661ea1ea=function(e){return e.metaKey},t.wbg.__wbg_getCoalescedEvents_8f8920b382098ac5=function(e){return e.getCoalescedEvents()},t.wbg.__wbg_disconnect_8d41ebc92b193580=function(e){e.disconnect()},t.wbg.__wbg_webkitExitFullscreen_77a6c8d07ec6ee46=function(e){e.webkitExitFullscreen()},t.wbg.__wbg_exitFullscreen_9eef33d4b314e087=function(e){e.exitFullscreen()},t.wbg.__wbg_contains_a28a8f7c01e4c130=function(e,n){return e.contains(n)},t.wbg.__wbg_unobserve_79fd6473e7891735=function(e,n){e.unobserve(n)},t.wbg.__wbg_observe_51c387de0413edcf=function(e,n){e.observe(n)},t.wbg.__wbg_getPropertyValue_b199c95cfeadebdf=function(){return T(function(e,n,r,i){const o=n.getPropertyValue(N(r,i)),s=B(o,m.__wbindgen_malloc,m.__wbindgen_realloc),u=x;S().setInt32(e+4*1,u,!0),S().setInt32(e+4*0,s,!0)},arguments)},t.wbg.__wbg_removeProperty_5acbca68235d0706=function(){return T(function(e,n,r,i){const o=n.removeProperty(N(r,i)),s=B(o,m.__wbindgen_malloc,m.__wbindgen_realloc),u=x;S().setInt32(e+4*1,u,!0),S().setInt32(e+4*0,s,!0)},arguments)},t.wbg.__wbg_visibilityState_5e9ade0fb5df3c9c=function(e){const n=e.visibilityState;return(xc.indexOf(n)+1||3)-1},t.wbg.__wbg_body_8e909b791b1745d3=function(e){const n=e.body;return E(n)?0:z(n)},t.wbg.__wbg_appendChild_bc4a0deae90a5164=function(){return T(function(e,n){return e.appendChild(n)},arguments)},t.wbg.__wbg_getComputedStyle_ec7e113b79b74e98=function(){return T(function(e,n){const r=e.getComputedStyle(n);return E(r)?0:z(r)},arguments)},t.wbg.__wbg_activeElement_4ab2bc6dcf8da330=function(e){const n=e.activeElement;return E(n)?0:z(n)},t.wbg.__wbg_is_4b64bc96710d6a0f=function(e,n){return Object.is(e,n)},t.wbg.__wbg_new_bc395d17a25f9f2f=function(){return T(function(e){return new ResizeObserver(e)},arguments)},t.wbg.__wbg_setbox_0540f4f0ed4733b6=function(e,n){e.box=Hc[n]},t.wbg.__wbg_observe_e05a589c42476328=function(e,n,r){e.observe(n,r)},t.wbg.__wbg_new_4422dda84db10905=function(){return T(function(e){return new IntersectionObserver(e)},arguments)},t.wbg.__wbg_observe_6f2910a25347a592=function(e,n){e.observe(n)},t.wbg.__wbg_getBoundingClientRect_5ad16be1e2955e83=function(e){return e.getBoundingClientRect()},t.wbg.__wbg_x_a9a34a1bc15c8dea=function(e){return e.x},t.wbg.__wbg_y_4926ebe58a2a92c8=function(e){return e.y},t.wbg.__wbg_requestAnimationFrame_8c3436f4ac89bc48=function(){return T(function(e,n){return e.requestAnimationFrame(n)},arguments)},t.wbg.__wbg_webkitRequestFullscreen_42ba1c34171febc6=function(e){e.webkitRequestFullscreen()},t.wbg.__wbg_requestFullscreen_24891df6120b675d=function(e){return e.requestFullscreen()},t.wbg.__wbg_webkitFullscreenElement_a02341d57a641b43=function(e){const n=e.webkitFullscreenElement;return E(n)?0:z(n)},t.wbg.__wbg_fullscreenElement_d39685ee9d78d455=function(e){const n=e.fullscreenElement;return E(n)?0:z(n)},t.wbg.__wbg_animate_b321da85ed3f2b4a=function(e,n,r){return e.animate(n,r)},t.wbg.__wbg_cancel_cba86749f45f30ae=function(e){e.cancel()},t.wbg.__wbg_play_5896e5851ba90aa2=function(e){e.play()},t.wbg.__wbg_removeListener_0e5684bf9a4fe773=function(){return T(function(e,n){e.removeListener(n)},arguments)},t.wbg.__wbg_new_00d033f8a8736a28=function(){return T(function(e,n){return new Worker(N(e,n))},arguments)},t.wbg.__wbg_settype_623d2ee701e6310a=function(e,n,r){e.type=N(n,r)},t.wbg.__wbg_newwithstrsequenceandoptions_3d581ce16ca52c44=function(){return T(function(e,n){return new Blob(e,n)},arguments)},t.wbg.__wbg_createObjectURL_11804d71ac214694=function(){return T(function(e,n){const r=URL.createObjectURL(n),i=B(r,m.__wbindgen_malloc,m.__wbindgen_realloc),o=x;S().setInt32(e+4*1,o,!0),S().setInt32(e+4*0,i,!0)},arguments)},t.wbg.__wbg_Window_bd9ec3fee5f673ee=function(e){return e.Window},t.wbg.__wbg_prototype_d33365945f23f380=function(){return ResizeObserverEntry.prototype},t.wbg.__wbg_getOwnPropertyDescriptor_419345cdc0d1ec14=function(e,n){return Object.getOwnPropertyDescriptor(e,n)},t.wbg.__wbg_getCoalescedEvents_85701851c470c4e6=function(e){return e.getCoalescedEvents},t.wbg.__wbg_requestIdleCallback_86b728660e0547ef=function(e){return e.requestIdleCallback},t.wbg.__wbg_requestFullscreen_8a94df4e7f757077=function(e){return e.requestFullscreen},t.wbg.__wbg_scheduler_f38a681d98b5a776=function(e){return e.scheduler},t.wbg.__wbg_queueMicrotask_693514e3dcae83e6=typeof queueMicrotask=="function"?queueMicrotask:zr("queueMicrotask"),t.wbg.__wbg_disconnect_91f6e3e629264c78=function(e){e.disconnect()},t.wbg.__wbindgen_closure_wrapper4383=function(e,n,r){return Kt(e,n,1793,Gt)},t.wbg.__wbindgen_closure_wrapper4385=function(e,n,r){return Kt(e,n,1793,Gt)},t.wbg.__wbindgen_closure_wrapper4386=function(e,n,r){return Kt(e,n,1793,Gt)},t.wbg.__wbindgen_closure_wrapper4387=function(e,n,r){return Kt(e,n,1793,Gt)},t.wbg.__wbindgen_closure_wrapper4388=function(e,n,r){return Kt(e,n,1793,Gt)},t.wbg.__wbindgen_closure_wrapper6609=function(e,n,r){return Me(e,n,2022,po)},t.wbg.__wbindgen_closure_wrapper12708=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper13927=function(e,n,r){return Me(e,n,2022,po)},t.wbg.__wbindgen_closure_wrapper13961=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper13966=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper13993=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper14005=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper14019=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper14032=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper14055=function(e,n,r){return Me(e,n,2022,Ye)},t.wbg.__wbindgen_closure_wrapper14063=function(e,n,r){return Me(e,n,2022,yo)},t.wbg.__wbindgen_init_externref_table=function(){const e=m.__wbindgen_export_2,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function Vc(t,e){return m=t.exports,Do.__wbindgen_wasm_module=e,bt=null,Zt=null,Yt=null,m.__wbindgen_start(),m}async function Do(t){if(m!==void 0)return m;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL(""+new URL("slint_lsp_wasm_bg-azkE54OF.wasm",self.location.href).href,self.location.href));const e=Bc();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await zc(await t,e);return Vc(n,r)}var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var To={},Ur={},ze={},re={},ht={},Jr={},On={},k={},de={};Object.defineProperty(de,"__esModule",{value:!0}),de.stringArray=de.array=de.func=de.error=de.number=de.string=de.boolean=void 0;function Jc(t){return t===!0||t===!1}de.boolean=Jc;function Po(t){return typeof t=="string"||t instanceof String}de.string=Po;function Xc(t){return typeof t=="number"||t instanceof Number}de.number=Xc;function Qc(t){return t instanceof Error}de.error=Qc;function Yc(t){return typeof t=="function"}de.func=Yc;function ko(t){return Array.isArray(t)}de.array=ko;function Kc(t){return ko(t)&&t.every(e=>Po(e))}de.stringArray=Kc,Object.defineProperty(k,"__esModule",{value:!0}),k.Message=k.NotificationType9=k.NotificationType8=k.NotificationType7=k.NotificationType6=k.NotificationType5=k.NotificationType4=k.NotificationType3=k.NotificationType2=k.NotificationType1=k.NotificationType0=k.NotificationType=k.RequestType9=k.RequestType8=k.RequestType7=k.RequestType6=k.RequestType5=k.RequestType4=k.RequestType3=k.RequestType2=k.RequestType1=k.RequestType=k.RequestType0=k.AbstractMessageSignature=k.ParameterStructures=k.ResponseError=k.ErrorCodes=void 0;const mt=de;var Xr;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Xr||(k.ErrorCodes=Xr={}));class Qr extends Error{constructor(e,n,r){super(n),this.code=mt.number(e)?e:Xr.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Qr.prototype)}toJson(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}}k.ResponseError=Qr;class me{constructor(e){this.kind=e}static is(e){return e===me.auto||e===me.byName||e===me.byPosition}toString(){return this.kind}}k.ParameterStructures=me,me.auto=new me("auto"),me.byPosition=new me("byPosition"),me.byName=new me("byName");class Q{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return me.auto}}k.AbstractMessageSignature=Q;class Gc extends Q{constructor(e){super(e,0)}}k.RequestType0=Gc;class Zc extends Q{constructor(e,n=me.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}k.RequestType=Zc;class ea extends Q{constructor(e,n=me.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}k.RequestType1=ea;class ta extends Q{constructor(e){super(e,2)}}k.RequestType2=ta;class na extends Q{constructor(e){super(e,3)}}k.RequestType3=na;class ra extends Q{constructor(e){super(e,4)}}k.RequestType4=ra;class ia extends Q{constructor(e){super(e,5)}}k.RequestType5=ia;class oa extends Q{constructor(e){super(e,6)}}k.RequestType6=oa;class sa extends Q{constructor(e){super(e,7)}}k.RequestType7=sa;class ca extends Q{constructor(e){super(e,8)}}k.RequestType8=ca;class aa extends Q{constructor(e){super(e,9)}}k.RequestType9=aa;class ua extends Q{constructor(e,n=me.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}k.NotificationType=ua;class da extends Q{constructor(e){super(e,0)}}k.NotificationType0=da;class la extends Q{constructor(e,n=me.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}k.NotificationType1=la;class fa extends Q{constructor(e){super(e,2)}}k.NotificationType2=fa;class ga extends Q{constructor(e){super(e,3)}}k.NotificationType3=ga;class _a extends Q{constructor(e){super(e,4)}}k.NotificationType4=_a;class ba extends Q{constructor(e){super(e,5)}}k.NotificationType5=ba;class ha extends Q{constructor(e){super(e,6)}}k.NotificationType6=ha;class ma extends Q{constructor(e){super(e,7)}}k.NotificationType7=ma;class wa extends Q{constructor(e){super(e,8)}}k.NotificationType8=wa;class pa extends Q{constructor(e){super(e,9)}}k.NotificationType9=pa;var So;(function(t){function e(i){const o=i;return o&&mt.string(o.method)&&(mt.string(o.id)||mt.number(o.id))}t.isRequest=e;function n(i){const o=i;return o&&mt.string(o.method)&&i.id===void 0}t.isNotification=n;function r(i){const o=i;return o&&(o.result!==void 0||!!o.error)&&(mt.string(o.id)||mt.number(o.id)||o.id===null)}t.isResponse=r})(So||(k.Message=So={}));var Be={},Co;Object.defineProperty(Be,"__esModule",{value:!0}),Be.LRUCache=Be.LinkedMap=Be.Touch=void 0;var we;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(we||(Be.Touch=we={}));class qo{constructor(){this[Co]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=we.None){const r=this._map.get(e);if(r)return n!==we.None&&this.touch(r,n),r.value}set(e,n,r=we.None){let i=this._map.get(e);if(i)i.value=n,r!==we.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case we.None:this.addItemLast(i);break;case we.First:this.addItemFirst(i);break;case we.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){const r=this._state;let i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(Co=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==we.First&&n!==we.Last)){if(n===we.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===we.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(const[n,r]of e)this.set(n,r)}}Be.LinkedMap=qo;class ya extends qo{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=we.AsNew){return super.get(e,n)}peek(e){return super.get(e,we.None)}set(e,n){return super.set(e,n,we.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}Be.LRUCache=ya;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.Disposable=void 0;var Mo;(function(t){function e(n){return{dispose:n}}t.create=e})(Mo||(En.Disposable=Mo={}));var Fe={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});let Yr;function Kr(){if(Yr===void 0)throw new Error("No runtime abstraction layer installed");return Yr}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Yr=n}t.install=e})(Kr||(Kr={})),Ve.default=Kr,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.Emitter=Fe.Event=void 0;const va=Ve;var Oo;(function(t){const e={dispose(){}};t.None=function(){return e}})(Oo||(Fe.Event=Oo={}));class Ra{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=r.length;o<s;o++)try{n.push(r[o].apply(i[o],e))}catch(u){(0,va.default)().console.error(u)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Nn{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Ra),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=Nn._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Fe.Emitter=Nn,Nn._noop=function(){};var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.CancellationTokenSource=Ge.CancellationToken=void 0;const Da=Ve,Ta=de,Gr=Fe;var jn;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Gr.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Gr.Event.None});function e(n){const r=n;return r&&(r===t.None||r===t.Cancelled||Ta.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(jn||(Ge.CancellationToken=jn={}));const Pa=Object.freeze(function(t,e){const n=(0,Da.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}});class Eo{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Pa:(this._emitter||(this._emitter=new Gr.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class ka{get token(){return this._token||(this._token=new Eo),this._token}cancel(){this._token?this._token.cancel():this._token=jn.Cancelled}dispose(){this._token?this._token instanceof Eo&&this._token.dispose():this._token=jn.None}}Ge.CancellationTokenSource=ka;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.SharedArrayReceiverStrategy=St.SharedArraySenderStrategy=void 0;const Sa=Ge;var en;(function(t){t.Continue=0,t.Cancelled=1})(en||(en={}));class Ca{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=en.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,en.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}}St.SharedArraySenderStrategy=Ca;class qa{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===en.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class Ma{constructor(e){this.token=new qa(e)}cancel(){}dispose(){}}class Oa{constructor(){this.kind="request"}createCancellationTokenSource(e){const n=e.$cancellationData;return n===void 0?new Sa.CancellationTokenSource:new Ma(n)}}St.SharedArrayReceiverStrategy=Oa;var Ze={},tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.Semaphore=void 0;const Ea=Ve;class Na{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ea.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}}tn.Semaphore=Na,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.ReadableStreamMessageReader=Ze.AbstractMessageReader=Ze.MessageReader=void 0;const Zr=Ve,Ct=de,ei=Fe,ja=tn;var No;(function(t){function e(n){let r=n;return r&&Ct.func(r.listen)&&Ct.func(r.dispose)&&Ct.func(r.onError)&&Ct.func(r.onClose)&&Ct.func(r.onPartialMessage)}t.is=e})(No||(Ze.MessageReader=No={}));class jo{constructor(){this.errorEmitter=new ei.Emitter,this.closeEmitter=new ei.Emitter,this.partialMessageEmitter=new ei.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ct.string(e.message)?e.message:"unknown"}`)}}Ze.AbstractMessageReader=jo;var ti;(function(t){function e(n){let r,i;const o=new Map;let s;const u=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(i=n.contentDecoder,o.set(i.name,i)),n.contentDecoders!==void 0)for(const l of n.contentDecoders)o.set(l.name,l);if(n.contentTypeDecoder!==void 0&&(s=n.contentTypeDecoder,u.set(s.name,s)),n.contentTypeDecoders!==void 0)for(const l of n.contentTypeDecoders)u.set(l.name,l)}return s===void 0&&(s=(0,Zr.default)().applicationJson.decoder,u.set(s.name,s)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:s,contentTypeDecoders:u}}t.fromOptions=e})(ti||(ti={}));class Fa extends jo{constructor(e,n){super(),this.readable=e,this.options=ti.fromOptions(n),this.buffer=(0,Zr.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new ja.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){const r=this.buffer.tryReadHeaders(!0);if(!r)return;const i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}const o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}const n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Zr.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}Ze.ReadableStreamMessageReader=Fa;var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.WriteableStreamMessageWriter=et.AbstractMessageWriter=et.MessageWriter=void 0;const Fo=Ve,nn=de,Ia=tn,Io=Fe,La="Content-Length: ",Lo=`\r
`;var Ao;(function(t){function e(n){let r=n;return r&&nn.func(r.dispose)&&nn.func(r.onClose)&&nn.func(r.onError)&&nn.func(r.write)}t.is=e})(Ao||(et.MessageWriter=Ao={}));class Wo{constructor(){this.errorEmitter=new Io.Emitter,this.closeEmitter=new Io.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${nn.string(e.message)?e.message:"unknown"}`)}}et.AbstractMessageWriter=Wo;var ni;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Fo.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Fo.default)().applicationJson.encoder}}t.fromOptions=e})(ni||(ni={}));class Aa extends Wo{constructor(e,n){super(),this.writable=e,this.options=ni.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Ia.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{const i=[];return i.push(La,r.byteLength.toString(),Lo),i.push(Lo),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}}et.WriteableStreamMessageWriter=Aa;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.AbstractMessageBuffer=void 0;const Wa=13,$a=10,Ha=`\r
`;class xa{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){const f=this._chunks[r];for(i=0;i<f.length;){switch(f[i]){case Wa:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case $a:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=f.byteLength,r++}if(n!==4)return;const s=this._read(o+i),u=new Map,l=this.toString(s,"ascii").split(Ha);if(l.length<2)return u;for(let f=0;f<l.length-2;f++){const h=l[f],D=h.indexOf(":");if(D===-1)throw new Error(`Message header must separate key and value using ':'
${h}`);const p=h.substr(0,D),C=h.substr(D+1).trim();u.set(e?p.toLowerCase():p,C)}return u}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){const o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}const n=this.allocNative(e);let r=0,i=0;for(;e>0;){const o=this._chunks[i];if(o.byteLength>e){const s=o.slice(0,e);n.set(s,r),r+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return n}}Fn.AbstractMessageBuffer=xa;var $o={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const e=Ve,n=de,r=k,i=Be,o=Fe,s=Ge;var u;(function(w){w.type=new r.NotificationType("$/cancelRequest")})(u||(u={}));var l;(function(w){function j(F){return typeof F=="string"||typeof F=="number"}w.is=j})(l||(t.ProgressToken=l={}));var f;(function(w){w.type=new r.NotificationType("$/progress")})(f||(f={}));class h{constructor(){}}t.ProgressType=h;var D;(function(w){function j(F){return n.func(F)}w.is=j})(D||(D={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var p;(function(w){w[w.Off=0]="Off",w[w.Messages=1]="Messages",w[w.Compact=2]="Compact",w[w.Verbose=3]="Verbose"})(p||(t.Trace=p={}));var C;(function(w){w.Off="off",w.Messages="messages",w.Compact="compact",w.Verbose="verbose"})(C||(t.TraceValues=C={})),function(w){function j(q){if(!n.string(q))return w.Off;switch(q=q.toLowerCase(),q){case"off":return w.Off;case"messages":return w.Messages;case"compact":return w.Compact;case"verbose":return w.Verbose;default:return w.Off}}w.fromString=j;function F(q){switch(q){case w.Off:return"off";case w.Messages:return"messages";case w.Compact:return"compact";case w.Verbose:return"verbose";default:return"off"}}w.toString=F}(p||(t.Trace=p={}));var L;(function(w){w.Text="text",w.JSON="json"})(L||(t.TraceFormat=L={})),function(w){function j(F){return n.string(F)?(F=F.toLowerCase(),F==="json"?w.JSON:w.Text):w.Text}w.fromString=j}(L||(t.TraceFormat=L={}));var ge;(function(w){w.type=new r.NotificationType("$/setTrace")})(ge||(t.SetTraceNotification=ge={}));var be;(function(w){w.type=new r.NotificationType("$/logTrace")})(be||(t.LogTraceNotification=be={}));var A;(function(w){w[w.Closed=1]="Closed",w[w.Disposed=2]="Disposed",w[w.AlreadyListening=3]="AlreadyListening"})(A||(t.ConnectionErrors=A={}));class g extends Error{constructor(j,F){super(F),this.code=j,Object.setPrototypeOf(this,g.prototype)}}t.ConnectionError=g;var _;(function(w){function j(F){const q=F;return q&&n.func(q.cancelUndispatched)}w.is=j})(_||(t.ConnectionStrategy=_={}));var R;(function(w){function j(F){const q=F;return q&&(q.kind===void 0||q.kind==="id")&&n.func(q.createCancellationTokenSource)&&(q.dispose===void 0||n.func(q.dispose))}w.is=j})(R||(t.IdCancellationReceiverStrategy=R={}));var le;(function(w){function j(F){const q=F;return q&&q.kind==="request"&&n.func(q.createCancellationTokenSource)&&(q.dispose===void 0||n.func(q.dispose))}w.is=j})(le||(t.RequestCancellationReceiverStrategy=le={}));var oe;(function(w){w.Message=Object.freeze({createCancellationTokenSource(F){return new s.CancellationTokenSource}});function j(F){return R.is(F)||le.is(F)}w.is=j})(oe||(t.CancellationReceiverStrategy=oe={}));var he;(function(w){w.Message=Object.freeze({sendCancellation(F,q){return F.sendNotification(u.type,{id:q})},cleanup(F){}});function j(F){const q=F;return q&&n.func(q.sendCancellation)&&n.func(q.cleanup)}w.is=j})(he||(t.CancellationSenderStrategy=he={}));var Vt;(function(w){w.Message=Object.freeze({receiver:oe.Message,sender:he.Message});function j(F){const q=F;return q&&oe.is(q.receiver)&&he.is(q.sender)}w.is=j})(Vt||(t.CancellationStrategy=Vt={}));var ut;(function(w){function j(F){const q=F;return q&&n.func(q.handleMessage)}w.is=j})(ut||(t.MessageStrategy=ut={}));var Ut;(function(w){function j(F){const q=F;return q&&(Vt.is(q.cancellationStrategy)||_.is(q.connectionStrategy)||ut.is(q.messageStrategy))}w.is=j})(Ut||(t.ConnectionOptions=Ut={}));var ye;(function(w){w[w.New=1]="New",w[w.Listening=2]="Listening",w[w.Closed=3]="Closed",w[w.Disposed=4]="Disposed"})(ye||(ye={}));function bn(w,j,F,q){const Y=F!==void 0?F:t.NullLogger;let vr=0,Rr=0,Dr=0;const dt="2.0";let lt;const Rt=new Map;let ft;const Dt=new Map,Tt=new Map;let Jt,We=new i.LinkedMap,$e=new Map,Pt=new Set,qe=new Map,U=p.Off,He=L.Text,te,Ee=ye.New;const Xt=new o.Emitter,hn=new o.Emitter,mn=new o.Emitter,wn=new o.Emitter,pn=new o.Emitter,Ne=q&&q.cancellationStrategy?q.cancellationStrategy:Vt.Message;function yn(a){if(a===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+a.toString()}function Tr(a){return a===null?"res-unknown-"+(++Dr).toString():"res-"+a.toString()}function Pr(){return"not-"+(++Rr).toString()}function kr(a,b){r.Message.isRequest(b)?a.set(yn(b.id),b):r.Message.isResponse(b)?a.set(Tr(b.id),b):a.set(Pr(),b)}function Sr(a){}function vn(){return Ee===ye.Listening}function Rn(){return Ee===ye.Closed}function Xe(){return Ee===ye.Disposed}function Dn(){(Ee===ye.New||Ee===ye.Listening)&&(Ee=ye.Closed,hn.fire(void 0))}function Cr(a){Xt.fire([a,void 0,void 0])}function qr(a){Xt.fire(a)}w.onClose(Dn),w.onError(Cr),j.onClose(Dn),j.onError(qr);function Tn(){Jt||We.size===0||(Jt=(0,e.default)().timer.setImmediate(()=>{Jt=void 0,Mr()}))}function Pn(a){r.Message.isRequest(a)?Er(a):r.Message.isNotification(a)?jr(a):r.Message.isResponse(a)?Nr(a):Fr(a)}function Mr(){if(We.size===0)return;const a=We.shift();try{const b=q?.messageStrategy;ut.is(b)?b.handleMessage(a,Pn):Pn(a)}finally{Tn()}}const Or=a=>{try{if(r.Message.isNotification(a)&&a.method===u.type.method){const b=a.params.id,y=yn(b),P=We.get(y);if(r.Message.isRequest(P)){const J=q?.connectionStrategy,ne=J&&J.cancelUndispatched?J.cancelUndispatched(P,Sr):void 0;if(ne&&(ne.error!==void 0||ne.result!==void 0)){We.delete(y),qe.delete(b),ne.id=P.id,kt(ne,a.method,Date.now()),j.write(ne).catch(()=>Y.error("Sending response for canceled message failed."));return}}const X=qe.get(b);if(X!==void 0){X.cancel(),Qt(a);return}else Pt.add(b)}kr(We,a)}finally{Tn()}};function Er(a){if(Xe())return;function b($,K,V){const fe={jsonrpc:dt,id:a.id};$ instanceof r.ResponseError?fe.error=$.toJson():fe.result=$===void 0?null:$,kt(fe,K,V),j.write(fe).catch(()=>Y.error("Sending response failed."))}function y($,K,V){const fe={jsonrpc:dt,id:a.id,error:$.toJson()};kt(fe,K,V),j.write(fe).catch(()=>Y.error("Sending response failed."))}function P($,K,V){$===void 0&&($=null);const fe={jsonrpc:dt,id:a.id,result:$};kt(fe,K,V),j.write(fe).catch(()=>Y.error("Sending response failed."))}Ar(a);const X=Rt.get(a.method);let J,ne;X&&(J=X.type,ne=X.handler);const ae=Date.now();if(ne||lt){const $=a.id??String(Date.now()),K=R.is(Ne.receiver)?Ne.receiver.createCancellationTokenSource($):Ne.receiver.createCancellationTokenSource(a);a.id!==null&&Pt.has(a.id)&&K.cancel(),a.id!==null&&qe.set($,K);try{let V;if(ne)if(a.params===void 0){if(J!==void 0&&J.numberOfParams!==0){y(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${a.method} defines ${J.numberOfParams} params but received none.`),a.method,ae);return}V=ne(K.token)}else if(Array.isArray(a.params)){if(J!==void 0&&J.parameterStructures===r.ParameterStructures.byName){y(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${a.method} defines parameters by name but received parameters by position`),a.method,ae);return}V=ne(...a.params,K.token)}else{if(J!==void 0&&J.parameterStructures===r.ParameterStructures.byPosition){y(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${a.method} defines parameters by position but received parameters by name`),a.method,ae);return}V=ne(a.params,K.token)}else lt&&(V=lt(a.method,a.params,K.token));const fe=V;V?fe.then?fe.then(ve=>{qe.delete($),b(ve,a.method,ae)},ve=>{qe.delete($),ve instanceof r.ResponseError?y(ve,a.method,ae):ve&&n.string(ve.message)?y(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${a.method} failed with message: ${ve.message}`),a.method,ae):y(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${a.method} failed unexpectedly without providing any details.`),a.method,ae)}):(qe.delete($),b(V,a.method,ae)):(qe.delete($),P(V,a.method,ae))}catch(V){qe.delete($),V instanceof r.ResponseError?b(V,a.method,ae):V&&n.string(V.message)?y(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${a.method} failed with message: ${V.message}`),a.method,ae):y(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${a.method} failed unexpectedly without providing any details.`),a.method,ae)}}else y(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${a.method}`),a.method,ae)}function Nr(a){if(!Xe())if(a.id===null)a.error?Y.error(`Received response message without id: Error is: 
${JSON.stringify(a.error,void 0,4)}`):Y.error("Received response message without id. No further error information provided.");else{const b=a.id,y=$e.get(b);if(Wr(a,y),y!==void 0){$e.delete(b);try{if(a.error){const P=a.error;y.reject(new r.ResponseError(P.code,P.message,P.data))}else if(a.result!==void 0)y.resolve(a.result);else throw new Error("Should never happen.")}catch(P){P.message?Y.error(`Response handler '${y.method}' failed with message: ${P.message}`):Y.error(`Response handler '${y.method}' failed unexpectedly.`)}}}}function jr(a){if(Xe())return;let b,y;if(a.method===u.type.method){const P=a.params.id;Pt.delete(P),Qt(a);return}else{const P=Dt.get(a.method);P&&(y=P.handler,b=P.type)}if(y||ft)try{if(Qt(a),y)if(a.params===void 0)b!==void 0&&b.numberOfParams!==0&&b.parameterStructures!==r.ParameterStructures.byName&&Y.error(`Notification ${a.method} defines ${b.numberOfParams} params but received none.`),y();else if(Array.isArray(a.params)){const P=a.params;a.method===f.type.method&&P.length===2&&l.is(P[0])?y({token:P[0],value:P[1]}):(b!==void 0&&(b.parameterStructures===r.ParameterStructures.byName&&Y.error(`Notification ${a.method} defines parameters by name but received parameters by position`),b.numberOfParams!==a.params.length&&Y.error(`Notification ${a.method} defines ${b.numberOfParams} params but received ${P.length} arguments`)),y(...P))}else b!==void 0&&b.parameterStructures===r.ParameterStructures.byPosition&&Y.error(`Notification ${a.method} defines parameters by position but received parameters by name`),y(a.params);else ft&&ft(a.method,a.params)}catch(P){P.message?Y.error(`Notification handler '${a.method}' failed with message: ${P.message}`):Y.error(`Notification handler '${a.method}' failed unexpectedly.`)}else mn.fire(a)}function Fr(a){if(!a){Y.error("Received empty message.");return}Y.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(a,null,4)}`);const b=a;if(n.string(b.id)||n.number(b.id)){const y=b.id,P=$e.get(y);P&&P.reject(new Error("The received response has neither a result nor an error property."))}}function je(a){if(a!=null)switch(U){case p.Verbose:return JSON.stringify(a,null,4);case p.Compact:return JSON.stringify(a);default:return}}function Ir(a){if(!(U===p.Off||!te))if(He===L.Text){let b;(U===p.Verbose||U===p.Compact)&&a.params&&(b=`Params: ${je(a.params)}

`),te.log(`Sending request '${a.method} - (${a.id})'.`,b)}else Qe("send-request",a)}function Lr(a){if(!(U===p.Off||!te))if(He===L.Text){let b;(U===p.Verbose||U===p.Compact)&&(a.params?b=`Params: ${je(a.params)}

`:b=`No parameters provided.

`),te.log(`Sending notification '${a.method}'.`,b)}else Qe("send-notification",a)}function kt(a,b,y){if(!(U===p.Off||!te))if(He===L.Text){let P;(U===p.Verbose||U===p.Compact)&&(a.error&&a.error.data?P=`Error data: ${je(a.error.data)}

`:a.result?P=`Result: ${je(a.result)}

`:a.error===void 0&&(P=`No result returned.

`)),te.log(`Sending response '${b} - (${a.id})'. Processing request took ${Date.now()-y}ms`,P)}else Qe("send-response",a)}function Ar(a){if(!(U===p.Off||!te))if(He===L.Text){let b;(U===p.Verbose||U===p.Compact)&&a.params&&(b=`Params: ${je(a.params)}

`),te.log(`Received request '${a.method} - (${a.id})'.`,b)}else Qe("receive-request",a)}function Qt(a){if(!(U===p.Off||!te||a.method===be.type.method))if(He===L.Text){let b;(U===p.Verbose||U===p.Compact)&&(a.params?b=`Params: ${je(a.params)}

`:b=`No parameters provided.

`),te.log(`Received notification '${a.method}'.`,b)}else Qe("receive-notification",a)}function Wr(a,b){if(!(U===p.Off||!te))if(He===L.Text){let y;if((U===p.Verbose||U===p.Compact)&&(a.error&&a.error.data?y=`Error data: ${je(a.error.data)}

`:a.result?y=`Result: ${je(a.result)}

`:a.error===void 0&&(y=`No result returned.

`)),b){const P=a.error?` Request failed: ${a.error.message} (${a.error.code}).`:"";te.log(`Received response '${b.method} - (${a.id})' in ${Date.now()-b.timerStart}ms.${P}`,y)}else te.log(`Received response ${a.id} without active response promise.`,y)}else Qe("receive-response",a)}function Qe(a,b){if(!te||U===p.Off)return;const y={isLSPMessage:!0,type:a,message:b,timestamp:Date.now()};te.log(y)}function gt(){if(Rn())throw new g(A.Closed,"Connection is closed.");if(Xe())throw new g(A.Disposed,"Connection is disposed.")}function $r(){if(vn())throw new g(A.AlreadyListening,"Connection is already listening")}function Hr(){if(!vn())throw new Error("Call listen() first.")}function _t(a){return a===void 0?null:a}function kn(a){if(a!==null)return a}function c(a){return a!=null&&!Array.isArray(a)&&typeof a=="object"}function se(a,b){switch(a){case r.ParameterStructures.auto:return c(b)?kn(b):[_t(b)];case r.ParameterStructures.byName:if(!c(b))throw new Error("Received parameters by name but param is not an object literal.");return kn(b);case r.ParameterStructures.byPosition:return[_t(b)];default:throw new Error(`Unknown parameter structure ${a.toString()}`)}}function ce(a,b){let y;const P=a.numberOfParams;switch(P){case 0:y=void 0;break;case 1:y=se(a.parameterStructures,b[0]);break;default:y=[];for(let X=0;X<b.length&&X<P;X++)y.push(_t(b[X]));if(b.length<P)for(let X=b.length;X<P;X++)y.push(null);break}return y}const M={sendNotification:(a,...b)=>{gt();let y,P;if(n.string(a)){y=a;const J=b[0];let ne=0,ae=r.ParameterStructures.auto;r.ParameterStructures.is(J)&&(ne=1,ae=J);let $=b.length;const K=$-ne;switch(K){case 0:P=void 0;break;case 1:P=se(ae,b[ne]);break;default:if(ae===r.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);P=b.slice(ne,$).map(V=>_t(V));break}}else{const J=b;y=a.method,P=ce(a,J)}const X={jsonrpc:dt,method:y,params:P};return Lr(X),j.write(X).catch(J=>{throw Y.error("Sending notification failed."),J})},onNotification:(a,b)=>{gt();let y;return n.func(a)?ft=a:b&&(n.string(a)?(y=a,Dt.set(a,{type:void 0,handler:b})):(y=a.method,Dt.set(a.method,{type:a,handler:b}))),{dispose:()=>{y!==void 0?Dt.delete(y):ft=void 0}}},onProgress:(a,b,y)=>{if(Tt.has(b))throw new Error(`Progress handler for token ${b} already registered`);return Tt.set(b,y),{dispose:()=>{Tt.delete(b)}}},sendProgress:(a,b,y)=>M.sendNotification(f.type,{token:b,value:y}),onUnhandledProgress:wn.event,sendRequest:(a,...b)=>{gt(),Hr();let y,P,X;if(n.string(a)){y=a;const $=b[0],K=b[b.length-1];let V=0,fe=r.ParameterStructures.auto;r.ParameterStructures.is($)&&(V=1,fe=$);let ve=b.length;s.CancellationToken.is(K)&&(ve=ve-1,X=K);const xe=ve-V;switch(xe){case 0:P=void 0;break;case 1:P=se(fe,b[V]);break;default:if(fe===r.ParameterStructures.byName)throw new Error(`Received ${xe} parameters for 'by Name' request parameter structure.`);P=b.slice(V,ve).map(bd=>_t(bd));break}}else{const $=b;y=a.method,P=ce(a,$);const K=a.numberOfParams;X=s.CancellationToken.is($[K])?$[K]:void 0}const J=vr++;let ne;X&&(ne=X.onCancellationRequested(()=>{const $=Ne.sender.sendCancellation(M,J);return $===void 0?(Y.log(`Received no promise from cancellation strategy when cancelling id ${J}`),Promise.resolve()):$.catch(()=>{Y.log(`Sending cancellation messages for id ${J} failed`)})}));const ae={jsonrpc:dt,id:J,method:y,params:P};return Ir(ae),typeof Ne.sender.enableCancellation=="function"&&Ne.sender.enableCancellation(ae),new Promise(async($,K)=>{const V=xe=>{$(xe),Ne.sender.cleanup(J),ne?.dispose()},fe=xe=>{K(xe),Ne.sender.cleanup(J),ne?.dispose()},ve={method:y,timerStart:Date.now(),resolve:V,reject:fe};try{await j.write(ae),$e.set(J,ve)}catch(xe){throw Y.error("Sending request failed."),ve.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,xe.message?xe.message:"Unknown reason")),xe}})},onRequest:(a,b)=>{gt();let y=null;return D.is(a)?(y=void 0,lt=a):n.string(a)?(y=null,b!==void 0&&(y=a,Rt.set(a,{handler:b,type:void 0}))):b!==void 0&&(y=a.method,Rt.set(a.method,{type:a,handler:b})),{dispose:()=>{y!==null&&(y!==void 0?Rt.delete(y):lt=void 0)}}},hasPendingResponse:()=>$e.size>0,trace:async(a,b,y)=>{let P=!1,X=L.Text;y!==void 0&&(n.boolean(y)?P=y:(P=y.sendNotification||!1,X=y.traceFormat||L.Text)),U=a,He=X,U===p.Off?te=void 0:te=b,P&&!Rn()&&!Xe()&&await M.sendNotification(ge.type,{value:p.toString(a)})},onError:Xt.event,onClose:hn.event,onUnhandledNotification:mn.event,onDispose:pn.event,end:()=>{j.end()},dispose:()=>{if(Xe())return;Ee=ye.Disposed,pn.fire(void 0);const a=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const b of $e.values())b.reject(a);$e=new Map,qe=new Map,Pt=new Set,We=new i.LinkedMap,n.func(j.dispose)&&j.dispose(),n.func(w.dispose)&&w.dispose()},listen:()=>{gt(),$r(),Ee=ye.Listening,w.listen(Or)},inspect:()=>{(0,e.default)().console.log("inspect")}};return M.onNotification(be.type,a=>{if(U===p.Off||!te)return;const b=U===p.Verbose||U===p.Compact;te.log(a.message,b?a.verbose:void 0)}),M.onNotification(f.type,a=>{const b=Tt.get(a.token);b?b(a.value):wn.fire(a)}),M}t.createMessageConnection=bn})($o),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const e=k;Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return e.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return e.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return e.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return e.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return e.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return e.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return e.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return e.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return e.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return e.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return e.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return e.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return e.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return e.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return e.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return e.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return e.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return e.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return e.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return e.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return e.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return e.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return e.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return e.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return e.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return e.ParameterStructures}});const n=Be;Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=En;Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Fe;Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=Ge;Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=St;Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return s.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return s.SharedArrayReceiverStrategy}});const u=Ze;Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});const l=et;Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const f=Fn;Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return f.AbstractMessageBuffer}});const h=$o;Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return h.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return h.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return h.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return h.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return h.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return h.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return h.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return h.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return h.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return h.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return h.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return h.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return h.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return h.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return h.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return h.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return h.MessageStrategy}});const D=Ve;t.RAL=D.default}(On),Object.defineProperty(Jr,"__esModule",{value:!0});const Ie=On;class In extends Ie.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return In.emptyBuffer}fromString(e,n){return new TextEncoder().encode(e)}toString(e,n){return n==="ascii"?this.asciiDecoder.decode(e):new TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e:e.slice(0,n)}allocNative(e){return new Uint8Array(e)}}In.emptyBuffer=new Uint8Array(0);class za{constructor(e){this.socket=e,this._onData=new Ie.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Ie.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),Ie.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ie.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ie.Disposable.create(()=>this.socket.removeEventListener("end",e))}onData(e){return this._onData.event(e)}}class Ba{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),Ie.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ie.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ie.Disposable.create(()=>this.socket.removeEventListener("end",e))}write(e,n){if(typeof e=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const Va=new TextEncoder,Ho=Object.freeze({messageBuffer:Object.freeze({create:t=>new In(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{if(e.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${e.charset}`);return Promise.resolve(Va.encode(JSON.stringify(t,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{if(!(t instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(e.charset).decode(t)))}})}),stream:Object.freeze({asReadableStream:t=>new za(t),asWritableStream:t=>new Ba(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){const r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){const n=setTimeout(t,0,...e);return{dispose:()=>clearTimeout(n)}},setInterval(t,e,...n){const r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function ri(){return Ho}(function(t){function e(){Ie.RAL.install(Ho)}t.install=e})(ri||(ri={})),Jr.default=ri,function(t){var e=ue&&ue.__createBinding||(Object.create?function(l,f,h,D){D===void 0&&(D=h);var p=Object.getOwnPropertyDescriptor(f,h);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(l,D,p)}:function(l,f,h,D){D===void 0&&(D=h),l[D]=f[h]}),n=ue&&ue.__exportStar||function(l,f){for(var h in l)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&e(f,l,h)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,Jr.default.install();const i=On;n(On,t);class o extends i.AbstractMessageReader{constructor(f){super(),this._onData=new i.Emitter,this._messageListener=h=>{this._onData.fire(h.data)},f.addEventListener("error",h=>this.fireError(h)),f.onmessage=this._messageListener}listen(f){return this._onData.event(f)}}t.BrowserMessageReader=o;class s extends i.AbstractMessageWriter{constructor(f){super(),this.port=f,this.errorCount=0,f.addEventListener("error",h=>this.fireError(h))}write(f){try{return this.port.postMessage(f),Promise.resolve()}catch(h){return this.handleError(h,f),Promise.reject(h)}}handleError(f,h){this.errorCount++,this.fireError(f,h,this.errorCount)}end(){}}t.BrowserMessageWriter=s;function u(l,f,h,D){return h===void 0&&(h=i.NullLogger),i.ConnectionStrategy.is(D)&&(D={connectionStrategy:D}),(0,i.createMessageConnection)(l,f,h,D)}t.createMessageConnection=u}(ht);var xo=ht,zo={},ii;(function(t){function e(n){return typeof n=="string"}t.is=e})(ii||(ii={}));var Ln;(function(t){function e(n){return typeof n=="string"}t.is=e})(Ln||(Ln={}));var oi;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(oi||(oi={}));var rn;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(rn||(rn={}));var Te;(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=rn.MAX_VALUE),i===Number.MAX_VALUE&&(i=rn.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){let i=r;return d.objectLiteral(i)&&d.uinteger(i.line)&&d.uinteger(i.character)}t.is=n})(Te||(Te={}));var G;(function(t){function e(r,i,o,s){if(d.uinteger(r)&&d.uinteger(i)&&d.uinteger(o)&&d.uinteger(s))return{start:Te.create(r,i),end:Te.create(o,s)};if(Te.is(r)&&Te.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${s}]`)}t.create=e;function n(r){let i=r;return d.objectLiteral(i)&&Te.is(i.start)&&Te.is(i.end)}t.is=n})(G||(G={}));var on;(function(t){function e(r,i){return{uri:r,range:i}}t.create=e;function n(r){let i=r;return d.objectLiteral(i)&&G.is(i.range)&&(d.string(i.uri)||d.undefined(i.uri))}t.is=n})(on||(on={}));var si;(function(t){function e(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}t.create=e;function n(r){let i=r;return d.objectLiteral(i)&&G.is(i.targetRange)&&d.string(i.targetUri)&&G.is(i.targetSelectionRange)&&(G.is(i.originSelectionRange)||d.undefined(i.originSelectionRange))}t.is=n})(si||(si={}));var An;(function(t){function e(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}t.create=e;function n(r){const i=r;return d.objectLiteral(i)&&d.numberRange(i.red,0,1)&&d.numberRange(i.green,0,1)&&d.numberRange(i.blue,0,1)&&d.numberRange(i.alpha,0,1)}t.is=n})(An||(An={}));var ci;(function(t){function e(r,i){return{range:r,color:i}}t.create=e;function n(r){const i=r;return d.objectLiteral(i)&&G.is(i.range)&&An.is(i.color)}t.is=n})(ci||(ci={}));var ai;(function(t){function e(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}t.create=e;function n(r){const i=r;return d.objectLiteral(i)&&d.string(i.label)&&(d.undefined(i.textEdit)||Le.is(i))&&(d.undefined(i.additionalTextEdits)||d.typedArray(i.additionalTextEdits,Le.is))}t.is=n})(ai||(ai={}));var ui;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(ui||(ui={}));var di;(function(t){function e(r,i,o,s,u,l){const f={startLine:r,endLine:i};return d.defined(o)&&(f.startCharacter=o),d.defined(s)&&(f.endCharacter=s),d.defined(u)&&(f.kind=u),d.defined(l)&&(f.collapsedText=l),f}t.create=e;function n(r){const i=r;return d.objectLiteral(i)&&d.uinteger(i.startLine)&&d.uinteger(i.startLine)&&(d.undefined(i.startCharacter)||d.uinteger(i.startCharacter))&&(d.undefined(i.endCharacter)||d.uinteger(i.endCharacter))&&(d.undefined(i.kind)||d.string(i.kind))}t.is=n})(di||(di={}));var Wn;(function(t){function e(r,i){return{location:r,message:i}}t.create=e;function n(r){let i=r;return d.defined(i)&&on.is(i.location)&&d.string(i.message)}t.is=n})(Wn||(Wn={}));var li;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(li||(li={}));var fi;(function(t){t.Unnecessary=1,t.Deprecated=2})(fi||(fi={}));var gi;(function(t){function e(n){const r=n;return d.objectLiteral(r)&&d.string(r.href)}t.is=e})(gi||(gi={}));var sn;(function(t){function e(r,i,o,s,u,l){let f={range:r,message:i};return d.defined(o)&&(f.severity=o),d.defined(s)&&(f.code=s),d.defined(u)&&(f.source=u),d.defined(l)&&(f.relatedInformation=l),f}t.create=e;function n(r){var i;let o=r;return d.defined(o)&&G.is(o.range)&&d.string(o.message)&&(d.number(o.severity)||d.undefined(o.severity))&&(d.integer(o.code)||d.string(o.code)||d.undefined(o.code))&&(d.undefined(o.codeDescription)||d.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(d.string(o.source)||d.undefined(o.source))&&(d.undefined(o.relatedInformation)||d.typedArray(o.relatedInformation,Wn.is))}t.is=n})(sn||(sn={}));var wt;(function(t){function e(r,i,...o){let s={title:r,command:i};return d.defined(o)&&o.length>0&&(s.arguments=o),s}t.create=e;function n(r){let i=r;return d.defined(i)&&d.string(i.title)&&d.string(i.command)}t.is=n})(wt||(wt={}));var Le;(function(t){function e(o,s){return{range:o,newText:s}}t.replace=e;function n(o,s){return{range:{start:o,end:o},newText:s}}t.insert=n;function r(o){return{range:o,newText:""}}t.del=r;function i(o){const s=o;return d.objectLiteral(s)&&d.string(s.newText)&&G.is(s.range)}t.is=i})(Le||(Le={}));var pt;(function(t){function e(r,i,o){const s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}t.create=e;function n(r){const i=r;return d.objectLiteral(i)&&d.string(i.label)&&(d.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(d.string(i.description)||i.description===void 0)}t.is=n})(pt||(pt={}));var _e;(function(t){function e(n){const r=n;return d.string(r)}t.is=e})(_e||(_e={}));var Ue;(function(t){function e(o,s,u){return{range:o,newText:s,annotationId:u}}t.replace=e;function n(o,s,u){return{range:{start:o,end:o},newText:s,annotationId:u}}t.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}t.del=r;function i(o){const s=o;return Le.is(s)&&(pt.is(s.annotationId)||_e.is(s.annotationId))}t.is=i})(Ue||(Ue={}));var cn;(function(t){function e(r,i){return{textDocument:r,edits:i}}t.create=e;function n(r){let i=r;return d.defined(i)&&an.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n})(cn||(cn={}));var qt;(function(t){function e(r,i,o){let s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}t.create=e;function n(r){let i=r;return i&&i.kind==="create"&&d.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||d.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||d.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||_e.is(i.annotationId))}t.is=n})(qt||(qt={}));var Mt;(function(t){function e(r,i,o,s){let u={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),s!==void 0&&(u.annotationId=s),u}t.create=e;function n(r){let i=r;return i&&i.kind==="rename"&&d.string(i.oldUri)&&d.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||d.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||d.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||_e.is(i.annotationId))}t.is=n})(Mt||(Mt={}));var Ot;(function(t){function e(r,i,o){let s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}t.create=e;function n(r){let i=r;return i&&i.kind==="delete"&&d.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||d.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||d.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||_e.is(i.annotationId))}t.is=n})(Ot||(Ot={}));var $n;(function(t){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>d.string(i.kind)?qt.is(i)||Mt.is(i)||Ot.is(i):cn.is(i)))}t.is=e})($n||($n={}));class Hn{constructor(e,n){this.edits=e,this.changeAnnotations=n}insert(e,n,r){let i,o;if(r===void 0?i=Le.insert(e,n):_e.is(r)?(o=r,i=Ue.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ue.insert(e,n,o)),this.edits.push(i),o!==void 0)return o}replace(e,n,r){let i,o;if(r===void 0?i=Le.replace(e,n):_e.is(r)?(o=r,i=Ue.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ue.replace(e,n,o)),this.edits.push(i),o!==void 0)return o}delete(e,n){let r,i;if(n===void 0?r=Le.del(e):_e.is(n)?(i=n,r=Ue.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Ue.del(e,i)),this.edits.push(r),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Bo{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,n){let r;if(_e.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class Ua{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Bo(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(n=>{if(cn.is(n)){const r=new Hn(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach(n=>{const r=new Hn(e.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(an.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:e.uri,version:e.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Hn(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[e];if(!n){let r=[];this._workspaceEdit.changes[e]=r,n=new Hn(r),this._textEditChanges[e]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Bo,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;pt.is(n)||_e.is(n)?i=n:r=n;let o,s;if(i===void 0?o=qt.create(e,r):(s=_e.is(i)?i:this._changeAnnotations.manage(i),o=qt.create(e,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;pt.is(r)||_e.is(r)?o=r:i=r;let s,u;if(o===void 0?s=Mt.create(e,n,i):(u=_e.is(o)?o:this._changeAnnotations.manage(o),s=Mt.create(e,n,i,u)),this._workspaceEdit.documentChanges.push(s),u!==void 0)return u}deleteFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;pt.is(n)||_e.is(n)?i=n:r=n;let o,s;if(i===void 0?o=Ot.create(e,r):(s=_e.is(i)?i:this._changeAnnotations.manage(i),o=Ot.create(e,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}}var _i;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){let i=r;return d.defined(i)&&d.string(i.uri)}t.is=n})(_i||(_i={}));var bi;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return d.defined(i)&&d.string(i.uri)&&d.integer(i.version)}t.is=n})(bi||(bi={}));var an;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return d.defined(i)&&d.string(i.uri)&&(i.version===null||d.integer(i.version))}t.is=n})(an||(an={}));var hi;(function(t){function e(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}t.create=e;function n(r){let i=r;return d.defined(i)&&d.string(i.uri)&&d.string(i.languageId)&&d.integer(i.version)&&d.string(i.text)}t.is=n})(hi||(hi={}));var xn;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){const r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(xn||(xn={}));var Et;(function(t){function e(n){const r=n;return d.objectLiteral(n)&&xn.is(r.kind)&&d.string(r.value)}t.is=e})(Et||(Et={}));var mi;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(mi||(mi={}));var wi;(function(t){t.PlainText=1,t.Snippet=2})(wi||(wi={}));var pi;(function(t){t.Deprecated=1})(pi||(pi={}));var yi;(function(t){function e(r,i,o){return{newText:r,insert:i,replace:o}}t.create=e;function n(r){const i=r;return i&&d.string(i.newText)&&G.is(i.insert)&&G.is(i.replace)}t.is=n})(yi||(yi={}));var vi;(function(t){t.asIs=1,t.adjustIndentation=2})(vi||(vi={}));var Ri;(function(t){function e(n){const r=n;return r&&(d.string(r.detail)||r.detail===void 0)&&(d.string(r.description)||r.description===void 0)}t.is=e})(Ri||(Ri={}));var Di;(function(t){function e(n){return{label:n}}t.create=e})(Di||(Di={}));var Ti;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(Ti||(Ti={}));var un;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){const i=r;return d.string(i)||d.objectLiteral(i)&&d.string(i.language)&&d.string(i.value)}t.is=n})(un||(un={}));var Pi;(function(t){function e(n){let r=n;return!!r&&d.objectLiteral(r)&&(Et.is(r.contents)||un.is(r.contents)||d.typedArray(r.contents,un.is))&&(n.range===void 0||G.is(n.range))}t.is=e})(Pi||(Pi={}));var ki;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(ki||(ki={}));var Si;(function(t){function e(n,r,...i){let o={label:n};return d.defined(r)&&(o.documentation=r),d.defined(i)?o.parameters=i:o.parameters=[],o}t.create=e})(Si||(Si={}));var Ci;(function(t){t.Text=1,t.Read=2,t.Write=3})(Ci||(Ci={}));var qi;(function(t){function e(n,r){let i={range:n};return d.number(r)&&(i.kind=r),i}t.create=e})(qi||(qi={}));var Mi;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(Mi||(Mi={}));var Oi;(function(t){t.Deprecated=1})(Oi||(Oi={}));var Ei;(function(t){function e(n,r,i,o,s){let u={name:n,kind:r,location:{uri:o,range:i}};return s&&(u.containerName=s),u}t.create=e})(Ei||(Ei={}));var Ni;(function(t){function e(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}t.create=e})(Ni||(Ni={}));var ji;(function(t){function e(r,i,o,s,u,l){let f={name:r,detail:i,kind:o,range:s,selectionRange:u};return l!==void 0&&(f.children=l),f}t.create=e;function n(r){let i=r;return i&&d.string(i.name)&&d.number(i.kind)&&G.is(i.range)&&G.is(i.selectionRange)&&(i.detail===void 0||d.string(i.detail))&&(i.deprecated===void 0||d.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n})(ji||(ji={}));var Fi;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Fi||(Fi={}));var dn;(function(t){t.Invoked=1,t.Automatic=2})(dn||(dn={}));var Ii;(function(t){function e(r,i,o){let s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}t.create=e;function n(r){let i=r;return d.defined(i)&&d.typedArray(i.diagnostics,sn.is)&&(i.only===void 0||d.typedArray(i.only,d.string))&&(i.triggerKind===void 0||i.triggerKind===dn.Invoked||i.triggerKind===dn.Automatic)}t.is=n})(Ii||(Ii={}));var Li;(function(t){function e(r,i,o){let s={title:r},u=!0;return typeof i=="string"?(u=!1,s.kind=i):wt.is(i)?s.command=i:s.edit=i,u&&o!==void 0&&(s.kind=o),s}t.create=e;function n(r){let i=r;return i&&d.string(i.title)&&(i.diagnostics===void 0||d.typedArray(i.diagnostics,sn.is))&&(i.kind===void 0||d.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||wt.is(i.command))&&(i.isPreferred===void 0||d.boolean(i.isPreferred))&&(i.edit===void 0||$n.is(i.edit))}t.is=n})(Li||(Li={}));var Ai;(function(t){function e(r,i){let o={range:r};return d.defined(i)&&(o.data=i),o}t.create=e;function n(r){let i=r;return d.defined(i)&&G.is(i.range)&&(d.undefined(i.command)||wt.is(i.command))}t.is=n})(Ai||(Ai={}));var Wi;(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}t.create=e;function n(r){let i=r;return d.defined(i)&&d.uinteger(i.tabSize)&&d.boolean(i.insertSpaces)}t.is=n})(Wi||(Wi={}));var $i;(function(t){function e(r,i,o){return{range:r,target:i,data:o}}t.create=e;function n(r){let i=r;return d.defined(i)&&G.is(i.range)&&(d.undefined(i.target)||d.string(i.target))}t.is=n})($i||($i={}));var Hi;(function(t){function e(r,i){return{range:r,parent:i}}t.create=e;function n(r){let i=r;return d.objectLiteral(i)&&G.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n})(Hi||(Hi={}));var xi;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(xi||(xi={}));var zi;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(zi||(zi={}));var Bi;(function(t){function e(n){const r=n;return d.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Bi||(Bi={}));var Vi;(function(t){function e(r,i){return{range:r,text:i}}t.create=e;function n(r){const i=r;return i!=null&&G.is(i.range)&&d.string(i.text)}t.is=n})(Vi||(Vi={}));var Ui;(function(t){function e(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}t.create=e;function n(r){const i=r;return i!=null&&G.is(i.range)&&d.boolean(i.caseSensitiveLookup)&&(d.string(i.variableName)||i.variableName===void 0)}t.is=n})(Ui||(Ui={}));var Ji;(function(t){function e(r,i){return{range:r,expression:i}}t.create=e;function n(r){const i=r;return i!=null&&G.is(i.range)&&(d.string(i.expression)||i.expression===void 0)}t.is=n})(Ji||(Ji={}));var Xi;(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}t.create=e;function n(r){const i=r;return d.defined(i)&&G.is(r.stoppedLocation)}t.is=n})(Xi||(Xi={}));var zn;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})(zn||(zn={}));var Bn;(function(t){function e(r){return{value:r}}t.create=e;function n(r){const i=r;return d.objectLiteral(i)&&(i.tooltip===void 0||d.string(i.tooltip)||Et.is(i.tooltip))&&(i.location===void 0||on.is(i.location))&&(i.command===void 0||wt.is(i.command))}t.is=n})(Bn||(Bn={}));var Qi;(function(t){function e(r,i,o){const s={position:r,label:i};return o!==void 0&&(s.kind=o),s}t.create=e;function n(r){const i=r;return d.objectLiteral(i)&&Te.is(i.position)&&(d.string(i.label)||d.typedArray(i.label,Bn.is))&&(i.kind===void 0||zn.is(i.kind))&&i.textEdits===void 0||d.typedArray(i.textEdits,Le.is)&&(i.tooltip===void 0||d.string(i.tooltip)||Et.is(i.tooltip))&&(i.paddingLeft===void 0||d.boolean(i.paddingLeft))&&(i.paddingRight===void 0||d.boolean(i.paddingRight))}t.is=n})(Qi||(Qi={}));var Yi;(function(t){function e(n){return{kind:"snippet",value:n}}t.createSnippet=e})(Yi||(Yi={}));var Ki;(function(t){function e(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}t.create=e})(Ki||(Ki={}));var Gi;(function(t){function e(n){return{items:n}}t.create=e})(Gi||(Gi={}));var Zi;(function(t){t.Invoked=0,t.Automatic=1})(Zi||(Zi={}));var eo;(function(t){function e(n,r){return{range:n,text:r}}t.create=e})(eo||(eo={}));var to;(function(t){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}t.create=e})(to||(to={}));var no;(function(t){function e(n){const r=n;return d.objectLiteral(r)&&Ln.is(r.uri)&&d.string(r.name)}t.is=e})(no||(no={}));const Ja=[`
`,`\r
`,"\r"];var ro;(function(t){function e(o,s,u,l){return new Xa(o,s,u,l)}t.create=e;function n(o){let s=o;return!!(d.defined(s)&&d.string(s.uri)&&(d.undefined(s.languageId)||d.string(s.languageId))&&d.uinteger(s.lineCount)&&d.func(s.getText)&&d.func(s.positionAt)&&d.func(s.offsetAt))}t.is=n;function r(o,s){let u=o.getText(),l=i(s,(h,D)=>{let p=h.range.start.line-D.range.start.line;return p===0?h.range.start.character-D.range.start.character:p}),f=u.length;for(let h=l.length-1;h>=0;h--){let D=l[h],p=o.offsetAt(D.range.start),C=o.offsetAt(D.range.end);if(C<=f)u=u.substring(0,p)+D.newText+u.substring(C,u.length);else throw new Error("Overlapping edit");f=p}return u}t.applyEdits=r;function i(o,s){if(o.length<=1)return o;const u=o.length/2|0,l=o.slice(0,u),f=o.slice(u);i(l,s),i(f,s);let h=0,D=0,p=0;for(;h<l.length&&D<f.length;)s(l[h],f[D])<=0?o[p++]=l[h++]:o[p++]=f[D++];for(;h<l.length;)o[p++]=l[h++];for(;D<f.length;)o[p++]=f[D++];return o}})(ro||(ro={}));class Xa{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(e.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Te.create(0,e);for(;r<i;){let s=Math.floor((r+i)/2);n[s]>e?i=s:r=s+1}let o=r-1;return Te.create(o,e-n[o])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var d;(function(t){const e=Object.prototype.toString;function n(C){return typeof C<"u"}t.defined=n;function r(C){return typeof C>"u"}t.undefined=r;function i(C){return C===!0||C===!1}t.boolean=i;function o(C){return e.call(C)==="[object String]"}t.string=o;function s(C){return e.call(C)==="[object Number]"}t.number=s;function u(C,L,ge){return e.call(C)==="[object Number]"&&L<=C&&C<=ge}t.numberRange=u;function l(C){return e.call(C)==="[object Number]"&&-2147483648<=C&&C<=2147483647}t.integer=l;function f(C){return e.call(C)==="[object Number]"&&0<=C&&C<=2147483647}t.uinteger=f;function h(C){return e.call(C)==="[object Function]"}t.func=h;function D(C){return C!==null&&typeof C=="object"}t.objectLiteral=D;function p(C,L){return Array.isArray(C)&&C.every(L)}t.typedArray=p})(d||(d={}));var Qa=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return Ue},get ChangeAnnotation(){return pt},get ChangeAnnotationIdentifier(){return _e},get CodeAction(){return Li},get CodeActionContext(){return Ii},get CodeActionKind(){return Fi},get CodeActionTriggerKind(){return dn},get CodeDescription(){return gi},get CodeLens(){return Ai},get Color(){return An},get ColorInformation(){return ci},get ColorPresentation(){return ai},get Command(){return wt},get CompletionItem(){return Di},get CompletionItemKind(){return mi},get CompletionItemLabelDetails(){return Ri},get CompletionItemTag(){return pi},get CompletionList(){return Ti},get CreateFile(){return qt},get DeleteFile(){return Ot},get Diagnostic(){return sn},get DiagnosticRelatedInformation(){return Wn},get DiagnosticSeverity(){return li},get DiagnosticTag(){return fi},get DocumentHighlight(){return qi},get DocumentHighlightKind(){return Ci},get DocumentLink(){return $i},get DocumentSymbol(){return ji},get DocumentUri(){return ii},EOL:Ja,get FoldingRange(){return di},get FoldingRangeKind(){return ui},get FormattingOptions(){return Wi},get Hover(){return Pi},get InlayHint(){return Qi},get InlayHintKind(){return zn},get InlayHintLabelPart(){return Bn},get InlineCompletionContext(){return to},get InlineCompletionItem(){return Ki},get InlineCompletionList(){return Gi},get InlineCompletionTriggerKind(){return Zi},get InlineValueContext(){return Xi},get InlineValueEvaluatableExpression(){return Ji},get InlineValueText(){return Vi},get InlineValueVariableLookup(){return Ui},get InsertReplaceEdit(){return yi},get InsertTextFormat(){return wi},get InsertTextMode(){return vi},get Location(){return on},get LocationLink(){return si},get MarkedString(){return un},get MarkupContent(){return Et},get MarkupKind(){return xn},get OptionalVersionedTextDocumentIdentifier(){return an},get ParameterInformation(){return ki},get Position(){return Te},get Range(){return G},get RenameFile(){return Mt},get SelectedCompletionInfo(){return eo},get SelectionRange(){return Hi},get SemanticTokenModifiers(){return zi},get SemanticTokenTypes(){return xi},get SemanticTokens(){return Bi},get SignatureInformation(){return Si},get StringValue(){return Yi},get SymbolInformation(){return Ei},get SymbolKind(){return Mi},get SymbolTag(){return Oi},get TextDocument(){return ro},get TextDocumentEdit(){return cn},get TextDocumentIdentifier(){return _i},get TextDocumentItem(){return hi},get TextEdit(){return Le},get URI(){return Ln},get VersionedTextDocumentIdentifier(){return bi},WorkspaceChange:Ua,get WorkspaceEdit(){return $n},get WorkspaceFolder(){return no},get WorkspaceSymbol(){return Ni},get integer(){return oi},get uinteger(){return rn}}),io=Uc(Qa),W={};Object.defineProperty(W,"__esModule",{value:!0}),W.ProtocolNotificationType=W.ProtocolNotificationType0=W.ProtocolRequestType=W.ProtocolRequestType0=W.RegistrationType=W.MessageDirection=void 0;const Nt=ht;var Vo;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Vo||(W.MessageDirection=Vo={}));class Ya{constructor(e){this.method=e}}W.RegistrationType=Ya;class Ka extends Nt.RequestType0{constructor(e){super(e)}}W.ProtocolRequestType0=Ka;class Ga extends Nt.RequestType{constructor(e){super(e,Nt.ParameterStructures.byName)}}W.ProtocolRequestType=Ga;class Za extends Nt.NotificationType0{constructor(e){super(e)}}W.ProtocolNotificationType0=Za;class eu extends Nt.NotificationType{constructor(e){super(e,Nt.ParameterStructures.byName)}}W.ProtocolNotificationType=eu;var Uo={},Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.objectLiteral=Z.typedArray=Z.stringArray=Z.array=Z.func=Z.error=Z.number=Z.string=Z.boolean=void 0;function tu(t){return t===!0||t===!1}Z.boolean=tu;function Jo(t){return typeof t=="string"||t instanceof String}Z.string=Jo;function nu(t){return typeof t=="number"||t instanceof Number}Z.number=nu;function ru(t){return t instanceof Error}Z.error=ru;function iu(t){return typeof t=="function"}Z.func=iu;function Xo(t){return Array.isArray(t)}Z.array=Xo;function ou(t){return Xo(t)&&t.every(e=>Jo(e))}Z.stringArray=ou;function su(t,e){return Array.isArray(t)&&t.every(e)}Z.typedArray=su;function cu(t){return t!==null&&typeof t=="object"}Z.objectLiteral=cu;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.ImplementationRequest=void 0;const Qo=W;var Yo;(function(t){t.method="textDocument/implementation",t.messageDirection=Qo.MessageDirection.clientToServer,t.type=new Qo.ProtocolRequestType(t.method)})(Yo||(Vn.ImplementationRequest=Yo={}));var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.TypeDefinitionRequest=void 0;const Ko=W;var Go;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Ko.MessageDirection.clientToServer,t.type=new Ko.ProtocolRequestType(t.method)})(Go||(Un.TypeDefinitionRequest=Go={}));var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.DidChangeWorkspaceFoldersNotification=jt.WorkspaceFoldersRequest=void 0;const Jn=W;var Zo;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Jn.MessageDirection.serverToClient,t.type=new Jn.ProtocolRequestType0(t.method)})(Zo||(jt.WorkspaceFoldersRequest=Zo={}));var es;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Jn.MessageDirection.clientToServer,t.type=new Jn.ProtocolNotificationType(t.method)})(es||(jt.DidChangeWorkspaceFoldersNotification=es={}));var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.ConfigurationRequest=void 0;const ts=W;var ns;(function(t){t.method="workspace/configuration",t.messageDirection=ts.MessageDirection.serverToClient,t.type=new ts.ProtocolRequestType(t.method)})(ns||(Xn.ConfigurationRequest=ns={}));var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.ColorPresentationRequest=Ft.DocumentColorRequest=void 0;const Qn=W;var rs;(function(t){t.method="textDocument/documentColor",t.messageDirection=Qn.MessageDirection.clientToServer,t.type=new Qn.ProtocolRequestType(t.method)})(rs||(Ft.DocumentColorRequest=rs={}));var is;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Qn.MessageDirection.clientToServer,t.type=new Qn.ProtocolRequestType(t.method)})(is||(Ft.ColorPresentationRequest=is={}));var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.FoldingRangeRefreshRequest=It.FoldingRangeRequest=void 0;const Yn=W;var os;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Yn.MessageDirection.clientToServer,t.type=new Yn.ProtocolRequestType(t.method)})(os||(It.FoldingRangeRequest=os={}));var ss;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Yn.MessageDirection.serverToClient,t.type=new Yn.ProtocolRequestType0(t.method)})(ss||(It.FoldingRangeRefreshRequest=ss={}));var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.DeclarationRequest=void 0;const cs=W;var as;(function(t){t.method="textDocument/declaration",t.messageDirection=cs.MessageDirection.clientToServer,t.type=new cs.ProtocolRequestType(t.method)})(as||(Kn.DeclarationRequest=as={}));var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.SelectionRangeRequest=void 0;const us=W;var ds;(function(t){t.method="textDocument/selectionRange",t.messageDirection=us.MessageDirection.clientToServer,t.type=new us.ProtocolRequestType(t.method)})(ds||(Gn.SelectionRangeRequest=ds={}));var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.WorkDoneProgressCancelNotification=tt.WorkDoneProgressCreateRequest=tt.WorkDoneProgress=void 0;const au=ht,Zn=W;var ls;(function(t){t.type=new au.ProgressType;function e(n){return n===t.type}t.is=e})(ls||(tt.WorkDoneProgress=ls={}));var fs;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Zn.MessageDirection.serverToClient,t.type=new Zn.ProtocolRequestType(t.method)})(fs||(tt.WorkDoneProgressCreateRequest=fs={}));var gs;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Zn.MessageDirection.clientToServer,t.type=new Zn.ProtocolNotificationType(t.method)})(gs||(tt.WorkDoneProgressCancelNotification=gs={}));var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.CallHierarchyOutgoingCallsRequest=nt.CallHierarchyIncomingCallsRequest=nt.CallHierarchyPrepareRequest=void 0;const Lt=W;var _s;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Lt.MessageDirection.clientToServer,t.type=new Lt.ProtocolRequestType(t.method)})(_s||(nt.CallHierarchyPrepareRequest=_s={}));var bs;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Lt.MessageDirection.clientToServer,t.type=new Lt.ProtocolRequestType(t.method)})(bs||(nt.CallHierarchyIncomingCallsRequest=bs={}));var hs;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Lt.MessageDirection.clientToServer,t.type=new Lt.ProtocolRequestType(t.method)})(hs||(nt.CallHierarchyOutgoingCallsRequest=hs={}));var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.SemanticTokensRefreshRequest=Re.SemanticTokensRangeRequest=Re.SemanticTokensDeltaRequest=Re.SemanticTokensRequest=Re.SemanticTokensRegistrationType=Re.TokenFormat=void 0;const Je=W;var ms;(function(t){t.Relative="relative"})(ms||(Re.TokenFormat=ms={}));var ln;(function(t){t.method="textDocument/semanticTokens",t.type=new Je.RegistrationType(t.method)})(ln||(Re.SemanticTokensRegistrationType=ln={}));var ws;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Je.MessageDirection.clientToServer,t.type=new Je.ProtocolRequestType(t.method),t.registrationMethod=ln.method})(ws||(Re.SemanticTokensRequest=ws={}));var ps;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Je.MessageDirection.clientToServer,t.type=new Je.ProtocolRequestType(t.method),t.registrationMethod=ln.method})(ps||(Re.SemanticTokensDeltaRequest=ps={}));var ys;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Je.MessageDirection.clientToServer,t.type=new Je.ProtocolRequestType(t.method),t.registrationMethod=ln.method})(ys||(Re.SemanticTokensRangeRequest=ys={}));var vs;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Je.MessageDirection.serverToClient,t.type=new Je.ProtocolRequestType0(t.method)})(vs||(Re.SemanticTokensRefreshRequest=vs={}));var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.ShowDocumentRequest=void 0;const Rs=W;var Ds;(function(t){t.method="window/showDocument",t.messageDirection=Rs.MessageDirection.serverToClient,t.type=new Rs.ProtocolRequestType(t.method)})(Ds||(er.ShowDocumentRequest=Ds={}));var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.LinkedEditingRangeRequest=void 0;const Ts=W;var Ps;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Ts.MessageDirection.clientToServer,t.type=new Ts.ProtocolRequestType(t.method)})(Ps||(tr.LinkedEditingRangeRequest=Ps={}));var pe={};Object.defineProperty(pe,"__esModule",{value:!0}),pe.WillDeleteFilesRequest=pe.DidDeleteFilesNotification=pe.DidRenameFilesNotification=pe.WillRenameFilesRequest=pe.DidCreateFilesNotification=pe.WillCreateFilesRequest=pe.FileOperationPatternKind=void 0;const Pe=W;var ks;(function(t){t.file="file",t.folder="folder"})(ks||(pe.FileOperationPatternKind=ks={}));var Ss;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Pe.MessageDirection.clientToServer,t.type=new Pe.ProtocolRequestType(t.method)})(Ss||(pe.WillCreateFilesRequest=Ss={}));var Cs;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Pe.MessageDirection.clientToServer,t.type=new Pe.ProtocolNotificationType(t.method)})(Cs||(pe.DidCreateFilesNotification=Cs={}));var qs;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Pe.MessageDirection.clientToServer,t.type=new Pe.ProtocolRequestType(t.method)})(qs||(pe.WillRenameFilesRequest=qs={}));var Ms;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Pe.MessageDirection.clientToServer,t.type=new Pe.ProtocolNotificationType(t.method)})(Ms||(pe.DidRenameFilesNotification=Ms={}));var Os;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Pe.MessageDirection.clientToServer,t.type=new Pe.ProtocolNotificationType(t.method)})(Os||(pe.DidDeleteFilesNotification=Os={}));var Es;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Pe.MessageDirection.clientToServer,t.type=new Pe.ProtocolRequestType(t.method)})(Es||(pe.WillDeleteFilesRequest=Es={}));var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.MonikerRequest=rt.MonikerKind=rt.UniquenessLevel=void 0;const Ns=W;var js;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(js||(rt.UniquenessLevel=js={}));var Fs;(function(t){t.$import="import",t.$export="export",t.local="local"})(Fs||(rt.MonikerKind=Fs={}));var Is;(function(t){t.method="textDocument/moniker",t.messageDirection=Ns.MessageDirection.clientToServer,t.type=new Ns.ProtocolRequestType(t.method)})(Is||(rt.MonikerRequest=Is={}));var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.TypeHierarchySubtypesRequest=it.TypeHierarchySupertypesRequest=it.TypeHierarchyPrepareRequest=void 0;const At=W;var Ls;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=At.MessageDirection.clientToServer,t.type=new At.ProtocolRequestType(t.method)})(Ls||(it.TypeHierarchyPrepareRequest=Ls={}));var As;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=At.MessageDirection.clientToServer,t.type=new At.ProtocolRequestType(t.method)})(As||(it.TypeHierarchySupertypesRequest=As={}));var Ws;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=At.MessageDirection.clientToServer,t.type=new At.ProtocolRequestType(t.method)})(Ws||(it.TypeHierarchySubtypesRequest=Ws={}));var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.InlineValueRefreshRequest=Wt.InlineValueRequest=void 0;const nr=W;var $s;(function(t){t.method="textDocument/inlineValue",t.messageDirection=nr.MessageDirection.clientToServer,t.type=new nr.ProtocolRequestType(t.method)})($s||(Wt.InlineValueRequest=$s={}));var Hs;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=nr.MessageDirection.serverToClient,t.type=new nr.ProtocolRequestType0(t.method)})(Hs||(Wt.InlineValueRefreshRequest=Hs={}));var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.InlayHintRefreshRequest=ot.InlayHintResolveRequest=ot.InlayHintRequest=void 0;const $t=W;var xs;(function(t){t.method="textDocument/inlayHint",t.messageDirection=$t.MessageDirection.clientToServer,t.type=new $t.ProtocolRequestType(t.method)})(xs||(ot.InlayHintRequest=xs={}));var zs;(function(t){t.method="inlayHint/resolve",t.messageDirection=$t.MessageDirection.clientToServer,t.type=new $t.ProtocolRequestType(t.method)})(zs||(ot.InlayHintResolveRequest=zs={}));var Bs;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=$t.MessageDirection.serverToClient,t.type=new $t.ProtocolRequestType0(t.method)})(Bs||(ot.InlayHintRefreshRequest=Bs={}));var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.DiagnosticRefreshRequest=ke.WorkspaceDiagnosticRequest=ke.DocumentDiagnosticRequest=ke.DocumentDiagnosticReportKind=ke.DiagnosticServerCancellationData=void 0;const Vs=ht,uu=Z,Ht=W;var Us;(function(t){function e(n){const r=n;return r&&uu.boolean(r.retriggerRequest)}t.is=e})(Us||(ke.DiagnosticServerCancellationData=Us={}));var Js;(function(t){t.Full="full",t.Unchanged="unchanged"})(Js||(ke.DocumentDiagnosticReportKind=Js={}));var Xs;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Ht.MessageDirection.clientToServer,t.type=new Ht.ProtocolRequestType(t.method),t.partialResult=new Vs.ProgressType})(Xs||(ke.DocumentDiagnosticRequest=Xs={}));var Qs;(function(t){t.method="workspace/diagnostic",t.messageDirection=Ht.MessageDirection.clientToServer,t.type=new Ht.ProtocolRequestType(t.method),t.partialResult=new Vs.ProgressType})(Qs||(ke.WorkspaceDiagnosticRequest=Qs={}));var Ys;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Ht.MessageDirection.serverToClient,t.type=new Ht.ProtocolRequestType0(t.method)})(Ys||(ke.DiagnosticRefreshRequest=Ys={}));var ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.DidCloseNotebookDocumentNotification=ee.DidSaveNotebookDocumentNotification=ee.DidChangeNotebookDocumentNotification=ee.NotebookCellArrayChange=ee.DidOpenNotebookDocumentNotification=ee.NotebookDocumentSyncRegistrationType=ee.NotebookDocument=ee.NotebookCell=ee.ExecutionSummary=ee.NotebookCellKind=void 0;const fn=io,Oe=Z,Ae=W;var oo;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(oo||(ee.NotebookCellKind=oo={}));var so;(function(t){function e(i,o){const s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}t.create=e;function n(i){const o=i;return Oe.objectLiteral(o)&&fn.uinteger.is(o.executionOrder)&&(o.success===void 0||Oe.boolean(o.success))}t.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=r})(so||(ee.ExecutionSummary=so={}));var rr;(function(t){function e(o,s){return{kind:o,document:s}}t.create=e;function n(o){const s=o;return Oe.objectLiteral(s)&&oo.is(s.kind)&&fn.DocumentUri.is(s.document)&&(s.metadata===void 0||Oe.objectLiteral(s.metadata))}t.is=n;function r(o,s){const u=new Set;return o.document!==s.document&&u.add("document"),o.kind!==s.kind&&u.add("kind"),o.executionSummary!==s.executionSummary&&u.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&u.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!so.equals(o.executionSummary,s.executionSummary)&&u.add("executionSummary"),u}t.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;const u=Array.isArray(o),l=Array.isArray(s);if(u!==l)return!1;if(u&&l){if(o.length!==s.length)return!1;for(let f=0;f<o.length;f++)if(!i(o[f],s[f]))return!1}if(Oe.objectLiteral(o)&&Oe.objectLiteral(s)){const f=Object.keys(o),h=Object.keys(s);if(f.length!==h.length||(f.sort(),h.sort(),!i(f,h)))return!1;for(let D=0;D<f.length;D++){const p=f[D];if(!i(o[p],s[p]))return!1}}return!0}})(rr||(ee.NotebookCell=rr={}));var Ks;(function(t){function e(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}t.create=e;function n(r){const i=r;return Oe.objectLiteral(i)&&Oe.string(i.uri)&&fn.integer.is(i.version)&&Oe.typedArray(i.cells,rr.is)}t.is=n})(Ks||(ee.NotebookDocument=Ks={}));var xt;(function(t){t.method="notebookDocument/sync",t.messageDirection=Ae.MessageDirection.clientToServer,t.type=new Ae.RegistrationType(t.method)})(xt||(ee.NotebookDocumentSyncRegistrationType=xt={}));var Gs;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Ae.MessageDirection.clientToServer,t.type=new Ae.ProtocolNotificationType(t.method),t.registrationMethod=xt.method})(Gs||(ee.DidOpenNotebookDocumentNotification=Gs={}));var Zs;(function(t){function e(r){const i=r;return Oe.objectLiteral(i)&&fn.uinteger.is(i.start)&&fn.uinteger.is(i.deleteCount)&&(i.cells===void 0||Oe.typedArray(i.cells,rr.is))}t.is=e;function n(r,i,o){const s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}t.create=n})(Zs||(ee.NotebookCellArrayChange=Zs={}));var ec;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Ae.MessageDirection.clientToServer,t.type=new Ae.ProtocolNotificationType(t.method),t.registrationMethod=xt.method})(ec||(ee.DidChangeNotebookDocumentNotification=ec={}));var tc;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Ae.MessageDirection.clientToServer,t.type=new Ae.ProtocolNotificationType(t.method),t.registrationMethod=xt.method})(tc||(ee.DidSaveNotebookDocumentNotification=tc={}));var nc;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Ae.MessageDirection.clientToServer,t.type=new Ae.ProtocolNotificationType(t.method),t.registrationMethod=xt.method})(nc||(ee.DidCloseNotebookDocumentNotification=nc={}));var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.InlineCompletionRequest=void 0;const rc=W;var ic;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=rc.MessageDirection.clientToServer,t.type=new rc.ProtocolRequestType(t.method)})(ic||(ir.InlineCompletionRequest=ic={})),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=void 0;const e=W,n=io,r=Z,i=Vn;Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=Un;Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=jt;Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const u=Xn;Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=Ft;Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const f=It;Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return f.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return f.FoldingRangeRefreshRequest}});const h=Kn;Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return h.DeclarationRequest}});const D=Gn;Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return D.SelectionRangeRequest}});const p=tt;Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const C=nt;Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return C.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return C.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return C.CallHierarchyPrepareRequest}});const L=Re;Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return L.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return L.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return L.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return L.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return L.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return L.SemanticTokensRegistrationType}});const ge=er;Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return ge.ShowDocumentRequest}});const be=tr;Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return be.LinkedEditingRangeRequest}});const A=pe;Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return A.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return A.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return A.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return A.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return A.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return A.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return A.WillDeleteFilesRequest}});const g=rt;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return g.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return g.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return g.MonikerRequest}});const _=it;Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySupertypesRequest}});const R=Wt;Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return R.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return R.InlineValueRefreshRequest}});const le=ot;Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return le.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return le.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return le.InlayHintRefreshRequest}});const oe=ke;Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return oe.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return oe.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return oe.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return oe.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return oe.DiagnosticRefreshRequest}});const he=ee;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return he.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return he.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return he.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return he.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return he.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return he.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return he.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return he.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return he.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return he.DidCloseNotebookDocumentNotification}});const Vt=ir;Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return Vt.InlineCompletionRequest}});var ut;(function(c){function se(ce){const M=ce;return r.string(M)||r.string(M.language)||r.string(M.scheme)||r.string(M.pattern)}c.is=se})(ut||(t.TextDocumentFilter=ut={}));var Ut;(function(c){function se(ce){const M=ce;return r.objectLiteral(M)&&(r.string(M.notebookType)||r.string(M.scheme)||r.string(M.pattern))}c.is=se})(Ut||(t.NotebookDocumentFilter=Ut={}));var ye;(function(c){function se(ce){const M=ce;return r.objectLiteral(M)&&(r.string(M.notebook)||Ut.is(M.notebook))&&(M.language===void 0||r.string(M.language))}c.is=se})(ye||(t.NotebookCellTextDocumentFilter=ye={}));var bn;(function(c){function se(ce){if(!Array.isArray(ce))return!1;for(let M of ce)if(!r.string(M)&&!ut.is(M)&&!ye.is(M))return!1;return!0}c.is=se})(bn||(t.DocumentSelector=bn={}));var w;(function(c){c.method="client/registerCapability",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolRequestType(c.method)})(w||(t.RegistrationRequest=w={}));var j;(function(c){c.method="client/unregisterCapability",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolRequestType(c.method)})(j||(t.UnregistrationRequest=j={}));var F;(function(c){c.Create="create",c.Rename="rename",c.Delete="delete"})(F||(t.ResourceOperationKind=F={}));var q;(function(c){c.Abort="abort",c.Transactional="transactional",c.TextOnlyTransactional="textOnlyTransactional",c.Undo="undo"})(q||(t.FailureHandlingKind=q={}));var Y;(function(c){c.UTF8="utf-8",c.UTF16="utf-16",c.UTF32="utf-32"})(Y||(t.PositionEncodingKind=Y={}));var vr;(function(c){function se(ce){const M=ce;return M&&r.string(M.id)&&M.id.length>0}c.hasId=se})(vr||(t.StaticRegistrationOptions=vr={}));var Rr;(function(c){function se(ce){const M=ce;return M&&(M.documentSelector===null||bn.is(M.documentSelector))}c.is=se})(Rr||(t.TextDocumentRegistrationOptions=Rr={}));var Dr;(function(c){function se(M){const a=M;return r.objectLiteral(a)&&(a.workDoneProgress===void 0||r.boolean(a.workDoneProgress))}c.is=se;function ce(M){const a=M;return a&&r.boolean(a.workDoneProgress)}c.hasWorkDoneProgress=ce})(Dr||(t.WorkDoneProgressOptions=Dr={}));var dt;(function(c){c.method="initialize",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(dt||(t.InitializeRequest=dt={}));var lt;(function(c){c.unknownProtocolVersion=1})(lt||(t.InitializeErrorCodes=lt={}));var Rt;(function(c){c.method="initialized",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(Rt||(t.InitializedNotification=Rt={}));var ft;(function(c){c.method="shutdown",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType0(c.method)})(ft||(t.ShutdownRequest=ft={}));var Dt;(function(c){c.method="exit",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType0(c.method)})(Dt||(t.ExitNotification=Dt={}));var Tt;(function(c){c.method="workspace/didChangeConfiguration",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(Tt||(t.DidChangeConfigurationNotification=Tt={}));var Jt;(function(c){c.Error=1,c.Warning=2,c.Info=3,c.Log=4,c.Debug=5})(Jt||(t.MessageType=Jt={}));var We;(function(c){c.method="window/showMessage",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolNotificationType(c.method)})(We||(t.ShowMessageNotification=We={}));var $e;(function(c){c.method="window/showMessageRequest",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolRequestType(c.method)})($e||(t.ShowMessageRequest=$e={}));var Pt;(function(c){c.method="window/logMessage",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolNotificationType(c.method)})(Pt||(t.LogMessageNotification=Pt={}));var qe;(function(c){c.method="telemetry/event",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolNotificationType(c.method)})(qe||(t.TelemetryEventNotification=qe={}));var U;(function(c){c.None=0,c.Full=1,c.Incremental=2})(U||(t.TextDocumentSyncKind=U={}));var He;(function(c){c.method="textDocument/didOpen",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(He||(t.DidOpenTextDocumentNotification=He={}));var te;(function(c){function se(M){let a=M;return a!=null&&typeof a.text=="string"&&a.range!==void 0&&(a.rangeLength===void 0||typeof a.rangeLength=="number")}c.isIncremental=se;function ce(M){let a=M;return a!=null&&typeof a.text=="string"&&a.range===void 0&&a.rangeLength===void 0}c.isFull=ce})(te||(t.TextDocumentContentChangeEvent=te={}));var Ee;(function(c){c.method="textDocument/didChange",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(Ee||(t.DidChangeTextDocumentNotification=Ee={}));var Xt;(function(c){c.method="textDocument/didClose",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(Xt||(t.DidCloseTextDocumentNotification=Xt={}));var hn;(function(c){c.method="textDocument/didSave",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(hn||(t.DidSaveTextDocumentNotification=hn={}));var mn;(function(c){c.Manual=1,c.AfterDelay=2,c.FocusOut=3})(mn||(t.TextDocumentSaveReason=mn={}));var wn;(function(c){c.method="textDocument/willSave",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(wn||(t.WillSaveTextDocumentNotification=wn={}));var pn;(function(c){c.method="textDocument/willSaveWaitUntil",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(pn||(t.WillSaveTextDocumentWaitUntilRequest=pn={}));var Ne;(function(c){c.method="workspace/didChangeWatchedFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(Ne||(t.DidChangeWatchedFilesNotification=Ne={}));var yn;(function(c){c.Created=1,c.Changed=2,c.Deleted=3})(yn||(t.FileChangeType=yn={}));var Tr;(function(c){function se(ce){const M=ce;return r.objectLiteral(M)&&(n.URI.is(M.baseUri)||n.WorkspaceFolder.is(M.baseUri))&&r.string(M.pattern)}c.is=se})(Tr||(t.RelativePattern=Tr={}));var Pr;(function(c){c.Create=1,c.Change=2,c.Delete=4})(Pr||(t.WatchKind=Pr={}));var kr;(function(c){c.method="textDocument/publishDiagnostics",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolNotificationType(c.method)})(kr||(t.PublishDiagnosticsNotification=kr={}));var Sr;(function(c){c.Invoked=1,c.TriggerCharacter=2,c.TriggerForIncompleteCompletions=3})(Sr||(t.CompletionTriggerKind=Sr={}));var vn;(function(c){c.method="textDocument/completion",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(vn||(t.CompletionRequest=vn={}));var Rn;(function(c){c.method="completionItem/resolve",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Rn||(t.CompletionResolveRequest=Rn={}));var Xe;(function(c){c.method="textDocument/hover",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Xe||(t.HoverRequest=Xe={}));var Dn;(function(c){c.Invoked=1,c.TriggerCharacter=2,c.ContentChange=3})(Dn||(t.SignatureHelpTriggerKind=Dn={}));var Cr;(function(c){c.method="textDocument/signatureHelp",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Cr||(t.SignatureHelpRequest=Cr={}));var qr;(function(c){c.method="textDocument/definition",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(qr||(t.DefinitionRequest=qr={}));var Tn;(function(c){c.method="textDocument/references",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Tn||(t.ReferencesRequest=Tn={}));var Pn;(function(c){c.method="textDocument/documentHighlight",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Pn||(t.DocumentHighlightRequest=Pn={}));var Mr;(function(c){c.method="textDocument/documentSymbol",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Mr||(t.DocumentSymbolRequest=Mr={}));var Or;(function(c){c.method="textDocument/codeAction",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Or||(t.CodeActionRequest=Or={}));var Er;(function(c){c.method="codeAction/resolve",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Er||(t.CodeActionResolveRequest=Er={}));var Nr;(function(c){c.method="workspace/symbol",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Nr||(t.WorkspaceSymbolRequest=Nr={}));var jr;(function(c){c.method="workspaceSymbol/resolve",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(jr||(t.WorkspaceSymbolResolveRequest=jr={}));var Fr;(function(c){c.method="textDocument/codeLens",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Fr||(t.CodeLensRequest=Fr={}));var je;(function(c){c.method="codeLens/resolve",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(je||(t.CodeLensResolveRequest=je={}));var Ir;(function(c){c.method="workspace/codeLens/refresh",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolRequestType0(c.method)})(Ir||(t.CodeLensRefreshRequest=Ir={}));var Lr;(function(c){c.method="textDocument/documentLink",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Lr||(t.DocumentLinkRequest=Lr={}));var kt;(function(c){c.method="documentLink/resolve",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(kt||(t.DocumentLinkResolveRequest=kt={}));var Ar;(function(c){c.method="textDocument/formatting",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Ar||(t.DocumentFormattingRequest=Ar={}));var Qt;(function(c){c.method="textDocument/rangeFormatting",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Qt||(t.DocumentRangeFormattingRequest=Qt={}));var Wr;(function(c){c.method="textDocument/rangesFormatting",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Wr||(t.DocumentRangesFormattingRequest=Wr={}));var Qe;(function(c){c.method="textDocument/onTypeFormatting",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Qe||(t.DocumentOnTypeFormattingRequest=Qe={}));var gt;(function(c){c.Identifier=1})(gt||(t.PrepareSupportDefaultBehavior=gt={}));var $r;(function(c){c.method="textDocument/rename",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})($r||(t.RenameRequest=$r={}));var Hr;(function(c){c.method="textDocument/prepareRename",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(Hr||(t.PrepareRenameRequest=Hr={}));var _t;(function(c){c.method="workspace/executeCommand",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(_t||(t.ExecuteCommandRequest=_t={}));var kn;(function(c){c.method="workspace/applyEdit",c.messageDirection=e.MessageDirection.serverToClient,c.type=new e.ProtocolRequestType("workspace/applyEdit")})(kn||(t.ApplyWorkspaceEditRequest=kn={}))}(Uo);var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.createProtocolConnection=void 0;const oc=ht;function du(t,e,n,r){return oc.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,oc.createMessageConnection)(t,e,n,r)}or.createProtocolConnection=du,function(t){var e=ue&&ue.__createBinding||(Object.create?function(o,s,u,l){l===void 0&&(l=u);var f=Object.getOwnPropertyDescriptor(s,u);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,l,f)}:function(o,s,u,l){l===void 0&&(l=u),o[l]=s[u]}),n=ue&&ue.__exportStar||function(o,s){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&e(s,o,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,n(ht,t),n(io,t),n(W,t),n(Uo,t);var r=or;Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(t.LSPErrorCodes=i={}))}(zo),function(t){var e=ue&&ue.__createBinding||(Object.create?function(o,s,u,l){l===void 0&&(l=u);var f=Object.getOwnPropertyDescriptor(s,u);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,l,f)}:function(o,s,u,l){l===void 0&&(l=u),o[l]=s[u]}),n=ue&&ue.__exportStar||function(o,s){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&e(s,o,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=xo;n(xo,t),n(zo,t);function i(o,s,u,l){return(0,r.createMessageConnection)(o,s,u,l)}t.createProtocolConnection=i}(re),Object.defineProperty(ze,"__esModule",{value:!0}),ze.SemanticTokensBuilder=ze.SemanticTokensDiff=ze.SemanticTokensFeature=void 0;const sr=re,lu=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(sr.SemanticTokensRefreshRequest.type),on:e=>{const n=sr.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{const n=sr.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{const n=sr.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ze.SemanticTokensFeature=lu;class sc{constructor(e,n){this.originalSequence=e,this.modifiedSequence=n}computeDiff(){const e=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<e&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<e){let i=e-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);const s=i-r+1,u=this.modifiedSequence.slice(r,o+1);return u.length===1&&u[0]===this.originalSequence[i]?[{start:r,deleteCount:s-1}]:[{start:r,deleteCount:s,data:u}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<e?[{start:r,deleteCount:e-r}]:[]}}ze.SemanticTokensDiff=sc;class fu{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,o){let s=e,u=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(u-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=u,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new sc(this._prevData,this._data).computeDiff()}:this.build()}}ze.SemanticTokensBuilder=fu;var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.InlineCompletionFeature=void 0;const gu=re,_u=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(gu.InlineCompletionRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};cr.InlineCompletionFeature=_u;var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.TextDocuments=void 0;const yt=re;class bu{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new yt.Emitter,this._onDidOpen=new yt.Emitter,this._onDidClose=new yt.Emitter,this._onDidSave=new yt.Emitter,this._onWillSave=new yt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=yt.TextDocumentSyncKind.Incremental;const n=[];return n.push(e.onDidOpenTextDocument(r=>{const i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);const s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),n.push(e.onDidChangeTextDocument(r=>{const i=r.textDocument,o=r.contentChanges;if(o.length===0)return;const{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let u=this._syncedDocuments.get(i.uri);u!==void 0&&(u=this._configuration.update(u,o,s),this._syncedDocuments.set(i.uri,u),this._onDidChangeContent.fire(Object.freeze({document:u})))})),n.push(e.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(e.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(e.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(e.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),yt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}gn.TextDocuments=bu;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.NotebookDocuments=vt.NotebookSyncFeature=void 0;const Se=re,cc=gn,hu=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(Se.DidOpenNotebookDocumentNotification.type,n=>{e(n)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(Se.DidChangeNotebookDocumentNotification.type,n=>{e(n)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(Se.DidSaveNotebookDocumentNotification.type,n=>{e(n)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(Se.DidCloseNotebookDocumentNotification.type,n=>{e(n)})}}};vt.NotebookSyncFeature=hu;class zt{onDidOpenTextDocument(e){return this.openHandler=e,Se.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,Se.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,Se.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return zt.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return zt.NULL_DISPOSE}onDidSaveTextDocument(){return zt.NULL_DISPOSE}}zt.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class mu{constructor(e){e instanceof cc.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new cc.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Se.Emitter,this._onDidChange=new Se.Emitter,this._onDidSave=new Se.Emitter,this._onDidClose=new Se.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){const n=this.notebookCellMap.get(e);return n&&n[0]}findNotebookDocumentForCell(e){const n=typeof e=="string"?e:e.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){const n=new zt,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;const s=o.metadata;let u=!1;const l=i.change;l.metadata!==void 0&&(u=!0,o.metadata=l.metadata);const f=[],h=[],D=[],p=[];if(l.cells!==void 0){const A=l.cells;if(A.structure!==void 0){const g=A.structure.array;if(o.cells.splice(g.start,g.deleteCount,...g.cells!==void 0?g.cells:[]),A.structure.didOpen!==void 0)for(const _ of A.structure.didOpen)n.openTextDocument({textDocument:_}),f.push(_.uri);if(A.structure.didClose)for(const _ of A.structure.didClose)n.closeTextDocument({textDocument:_}),h.push(_.uri)}if(A.data!==void 0){const g=new Map(A.data.map(_=>[_.document,_]));for(let _=0;_<=o.cells.length;_++){const R=g.get(o.cells[_].document);if(R!==void 0){const le=o.cells.splice(_,1,R);if(D.push({old:le[0],new:R}),g.delete(R.document),g.size===0)break}}}if(A.textContent!==void 0)for(const g of A.textContent)n.changeTextDocument({textDocument:g.document,contentChanges:g.changes}),p.push(g.document.uri)}this.updateCellMap(o);const C={notebookDocument:o};u&&(C.metadata={old:s,new:o.metadata});const L=[];for(const A of f)L.push(this.getNotebookCell(A));const ge=[];for(const A of h)ge.push(this.getNotebookCell(A));const be=[];for(const A of p)be.push(this.getNotebookCell(A));(L.length>0||ge.length>0||D.length>0||be.length>0)&&(C.cells={added:L,removed:ge,changed:{data:D,textContent:be}}),(C.metadata!==void 0||C.cells!==void 0)&&this._onDidChange.fire(C)})),r.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(const s of i.cellTextDocuments)n.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(const s of o.cells)this.notebookCellMap.delete(s.document)}})),Se.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(e){for(const n of e.cells)this.notebookCellMap.set(n.document,[n,e])}}vt.NotebookDocuments=mu;var H={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.thenable=ie.typedArray=ie.stringArray=ie.array=ie.func=ie.error=ie.number=ie.string=ie.boolean=void 0;function wu(t){return t===!0||t===!1}ie.boolean=wu;function ac(t){return typeof t=="string"||t instanceof String}ie.string=ac;function pu(t){return typeof t=="number"||t instanceof Number}ie.number=pu;function yu(t){return t instanceof Error}ie.error=yu;function uc(t){return typeof t=="function"}ie.func=uc;function dc(t){return Array.isArray(t)}ie.array=dc;function vu(t){return dc(t)&&t.every(e=>ac(e))}ie.stringArray=vu;function Ru(t,e){return Array.isArray(t)&&t.every(e)}ie.typedArray=Ru;function Du(t){return t&&uc(t.then)}ie.thenable=Du;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.generateUuid=De.parse=De.isUUID=De.v4=De.empty=void 0;class co{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class I extends co{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return I._oneOf(I._chars)}constructor(){super([I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),"-",I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),"-","4",I._randomHex(),I._randomHex(),I._randomHex(),"-",I._oneOf(I._timeHighBits),I._randomHex(),I._randomHex(),I._randomHex(),"-",I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex()].join(""))}}I._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],I._timeHighBits=["8","9","a","b"],De.empty=new co("00000000-0000-0000-0000-000000000000");function lc(){return new I}De.v4=lc;const Tu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function fc(t){return Tu.test(t)}De.isUUID=fc;function Pu(t){if(!fc(t))throw new Error("invalid uuid");return new co(t)}De.parse=Pu;function ku(){return lc().asHex()}De.generateUuid=ku;var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.attachPartialResult=st.ProgressFeature=st.attachWorkDone=void 0;const ct=re,Su=De;class at{constructor(e,n){this._connection=e,this._token=n,at.Instances.set(this._token,this)}begin(e,n,r,i){let o={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,o)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,r)}done(){at.Instances.delete(this._token),this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,{kind:"end"})}}at.Instances=new Map;class gc extends at{constructor(e,n){super(e,n),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class ao{constructor(){}begin(){}report(){}done(){}}class _c extends ao{constructor(){super(),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function Cu(t,e){if(e===void 0||e.workDoneToken===void 0)return new ao;const n=e.workDoneToken;return delete e.workDoneToken,new at(t,n)}st.attachWorkDone=Cu;const qu=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(ct.WorkDoneProgressCancelNotification.type,n=>{let r=at.Instances.get(n.token);(r instanceof gc||r instanceof _c)&&r.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new ao:new at(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=(0,Su.generateUuid)();return this.connection.sendRequest(ct.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new gc(this.connection,e))}else return Promise.resolve(new _c)}};st.ProgressFeature=qu;var uo;(function(t){t.type=new ct.ProgressType})(uo||(uo={}));class Mu{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(uo.type,this._token,e)}}function Ou(t,e){if(e===void 0||e.partialResultToken===void 0)return;const n=e.partialResultToken;return delete e.partialResultToken,new Mu(t,n)}st.attachPartialResult=Ou;var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.ConfigurationFeature=void 0;const Eu=re,Nu=ie,ju=t=>class extends t{getConfiguration(e){return e?Nu.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Eu.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(e)?r:r[0]:Array.isArray(e)?[]:null)}};ar.ConfigurationFeature=ju;var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.WorkspaceFoldersFeature=void 0;const dr=re,Fu=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new dr.Emitter,this.connection.onNotification(dr.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);const n=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(dr.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(dr.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};ur.WorkspaceFoldersFeature=Fu;var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.CallHierarchyFeature=void 0;const lo=re,Iu=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(lo.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:e=>{const n=lo.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{const n=lo.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};lr.CallHierarchyFeature=Iu;var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.ShowDocumentFeature=void 0;const Lu=re,Au=t=>class extends t{showDocument(e){return this.connection.sendRequest(Lu.ShowDocumentRequest.type,e)}};fr.ShowDocumentFeature=Au;var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.FileOperationsFeature=void 0;const Bt=re,Wu=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Bt.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){return this.connection.onNotification(Bt.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){return this.connection.onNotification(Bt.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Bt.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Bt.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Bt.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};gr.FileOperationsFeature=Wu;var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.LinkedEditingRangeFeature=void 0;const $u=re,Hu=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest($u.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};_r.LinkedEditingRangeFeature=Hu;var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.TypeHierarchyFeature=void 0;const fo=re,xu=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(fo.TypeHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:e=>{const n=fo.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:e=>{const n=fo.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};br.TypeHierarchyFeature=xu;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.InlineValueFeature=void 0;const bc=re,zu=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(bc.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(bc.InlineValueRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};hr.InlineValueFeature=zu;var mr={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.FoldingRangeFeature=void 0;const hc=re,Bu=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(hc.FoldingRangeRefreshRequest.type),on:e=>{const n=hc.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};mr.FoldingRangeFeature=Bu;var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.InlayHintFeature=void 0;const go=re,Vu=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(go.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(go.InlayHintRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),resolve:e=>this.connection.onRequest(go.InlayHintResolveRequest.type,(n,r)=>e(n,r))}}};wr.InlayHintFeature=Vu;var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.DiagnosticFeature=void 0;const _n=re,Uu=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(_n.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(_n.DocumentDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(_n.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:e=>this.connection.onRequest(_n.WorkspaceDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(_n.WorkspaceDiagnosticRequest.partialResult,n)))}}};pr.DiagnosticFeature=Uu;var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.MonikerFeature=void 0;const Ju=re,Xu=t=>class extends t{get moniker(){return{on:e=>{const n=Ju.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};yr.MonikerFeature=Xu,Object.defineProperty(H,"__esModule",{value:!0}),H.createConnection=H.combineFeatures=H.combineNotebooksFeatures=H.combineLanguagesFeatures=H.combineWorkspaceFeatures=H.combineWindowFeatures=H.combineClientFeatures=H.combineTracerFeatures=H.combineTelemetryFeatures=H.combineConsoleFeatures=H._NotebooksImpl=H._LanguagesImpl=H.BulkUnregistration=H.BulkRegistration=H.ErrorMessageTracker=void 0;const v=re,Ce=ie,_o=De,O=st,Qu=ar,Yu=ur,Ku=lr,Gu=ze,Zu=fr,ed=gr,td=_r,nd=br,rd=hr,id=mr,od=wr,sd=pr,cd=vt,ad=yr;function bo(t){if(t!==null)return t}class ud{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}}H.ErrorMessageTracker=ud;class mc{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(v.MessageType.Error,e)}warn(e){this.send(v.MessageType.Warning,e)}info(e){this.send(v.MessageType.Info,e)}log(e){this.send(v.MessageType.Log,e)}debug(e){this.send(v.MessageType.Debug,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(v.LogMessageNotification.type,{type:e,message:n}).catch(()=>{(0,v.RAL)().console.error("Sending log message failed")})}}class dd{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:v.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(v.ShowMessageRequest.type,r).then(bo)}showWarningMessage(e,...n){let r={type:v.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(v.ShowMessageRequest.type,r).then(bo)}showInformationMessage(e,...n){let r={type:v.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(v.ShowMessageRequest.type,r).then(bo)}}const wc=(0,Zu.ShowDocumentFeature)((0,O.ProgressFeature)(dd));var pc;(function(t){function e(){return new yc}t.create=e})(pc||(H.BulkRegistration=pc={}));class yc{constructor(){this._registrations=[],this._registered=new Set}add(e,n){const r=Ce.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const i=_o.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var vc;(function(t){function e(){return new ho(void 0,[])}t.create=e})(vc||(H.BulkUnregistration=vc={}));class ho{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(v.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const n=Ce.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(v.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}}class Rc{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof yc?this.registerMany(e):e instanceof ho?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){const i=Ce.string(n)?n:n.method,o=_o.generateUuid();let s={registrations:[{id:o,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(v.RegistrationRequest.type,s).then(u=>(e.add({id:o,method:i}),e),u=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(u)))}registerSingle2(e,n){const r=Ce.string(e)?e:e.method,i=_o.generateUuid();let o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(v.RegistrationRequest.type,o).then(s=>v.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(v.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(v.RegistrationRequest.type,n).then(()=>new ho(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class ld{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(v.ApplyWorkspaceEditRequest.type,r)}}const Dc=(0,ed.FileOperationsFeature)((0,Yu.WorkspaceFoldersFeature)((0,Qu.ConfigurationFeature)(ld)));class Tc{constructor(){this._trace=v.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==v.Trace.Off&&this.connection.sendNotification(v.LogTraceNotification.type,{message:e,verbose:this._trace===v.Trace.Verbose?n:void 0}).catch(()=>{})}}class Pc{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(v.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class kc{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,O.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,O.attachPartialResult)(this.connection,n)}}H._LanguagesImpl=kc;const Sc=(0,id.FoldingRangeFeature)((0,ad.MonikerFeature)((0,sd.DiagnosticFeature)((0,od.InlayHintFeature)((0,rd.InlineValueFeature)((0,nd.TypeHierarchyFeature)((0,td.LinkedEditingRangeFeature)((0,Gu.SemanticTokensFeature)((0,Ku.CallHierarchyFeature)(kc)))))))));class Cc{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,O.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,O.attachPartialResult)(this.connection,n)}}H._NotebooksImpl=Cc;const qc=(0,cd.NotebookSyncFeature)(Cc);function Mc(t,e){return function(n){return e(t(n))}}H.combineConsoleFeatures=Mc;function Oc(t,e){return function(n){return e(t(n))}}H.combineTelemetryFeatures=Oc;function Ec(t,e){return function(n){return e(t(n))}}H.combineTracerFeatures=Ec;function Nc(t,e){return function(n){return e(t(n))}}H.combineClientFeatures=Nc;function jc(t,e){return function(n){return e(t(n))}}H.combineWindowFeatures=jc;function Fc(t,e){return function(n){return e(t(n))}}H.combineWorkspaceFeatures=Fc;function Ic(t,e){return function(n){return e(t(n))}}H.combineLanguagesFeatures=Ic;function Lc(t,e){return function(n){return e(t(n))}}H.combineNotebooksFeatures=Lc;function fd(t,e){function n(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:n(t.console,e.console,Mc),tracer:n(t.tracer,e.tracer,Ec),telemetry:n(t.telemetry,e.telemetry,Oc),client:n(t.client,e.client,Nc),window:n(t.window,e.window,jc),workspace:n(t.workspace,e.workspace,Fc),languages:n(t.languages,e.languages,Ic),notebooks:n(t.notebooks,e.notebooks,Lc)}}H.combineFeatures=fd;function gd(t,e,n){const r=n&&n.console?new(n.console(mc)):new mc,i=t(r);r.rawAttach(i);const o=n&&n.tracer?new(n.tracer(Tc)):new Tc,s=n&&n.telemetry?new(n.telemetry(Pc)):new Pc,u=n&&n.client?new(n.client(Rc)):new Rc,l=n&&n.window?new(n.window(wc)):new wc,f=n&&n.workspace?new(n.workspace(Dc)):new Dc,h=n&&n.languages?new(n.languages(Sc)):new Sc,D=n&&n.notebooks?new(n.notebooks(qc)):new qc,p=[r,o,s,u,l,f,h,D];function C(g){return g instanceof Promise?g:Ce.thenable(g)?new Promise((_,R)=>{g.then(le=>_(le),le=>R(le))}):Promise.resolve(g)}let L,ge,be,A={listen:()=>i.listen(),sendRequest:(g,..._)=>i.sendRequest(Ce.string(g)?g:g.method,..._),onRequest:(g,_)=>i.onRequest(g,_),sendNotification:(g,_)=>{const R=Ce.string(g)?g:g.method;return i.sendNotification(R,_)},onNotification:(g,_)=>i.onNotification(g,_),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:g=>(ge=g,{dispose:()=>{ge=void 0}}),onInitialized:g=>i.onNotification(v.InitializedNotification.type,g),onShutdown:g=>(L=g,{dispose:()=>{L=void 0}}),onExit:g=>(be=g,{dispose:()=>{be=void 0}}),get console(){return r},get telemetry(){return s},get tracer(){return o},get client(){return u},get window(){return l},get workspace(){return f},get languages(){return h},get notebooks(){return D},onDidChangeConfiguration:g=>i.onNotification(v.DidChangeConfigurationNotification.type,g),onDidChangeWatchedFiles:g=>i.onNotification(v.DidChangeWatchedFilesNotification.type,g),__textDocumentSync:void 0,onDidOpenTextDocument:g=>i.onNotification(v.DidOpenTextDocumentNotification.type,g),onDidChangeTextDocument:g=>i.onNotification(v.DidChangeTextDocumentNotification.type,g),onDidCloseTextDocument:g=>i.onNotification(v.DidCloseTextDocumentNotification.type,g),onWillSaveTextDocument:g=>i.onNotification(v.WillSaveTextDocumentNotification.type,g),onWillSaveTextDocumentWaitUntil:g=>i.onRequest(v.WillSaveTextDocumentWaitUntilRequest.type,g),onDidSaveTextDocument:g=>i.onNotification(v.DidSaveTextDocumentNotification.type,g),sendDiagnostics:g=>i.sendNotification(v.PublishDiagnosticsNotification.type,g),onHover:g=>i.onRequest(v.HoverRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),void 0)),onCompletion:g=>i.onRequest(v.CompletionRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onCompletionResolve:g=>i.onRequest(v.CompletionResolveRequest.type,g),onSignatureHelp:g=>i.onRequest(v.SignatureHelpRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),void 0)),onDeclaration:g=>i.onRequest(v.DeclarationRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onDefinition:g=>i.onRequest(v.DefinitionRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onTypeDefinition:g=>i.onRequest(v.TypeDefinitionRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onImplementation:g=>i.onRequest(v.ImplementationRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onReferences:g=>i.onRequest(v.ReferencesRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onDocumentHighlight:g=>i.onRequest(v.DocumentHighlightRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onDocumentSymbol:g=>i.onRequest(v.DocumentSymbolRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onWorkspaceSymbol:g=>i.onRequest(v.WorkspaceSymbolRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onWorkspaceSymbolResolve:g=>i.onRequest(v.WorkspaceSymbolResolveRequest.type,g),onCodeAction:g=>i.onRequest(v.CodeActionRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onCodeActionResolve:g=>i.onRequest(v.CodeActionResolveRequest.type,(_,R)=>g(_,R)),onCodeLens:g=>i.onRequest(v.CodeLensRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onCodeLensResolve:g=>i.onRequest(v.CodeLensResolveRequest.type,(_,R)=>g(_,R)),onDocumentFormatting:g=>i.onRequest(v.DocumentFormattingRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),void 0)),onDocumentRangeFormatting:g=>i.onRequest(v.DocumentRangeFormattingRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),void 0)),onDocumentOnTypeFormatting:g=>i.onRequest(v.DocumentOnTypeFormattingRequest.type,(_,R)=>g(_,R)),onRenameRequest:g=>i.onRequest(v.RenameRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),void 0)),onPrepareRename:g=>i.onRequest(v.PrepareRenameRequest.type,(_,R)=>g(_,R)),onDocumentLinks:g=>i.onRequest(v.DocumentLinkRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onDocumentLinkResolve:g=>i.onRequest(v.DocumentLinkResolveRequest.type,(_,R)=>g(_,R)),onDocumentColor:g=>i.onRequest(v.DocumentColorRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onColorPresentation:g=>i.onRequest(v.ColorPresentationRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onFoldingRanges:g=>i.onRequest(v.FoldingRangeRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onSelectionRanges:g=>i.onRequest(v.SelectionRangeRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),(0,O.attachPartialResult)(i,_))),onExecuteCommand:g=>i.onRequest(v.ExecuteCommandRequest.type,(_,R)=>g(_,R,(0,O.attachWorkDone)(i,_),void 0)),dispose:()=>i.dispose()};for(let g of p)g.attach(A);return i.onRequest(v.InitializeRequest.type,g=>{e.initialize(g),Ce.string(g.trace)&&(o.trace=v.Trace.fromString(g.trace));for(let _ of p)_.initialize(g.capabilities);if(ge){let _=ge(g,new v.CancellationTokenSource().token,(0,O.attachWorkDone)(i,g),void 0);return C(_).then(R=>{if(R instanceof v.ResponseError)return R;let le=R;le||(le={capabilities:{}});let oe=le.capabilities;oe||(oe={},le.capabilities=oe),oe.textDocumentSync===void 0||oe.textDocumentSync===null?oe.textDocumentSync=Ce.number(A.__textDocumentSync)?A.__textDocumentSync:v.TextDocumentSyncKind.None:!Ce.number(oe.textDocumentSync)&&!Ce.number(oe.textDocumentSync.change)&&(oe.textDocumentSync.change=Ce.number(A.__textDocumentSync)?A.__textDocumentSync:v.TextDocumentSyncKind.None);for(let he of p)he.fillServerCapabilities(oe);return le})}else{let _={capabilities:{textDocumentSync:v.TextDocumentSyncKind.None}};for(let R of p)R.fillServerCapabilities(_.capabilities);return _}}),i.onRequest(v.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,L)return L(new v.CancellationTokenSource().token)}),i.onNotification(v.ExitNotification.type,()=>{try{be&&be()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(v.SetTraceNotification.type,g=>{o.trace=v.Trace.fromString(g.value)}),A}H.createConnection=gd,function(t){var e=ue&&ue.__createBinding||(Object.create?function(l,f,h,D){D===void 0&&(D=h);var p=Object.getOwnPropertyDescriptor(f,h);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(l,D,p)}:function(l,f,h,D){D===void 0&&(D=h),l[D]=f[h]}),n=ue&&ue.__exportStar||function(l,f){for(var h in l)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&e(f,l,h)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.NotebookDocuments=t.TextDocuments=t.SemanticTokensBuilder=void 0;const r=ze;Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=cr;n(re,t);const o=gn;Object.defineProperty(t,"TextDocuments",{enumerable:!0,get:function(){return o.TextDocuments}});const s=vt;Object.defineProperty(t,"NotebookDocuments",{enumerable:!0,get:function(){return s.NotebookDocuments}}),n(H,t);var u;(function(l){l.all={__brand:"features",languages:i.InlineCompletionFeature}})(u||(t.ProposedFeatures=u={}))}(Ur);var _d=re;(function(t){var e=ue&&ue.__createBinding||(Object.create?function(u,l,f,h){h===void 0&&(h=f);var D=Object.getOwnPropertyDescriptor(l,f);(!D||("get"in D?!l.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(u,h,D)}:function(u,l,f,h){h===void 0&&(h=f),u[h]=l[f]}),n=ue&&ue.__exportStar||function(u,l){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(l,f)&&e(l,u,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=void 0;const r=Ur;n(_d,t),n(Ur,t);let i=!1;const o={initialize:u=>{},get shutdownReceived(){return i},set shutdownReceived(u){i=u},exit:u=>{}};function s(u,l,f,h){let D,p,C,L;u!==void 0&&u.__brand==="features"&&(D=u,u=l,l=f,f=h),r.ConnectionStrategy.is(u)||r.ConnectionOptions.is(u)?L=u:(p=u,C=l,L=f);const ge=be=>(0,r.createProtocolConnection)(p,C,be,L);return(0,r.createConnection)(ge,o,D)}t.createConnection=s})(To);var mo=To;Do({}).then(()=>{const t=new mo.BrowserMessageReader(self),e=new mo.BrowserMessageWriter(self);let n;const r=mo.createConnection(t,e);function i(u,l){return r.sendNotification(u,l),!0}async function o(u,l){return await r.sendRequest(u,l)}async function s(u){return await r.sendRequest("slint/load_file",u)}r.onInitialize(u=>(n=Wc(u,i,o,s),setTimeout(()=>{n.startup_lsp()},0),n.server_initialize_result(u.capabilities))),r.onRequest(async(u,l,f)=>await n.handle_request(f,u,l)),r.onNotification("slint/preview_to_lsp",async u=>{await n.process_preview_to_lsp_message(u)}),r.onDidChangeWatchedFiles(async u=>{for(const l of u.changes)await n.trigger_file_watcher(l.uri)}),r.onDidOpenTextDocument(async u=>{await n.open_document(u.textDocument.text,u.textDocument.uri,u.textDocument.version)}),r.onDidChangeTextDocument(async u=>{await n.reload_document(u.contentChanges[u.contentChanges.length-1].text,u.textDocument.uri,u.textDocument.version)}),r.onDidCloseTextDocument(async u=>{await n.close_document(u.textDocument.uri)}),r.onDidChangeConfiguration(async u=>{await n.reload_config()}),r.listen(),self.postMessage("OK")})})();
